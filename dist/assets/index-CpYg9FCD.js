function $P(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var eJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var E2={exports:{}},W0={},T2={exports:{}},Mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5;function KP(){if(R5)return Mr;R5=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function x(re){return re===null||typeof re!="object"?null:(re=p&&re[p]||re["@@iterator"],typeof re=="function"?re:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function T(re,S,U){this.props=re,this.context=S,this.refs=w,this.updater=U||m}T.prototype.isReactComponent={},T.prototype.setState=function(re,S){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,S,"setState")},T.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function P(){}P.prototype=T.prototype;function j(re,S,U){this.props=re,this.context=S,this.refs=w,this.updater=U||m}var D=j.prototype=new P;D.constructor=j,E(D,T.prototype),D.isPureReactComponent=!0;var q=Array.isArray,se=Object.prototype.hasOwnProperty,Q={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function A(re,S,U){var W,K={},ie=null,pe=null;if(S!=null)for(W in S.ref!==void 0&&(pe=S.ref),S.key!==void 0&&(ie=""+S.key),S)se.call(S,W)&&!F.hasOwnProperty(W)&&(K[W]=S[W]);var Ee=arguments.length-2;if(Ee===1)K.children=U;else if(1<Ee){for(var xe=Array(Ee),Ae=0;Ae<Ee;Ae++)xe[Ae]=arguments[Ae+2];K.children=xe}if(re&&re.defaultProps)for(W in Ee=re.defaultProps,Ee)K[W]===void 0&&(K[W]=Ee[W]);return{$$typeof:r,type:re,key:ie,ref:pe,props:K,_owner:Q.current}}function b(re,S){return{$$typeof:r,type:re.type,key:S,ref:re.ref,props:re.props,_owner:re._owner}}function M(re){return typeof re=="object"&&re!==null&&re.$$typeof===r}function C(re){var S={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(U){return S[U]})}var N=/\/+/g;function B(re,S){return typeof re=="object"&&re!==null&&re.key!=null?C(""+re.key):S.toString(36)}function ce(re,S,U,W,K){var ie=typeof re;(ie==="undefined"||ie==="boolean")&&(re=null);var pe=!1;if(re===null)pe=!0;else switch(ie){case"string":case"number":pe=!0;break;case"object":switch(re.$$typeof){case r:case e:pe=!0}}if(pe)return pe=re,K=K(pe),re=W===""?"."+B(pe,0):W,q(K)?(U="",re!=null&&(U=re.replace(N,"$&/")+"/"),ce(K,S,U,"",function(Ae){return Ae})):K!=null&&(M(K)&&(K=b(K,U+(!K.key||pe&&pe.key===K.key?"":(""+K.key).replace(N,"$&/")+"/")+re)),S.push(K)),1;if(pe=0,W=W===""?".":W+":",q(re))for(var Ee=0;Ee<re.length;Ee++){ie=re[Ee];var xe=W+B(ie,Ee);pe+=ce(ie,S,U,xe,K)}else if(xe=x(re),typeof xe=="function")for(re=xe.call(re),Ee=0;!(ie=re.next()).done;)ie=ie.value,xe=W+B(ie,Ee++),pe+=ce(ie,S,U,xe,K);else if(ie==="object")throw S=String(re),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.");return pe}function be(re,S,U){if(re==null)return re;var W=[],K=0;return ce(re,W,"","",function(ie){return S.call(U,ie,K++)}),W}function ke(re){if(re._status===-1){var S=re._result;S=S(),S.then(function(U){(re._status===0||re._status===-1)&&(re._status=1,re._result=U)},function(U){(re._status===0||re._status===-1)&&(re._status=2,re._result=U)}),re._status===-1&&(re._status=0,re._result=S)}if(re._status===1)return re._result.default;throw re._result}var Te={current:null},de={transition:null},te={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:de,ReactCurrentOwner:Q};function Ce(){throw Error("act(...) is not supported in production builds of React.")}return Mr.Children={map:be,forEach:function(re,S,U){be(re,function(){S.apply(this,arguments)},U)},count:function(re){var S=0;return be(re,function(){S++}),S},toArray:function(re){return be(re,function(S){return S})||[]},only:function(re){if(!M(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},Mr.Component=T,Mr.Fragment=t,Mr.Profiler=i,Mr.PureComponent=j,Mr.StrictMode=n,Mr.Suspense=c,Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Mr.act=Ce,Mr.cloneElement=function(re,S,U){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var W=E({},re.props),K=re.key,ie=re.ref,pe=re._owner;if(S!=null){if(S.ref!==void 0&&(ie=S.ref,pe=Q.current),S.key!==void 0&&(K=""+S.key),re.type&&re.type.defaultProps)var Ee=re.type.defaultProps;for(xe in S)se.call(S,xe)&&!F.hasOwnProperty(xe)&&(W[xe]=S[xe]===void 0&&Ee!==void 0?Ee[xe]:S[xe])}var xe=arguments.length-2;if(xe===1)W.children=U;else if(1<xe){Ee=Array(xe);for(var Ae=0;Ae<xe;Ae++)Ee[Ae]=arguments[Ae+2];W.children=Ee}return{$$typeof:r,type:re.type,key:K,ref:ie,props:W,_owner:pe}},Mr.createContext=function(re){return re={$$typeof:a,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:s,_context:re},re.Consumer=re},Mr.createElement=A,Mr.createFactory=function(re){var S=A.bind(null,re);return S.type=re,S},Mr.createRef=function(){return{current:null}},Mr.forwardRef=function(re){return{$$typeof:o,render:re}},Mr.isValidElement=M,Mr.lazy=function(re){return{$$typeof:h,_payload:{_status:-1,_result:re},_init:ke}},Mr.memo=function(re,S){return{$$typeof:f,type:re,compare:S===void 0?null:S}},Mr.startTransition=function(re){var S=de.transition;de.transition={};try{re()}finally{de.transition=S}},Mr.unstable_act=Ce,Mr.useCallback=function(re,S){return Te.current.useCallback(re,S)},Mr.useContext=function(re){return Te.current.useContext(re)},Mr.useDebugValue=function(){},Mr.useDeferredValue=function(re){return Te.current.useDeferredValue(re)},Mr.useEffect=function(re,S){return Te.current.useEffect(re,S)},Mr.useId=function(){return Te.current.useId()},Mr.useImperativeHandle=function(re,S,U){return Te.current.useImperativeHandle(re,S,U)},Mr.useInsertionEffect=function(re,S){return Te.current.useInsertionEffect(re,S)},Mr.useLayoutEffect=function(re,S){return Te.current.useLayoutEffect(re,S)},Mr.useMemo=function(re,S){return Te.current.useMemo(re,S)},Mr.useReducer=function(re,S,U){return Te.current.useReducer(re,S,U)},Mr.useRef=function(re){return Te.current.useRef(re)},Mr.useState=function(re){return Te.current.useState(re)},Mr.useSyncExternalStore=function(re,S,U){return Te.current.useSyncExternalStore(re,S,U)},Mr.useTransition=function(){return Te.current.useTransition()},Mr.version="18.3.1",Mr}var L5;function Ny(){return L5||(L5=1,T2.exports=KP()),T2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5;function XP(){if(F5)return W0;F5=1;var r=Ny(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,f){var h,p={},x=null,m=null;f!==void 0&&(x=""+f),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(m=c.ref);for(h in c)n.call(c,h)&&!s.hasOwnProperty(h)&&(p[h]=c[h]);if(o&&o.defaultProps)for(h in c=o.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:o,key:x,ref:m,props:p,_owner:i.current}}return W0.Fragment=t,W0.jsx=a,W0.jsxs=a,W0}var D5;function YP(){return D5||(D5=1,E2.exports=XP()),E2.exports}var z=YP(),Xe=Ny();const QP=vA(Xe),JP=$P({__proto__:null,default:QP},[Xe]);var xm={},b2={exports:{}},Xa={},A2={exports:{}},S2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5;function ZP(){return O5||(O5=1,(function(r){function e(de,te){var Ce=de.length;de.push(te);e:for(;0<Ce;){var re=Ce-1>>>1,S=de[re];if(0<i(S,te))de[re]=te,de[Ce]=S,Ce=re;else break e}}function t(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var te=de[0],Ce=de.pop();if(Ce!==te){de[0]=Ce;e:for(var re=0,S=de.length,U=S>>>1;re<U;){var W=2*(re+1)-1,K=de[W],ie=W+1,pe=de[ie];if(0>i(K,Ce))ie<S&&0>i(pe,K)?(de[re]=pe,de[ie]=Ce,re=ie):(de[re]=K,de[W]=Ce,re=W);else if(ie<S&&0>i(pe,Ce))de[re]=pe,de[ie]=Ce,re=ie;else break e}}return te}function i(de,te){var Ce=de.sortIndex-te.sortIndex;return Ce!==0?Ce:de.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var c=[],f=[],h=1,p=null,x=3,m=!1,E=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(de){for(var te=t(f);te!==null;){if(te.callback===null)n(f);else if(te.startTime<=de)n(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=t(f)}}function q(de){if(w=!1,D(de),!E)if(t(c)!==null)E=!0,ke(se);else{var te=t(f);te!==null&&Te(q,te.startTime-de)}}function se(de,te){E=!1,w&&(w=!1,P(A),A=-1),m=!0;var Ce=x;try{for(D(te),p=t(c);p!==null&&(!(p.expirationTime>te)||de&&!C());){var re=p.callback;if(typeof re=="function"){p.callback=null,x=p.priorityLevel;var S=re(p.expirationTime<=te);te=r.unstable_now(),typeof S=="function"?p.callback=S:p===t(c)&&n(c),D(te)}else n(c);p=t(c)}if(p!==null)var U=!0;else{var W=t(f);W!==null&&Te(q,W.startTime-te),U=!1}return U}finally{p=null,x=Ce,m=!1}}var Q=!1,F=null,A=-1,b=5,M=-1;function C(){return!(r.unstable_now()-M<b)}function N(){if(F!==null){var de=r.unstable_now();M=de;var te=!0;try{te=F(!0,de)}finally{te?B():(Q=!1,F=null)}}else Q=!1}var B;if(typeof j=="function")B=function(){j(N)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,be=ce.port2;ce.port1.onmessage=N,B=function(){be.postMessage(null)}}else B=function(){T(N,0)};function ke(de){F=de,Q||(Q=!0,B())}function Te(de,te){A=T(function(){de(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){E||m||(E=!0,ke(se))},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(de){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var Ce=x;x=te;try{return de()}finally{x=Ce}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,te){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Ce=x;x=de;try{return te()}finally{x=Ce}},r.unstable_scheduleCallback=function(de,te,Ce){var re=r.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?re+Ce:re):Ce=re,de){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=Ce+S,de={id:h++,callback:te,priorityLevel:de,startTime:Ce,expirationTime:S,sortIndex:-1},Ce>re?(de.sortIndex=Ce,e(f,de),t(c)===null&&de===t(f)&&(w?(P(A),A=-1):w=!0,Te(q,Ce-re))):(de.sortIndex=S,e(c,de),E||m||(E=!0,ke(se))),de},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(de){var te=x;return function(){var Ce=x;x=te;try{return de.apply(this,arguments)}finally{x=Ce}}}})(S2)),S2}var M5;function e6(){return M5||(M5=1,A2.exports=ZP()),A2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function t6(){if(B5)return Xa;B5=1;var r=Ny(),e=e6();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,u){a(l,u),a(l+"Capture",u)}function a(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function x(l){return c.call(p,l)?!0:c.call(h,l)?!1:f.test(l)?p[l]=!0:(h[l]=!0,!1)}function m(l,u,d,y){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function E(l,u,d,y){if(u===null||typeof u>"u"||m(l,u,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,d,y,k,O,Z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=d,this.propertyName=l,this.type=u,this.sanitizeURL=O,this.removeEmptyString=Z}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){T[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];T[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){T[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){T[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){T[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){T[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){T[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){T[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){T[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function j(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(P,j);T[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(P,j);T[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(P,j);T[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){T[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){T[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function D(l,u,d,y){var k=T.hasOwnProperty(u)?T[u]:null;(k!==null?k.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(E(u,d,k,y)&&(d=null),y||k===null?x(u)&&(d===null?l.removeAttribute(u):l.setAttribute(u,""+d)):k.mustUseProperty?l[k.propertyName]=d===null?k.type===3?!1:"":d:(u=k.attributeName,y=k.attributeNamespace,d===null?l.removeAttribute(u):(k=k.type,d=k===3||k===4&&d===!0?"":""+d,y?l.setAttributeNS(y,u,d):l.setAttribute(u,d))))}var q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),Q=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),de=Symbol.iterator;function te(l){return l===null||typeof l!="object"?null:(l=de&&l[de]||l["@@iterator"],typeof l=="function"?l:null)}var Ce=Object.assign,re;function S(l){if(re===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);re=u&&u[1]||""}return`
`+re+l}var U=!1;function W(l,u){if(!l||U)return"";U=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Je){var y=Je}Reflect.construct(l,[],u)}else{try{u.call()}catch(Je){y=Je}l.call(u.prototype)}else{try{throw Error()}catch(Je){y=Je}l()}}catch(Je){if(Je&&y&&typeof Je.stack=="string"){for(var k=Je.stack.split(`
`),O=y.stack.split(`
`),Z=k.length-1,Se=O.length-1;1<=Z&&0<=Se&&k[Z]!==O[Se];)Se--;for(;1<=Z&&0<=Se;Z--,Se--)if(k[Z]!==O[Se]){if(Z!==1||Se!==1)do if(Z--,Se--,0>Se||k[Z]!==O[Se]){var Pe=`
`+k[Z].replace(" at new "," at ");return l.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",l.displayName)),Pe}while(1<=Z&&0<=Se);break}}}finally{U=!1,Error.prepareStackTrace=d}return(l=l?l.displayName||l.name:"")?S(l):""}function K(l){switch(l.tag){case 5:return S(l.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 2:case 15:return l=W(l.type,!1),l;case 11:return l=W(l.type.render,!1),l;case 1:return l=W(l.type,!0),l;default:return""}}function ie(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case F:return"Fragment";case Q:return"Portal";case b:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case ce:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case C:return(l.displayName||"Context")+".Consumer";case M:return(l._context.displayName||"Context")+".Provider";case N:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case be:return u=l.displayName||null,u!==null?u:ie(l.type)||"Memo";case ke:u=l._payload,l=l._init;try{return ie(l(u))}catch{}}return null}function pe(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(u);case 8:return u===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ee(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function xe(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ae(l){var u=xe(l)?"checked":"value",d=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var k=d.get,O=d.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return k.call(this)},set:function(Z){y=""+Z,O.call(this,Z)}}),Object.defineProperty(l,u,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(Z){y=""+Z},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Me(l){l._valueTracker||(l._valueTracker=Ae(l))}function ae(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var d=u.getValue(),y="";return l&&(y=xe(l)?l.checked?"true":"false":l.value),l=y,l!==d?(u.setValue(l),!0):!1}function at(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Re(l,u){var d=u.checked;return Ce({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??l._wrapperState.initialChecked})}function G(l,u){var d=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;d=Ee(u.value!=null?u.value:d),l._wrapperState={initialChecked:y,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Fe(l,u){u=u.checked,u!=null&&D(l,"checked",u,!1)}function $e(l,u){Fe(l,u);var d=Ee(u.value),y=u.type;if(d!=null)y==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+d):l.value!==""+d&&(l.value=""+d);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?tt(l,u.type,d):u.hasOwnProperty("defaultValue")&&tt(l,u.type,Ee(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function nt(l,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,d||u===l.value||(l.value=u),l.defaultValue=u}d=l.name,d!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,d!==""&&(l.name=d)}function tt(l,u,d){(u!=="number"||at(l.ownerDocument)!==l)&&(d==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+d&&(l.defaultValue=""+d))}var _t=Array.isArray;function ut(l,u,d,y){if(l=l.options,u){u={};for(var k=0;k<d.length;k++)u["$"+d[k]]=!0;for(d=0;d<l.length;d++)k=u.hasOwnProperty("$"+l[d].value),l[d].selected!==k&&(l[d].selected=k),k&&y&&(l[d].defaultSelected=!0)}else{for(d=""+Ee(d),u=null,k=0;k<l.length;k++){if(l[k].value===d){l[k].selected=!0,y&&(l[k].defaultSelected=!0);return}u!==null||l[k].disabled||(u=l[k])}u!==null&&(u.selected=!0)}}function Wt(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return Ce({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Rt(l,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(t(92));if(_t(d)){if(1<d.length)throw Error(t(93));d=d[0]}u=d}u==null&&(u=""),d=u}l._wrapperState={initialValue:Ee(d)}}function Bt(l,u){var d=Ee(u.value),y=Ee(u.defaultValue);d!=null&&(d=""+d,d!==l.value&&(l.value=d),u.defaultValue==null&&l.defaultValue!==d&&(l.defaultValue=d)),y!=null&&(l.defaultValue=""+y)}function Ot(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function bt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?bt(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Pt,Lt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,y,k){MSApp.execUnsafeLocalFunction(function(){return l(u,d,y,k)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Pt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function yt(l,u){if(u){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=u;return}}l.textContent=u}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(l){tr.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),Tt[u]=Tt[l]})});function Yt(l,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||Tt.hasOwnProperty(l)&&Tt[l]?(""+u).trim():u+"px"}function Ft(l,u){l=l.style;for(var d in u)if(u.hasOwnProperty(d)){var y=d.indexOf("--")===0,k=Yt(d,u[d],y);d==="float"&&(d="cssFloat"),y?l.setProperty(d,k):l[d]=k}}var fr=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wr(l,u){if(u){if(fr[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function rr(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function lr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var hn=null,Xr=null,Nr=null;function ir(l){if(l=cu(l)){if(typeof hn!="function")throw Error(t(280));var u=l.stateNode;u&&(u=If(u),hn(l.stateNode,l.type,u))}}function kr(l){Xr?Nr?Nr.push(l):Nr=[l]:Xr=l}function ka(){if(Xr){var l=Xr,u=Nr;if(Nr=Xr=null,ir(l),u)for(l=0;l<u.length;l++)ir(u[l])}}function On(l,u){return l(u)}function Rs(){}var vi=!1;function nr(l,u,d){if(vi)return l(u,d);vi=!0;try{return On(l,u,d)}finally{vi=!1,(Xr!==null||Nr!==null)&&(Rs(),ka())}}function en(l,u){var d=l.stateNode;if(d===null)return null;var y=If(d);if(y===null)return null;d=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(t(231,u,typeof d));return d}var ps=!1;if(o)try{var An={};Object.defineProperty(An,"passive",{get:function(){ps=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{ps=!1}function xi(l,u,d,y,k,O,Z,Se,Pe){var Je=Array.prototype.slice.call(arguments,3);try{u.apply(d,Je)}catch(vt){this.onError(vt)}}var cn=!1,Rn=null,J=!1,ye=null,fe={onError:function(l){cn=!0,Rn=l}};function he(l,u,d,y,k,O,Z,Se,Pe){cn=!1,Rn=null,xi.apply(fe,arguments)}function _e(l,u,d,y,k,O,Z,Se,Pe){if(he.apply(this,arguments),cn){if(cn){var Je=Rn;cn=!1,Rn=null}else throw Error(t(198));J||(J=!0,ye=Je)}}function we(l){var u=l,d=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(d=u.return),l=u.return;while(l)}return u.tag===3?d:null}function je(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Qe(l){if(we(l)!==l)throw Error(t(188))}function qe(l){var u=l.alternate;if(!u){if(u=we(l),u===null)throw Error(t(188));return u!==l?null:l}for(var d=l,y=u;;){var k=d.return;if(k===null)break;var O=k.alternate;if(O===null){if(y=k.return,y!==null){d=y;continue}break}if(k.child===O.child){for(O=k.child;O;){if(O===d)return Qe(k),l;if(O===y)return Qe(k),u;O=O.sibling}throw Error(t(188))}if(d.return!==y.return)d=k,y=O;else{for(var Z=!1,Se=k.child;Se;){if(Se===d){Z=!0,d=k,y=O;break}if(Se===y){Z=!0,y=k,d=O;break}Se=Se.sibling}if(!Z){for(Se=O.child;Se;){if(Se===d){Z=!0,d=O,y=k;break}if(Se===y){Z=!0,y=O,d=k;break}Se=Se.sibling}if(!Z)throw Error(t(189))}}if(d.alternate!==y)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?l:u}function He(l){return l=qe(l),l!==null?Ke(l):null}function Ke(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Ke(l);if(u!==null)return u;l=l.sibling}return null}var ht=e.unstable_scheduleCallback,At=e.unstable_cancelCallback,Ct=e.unstable_shouldYield,Et=e.unstable_requestPaint,mt=e.unstable_now,cr=e.unstable_getCurrentPriorityLevel,Ur=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,Gr=e.unstable_NormalPriority,Ks=e.unstable_LowPriority,Xs=e.unstable_IdlePriority,ms=null,Mn=null;function to(l){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(ms,l,void 0,(l.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:lc,oc=Math.log,Hn=Math.LN2;function lc(l){return l>>>=0,l===0?32:31-(oc(l)/Hn|0)|0}var Xo=64,Ys=4194304;function Qs(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Zi(l,u){var d=l.pendingLanes;if(d===0)return 0;var y=0,k=l.suspendedLanes,O=l.pingedLanes,Z=d&268435455;if(Z!==0){var Se=Z&~k;Se!==0?y=Qs(Se):(O&=Z,O!==0&&(y=Qs(O)))}else Z=d&~k,Z!==0?y=Qs(Z):O!==0&&(y=Qs(O));if(y===0)return 0;if(u!==0&&u!==y&&(u&k)===0&&(k=y&-y,O=u&-u,k>=O||k===16&&(O&4194240)!==0))return u;if((y&4)!==0&&(y|=d&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)d=31-un(u),k=1<<d,y|=l[d],u&=~k;return y}function Yo(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(l,u){for(var d=l.suspendedLanes,y=l.pingedLanes,k=l.expirationTimes,O=l.pendingLanes;0<O;){var Z=31-un(O),Se=1<<Z,Pe=k[Z];Pe===-1?((Se&d)===0||(Se&y)!==0)&&(k[Z]=Yo(Se,u)):Pe<=u&&(l.expiredLanes|=Se),O&=~Se}}function es(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Qo(){var l=Xo;return Xo<<=1,(Xo&4194240)===0&&(Xo=64),l}function So(l){for(var u=[],d=0;31>d;d++)u.push(l);return u}function ko(l,u,d){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-un(u),l[u]=d}function Fr(l,u){var d=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<d;){var k=31-un(d),O=1<<k;u[k]=0,y[k]=-1,l[k]=-1,d&=~O}}function ro(l,u){var d=l.entangledLanes|=u;for(l=l.entanglements;d;){var y=31-un(d),k=1<<y;k&u|l[y]&u&&(l[y]|=u),d&=~k}}var Pr=0;function Ls(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Al,Sl,Yc,Qc,kl,no=!1,ts=[],Ni=null,rs=null,Fs=null,or=new Map,Js=new Map,Va=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(l,u){switch(l){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":or.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(u.pointerId)}}function Xn(l,u,d,y,k,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:d,eventSystemFlags:y,nativeEvent:O,targetContainers:[k]},u!==null&&(u=cu(u),u!==null&&Sl(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),l)}function io(l,u,d,y,k){switch(u){case"focusin":return Ni=Xn(Ni,l,u,d,y,k),!0;case"dragenter":return rs=Xn(rs,l,u,d,y,k),!0;case"mouseover":return Fs=Xn(Fs,l,u,d,y,k),!0;case"pointerover":var O=k.pointerId;return or.set(O,Xn(or.get(O)||null,l,u,d,y,k)),!0;case"gotpointercapture":return O=k.pointerId,Js.set(O,Xn(Js.get(O)||null,l,u,d,y,k)),!0}return!1}function Zc(l){var u=Dl(l.target);if(u!==null){var d=we(u);if(d!==null){if(u=d.tag,u===13){if(u=je(d),u!==null){l.blockedOn=u,kl(l.priority,function(){Yc(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function so(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var d=Co(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(d===null){d=l.nativeEvent;var y=new d.constructor(d.type,d);wr=y,d.target.dispatchEvent(y),wr=null}else return u=cu(d),u!==null&&Sl(u),l.blockedOn=d,!1;u.shift()}return!0}function ja(l,u,d){so(l)&&d.delete(u)}function Il(){no=!1,Ni!==null&&so(Ni)&&(Ni=null),rs!==null&&so(rs)&&(rs=null),Fs!==null&&so(Fs)&&(Fs=null),or.forEach(ja),Js.forEach(ja)}function ns(l,u){l.blockedOn===u&&(l.blockedOn=null,no||(no=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Il)))}function gs(l){function u(k){return ns(k,l)}if(0<ts.length){ns(ts[0],l);for(var d=1;d<ts.length;d++){var y=ts[d];y.blockedOn===l&&(y.blockedOn=null)}}for(Ni!==null&&ns(Ni,l),rs!==null&&ns(rs,l),Fs!==null&&ns(Fs,l),or.forEach(u),Js.forEach(u),d=0;d<Va.length;d++)y=Va[d],y.blockedOn===l&&(y.blockedOn=null);for(;0<Va.length&&(d=Va[0],d.blockedOn===null);)Zc(d),d.blockedOn===null&&Va.shift()}var Zs=q.ReactCurrentBatchConfig,Io=!0;function mn(l,u,d,y){var k=Pr,O=Zs.transition;Zs.transition=null;try{Pr=1,ao(l,u,d,y)}finally{Pr=k,Zs.transition=O}}function cc(l,u,d,y){var k=Pr,O=Zs.transition;Zs.transition=null;try{Pr=4,ao(l,u,d,y)}finally{Pr=k,Zs.transition=O}}function ao(l,u,d,y){if(Io){var k=Co(l,u,d,y);if(k===null)Af(l,u,y,Ia,d),Jc(l,y);else if(io(k,l,u,d,y))y.stopPropagation();else if(Jc(l,y),u&4&&-1<xf.indexOf(l)){for(;k!==null;){var O=cu(k);if(O!==null&&Al(O),O=Co(l,u,d,y),O===null&&Af(l,u,y,Ia,d),O===k)break;k=O}k!==null&&y.stopPropagation()}else Af(l,u,y,null,d)}}var Ia=null;function Co(l,u,d,y){if(Ia=null,l=lr(y),l=Dl(l),l!==null)if(u=we(l),u===null)l=null;else if(d=u.tag,d===13){if(l=je(u),l!==null)return l;l=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Ia=l,null}function No(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cr()){case Ur:return 1;case Er:return 4;case Gr:case Ks:return 16;case Xs:return 536870912;default:return 16}default:return 16}}var is=null,Ua=null,zi=null;function Jo(){if(zi)return zi;var l,u=Ua,d=u.length,y,k="value"in is?is.value:is.textContent,O=k.length;for(l=0;l<d&&u[l]===k[l];l++);var Z=d-l;for(y=1;y<=Z&&u[d-y]===k[O-y];y++);return zi=k.slice(l,1<y?1-y:void 0)}function qi(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Pi(){return!0}function I(){return!1}function X(l){function u(d,y,k,O,Z){this._reactName=d,this._targetInst=k,this.type=y,this.nativeEvent=O,this.target=Z,this.currentTarget=null;for(var Se in l)l.hasOwnProperty(Se)&&(d=l[Se],this[Se]=d?d(O):O[Se]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Pi:I,this.isPropagationStopped=I,this}return Ce(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),u}var ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ie=X(ge),Oe=Ce({},ge,{view:0,detail:0}),ot=X(Oe),ft,Dt,Ut,ar=Ce({},Oe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ut&&(Ut&&l.type==="mousemove"?(ft=l.screenX-Ut.screenX,Dt=l.screenY-Ut.screenY):Dt=ft=0,Ut=l),ft)},movementY:function(l){return"movementY"in l?l.movementY:Dt}}),pr=X(ar),Vr=Ce({},ar,{dataTransfer:0}),Sn=X(Vr),Ln=Ce({},Oe,{relatedTarget:0}),$r=X(Ln),Yn=Ce({},ge,{animationName:0,elapsedTime:0,pseudoElement:0}),gn=X(Yn),yi=Ce({},ge,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),za=X(yi),oo=Ce({},ge,{data:0}),uc=X(oo),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ea={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ea[l])?!!u[l]:!1}function Ds(){return Cl}var v=Ce({},Oe,{key:function(l){if(l.key){var u=Zo[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=qi(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?oi[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(l){return l.type==="keypress"?qi(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?qi(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),L=X(v),H=Ce({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),le=X(H),Be=Ce({},Oe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),et=X(Be),xt=Ce({},ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yr=X(xt),Bn=Ce({},ar,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=X(Bn),Dr=[9,13,27,32],tn=o&&"CompositionEvent"in window,vs=null;o&&"documentMode"in document&&(vs=document.documentMode);var ss=o&&"TextEvent"in window&&!vs,ta=o&&(!tn||vs&&8<vs&&11>=vs),lo=" ",Os=!1;function Ms(l,u){switch(l){case"keyup":return Dr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Bs=!1;function Pl(l,u){switch(l){case"compositionend":return Nl(u);case"keypress":return u.which!==32?null:(Os=!0,lo);case"textInput":return l=u.data,l===lo&&Os?null:l;default:return null}}function yf(l,u){if(Bs)return l==="compositionend"||!tn&&Ms(l,u)?(l=Jo(),zi=Ua=is=null,Bs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ta&&u.locale!=="ko"?null:u.data;default:return null}}var Rl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Rl[l.type]:u==="textarea"}function Rh(l,u,d,y){kr(y),u=Bh(u,"onChange"),0<u.length&&(d=new Ie("onChange","change",null,d,y),l.push({event:d,listeners:u}))}var ra=null,na=null;function eu(l){Tf(l,0)}function Ll(l){var u=xc(l);if(ae(u))return l}function tu(l,u){if(l==="change")return u}var fc=!1;if(o){var el;if(o){var tl="oninput"in document;if(!tl){var Po=document.createElement("div");Po.setAttribute("oninput","return;"),tl=typeof Po.oninput=="function"}el=tl}else el=!1;fc=el&&(!document.documentMode||9<document.documentMode)}function ru(){ra&&(ra.detachEvent("onpropertychange",ia),na=ra=null)}function ia(l){if(l.propertyName==="value"&&Ll(na)){var u=[];Rh(u,na,l,lr(l)),nr(eu,u)}}function Ro(l,u,d){l==="focusin"?(ru(),ra=u,na=d,ra.attachEvent("onpropertychange",ia)):l==="focusout"&&ru()}function kn(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ll(na)}function In(l,u){if(l==="click")return Ll(u)}function li(l,u){if(l==="input"||l==="change")return Ll(u)}function ci(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ri=typeof Object.is=="function"?Object.is:ci;function Lo(l,u){if(Ri(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var d=Object.keys(l),y=Object.keys(u);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var k=d[y];if(!c.call(u,k)||!Ri(l[k],u[k]))return!1}return!0}function co(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function nu(l,u){var d=co(l);l=0;for(var y;d;){if(d.nodeType===3){if(y=l+d.textContent.length,l<=u&&y>=u)return{node:d,offset:u-l};l=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=co(d)}}function y0(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?y0(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function _0(){for(var l=window,u=at();u instanceof l.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)l=u.contentWindow;else break;u=at(l.document)}return u}function Lh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function O1(l){var u=_0(),d=l.focusedElem,y=l.selectionRange;if(u!==d&&d&&d.ownerDocument&&y0(d.ownerDocument.documentElement,d)){if(y!==null&&Lh(d)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(l,d.value.length);else if(l=(u=d.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var k=d.textContent.length,O=Math.min(y.start,k);y=y.end===void 0?O:Math.min(y.end,k),!l.extend&&O>y&&(k=y,y=O,O=k),k=nu(d,O);var Z=nu(d,y);k&&Z&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==Z.node||l.focusOffset!==Z.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),l.removeAllRanges(),O>y?(l.addRange(u),l.extend(Z.node,Z.offset)):(u.setEnd(Z.node,Z.offset),l.addRange(u)))}}for(u=[],l=d;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)l=u[d],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var M1=o&&"documentMode"in document&&11>=document.documentMode,hc=null,Fh=null,iu=null,Dh=!1;function w0(l,u,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Dh||hc==null||hc!==at(y)||(y=hc,"selectionStart"in y&&Lh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),iu&&Lo(iu,y)||(iu=y,y=Bh(Fh,"onSelect"),0<y.length&&(u=new Ie("onSelect","select",null,u,d),l.push({event:u,listeners:y}),u.target=hc)))}function _f(l,u){var d={};return d[l.toLowerCase()]=u.toLowerCase(),d["Webkit"+l]="webkit"+u,d["Moz"+l]="moz"+u,d}var dc={animationend:_f("Animation","AnimationEnd"),animationiteration:_f("Animation","AnimationIteration"),animationstart:_f("Animation","AnimationStart"),transitionend:_f("Transition","TransitionEnd")},pc={},E0={};o&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function wf(l){if(pc[l])return pc[l];if(!dc[l])return l;var u=dc[l],d;for(d in u)if(u.hasOwnProperty(d)&&d in E0)return pc[l]=u[d];return l}var T0=wf("animationend"),b0=wf("animationiteration"),A0=wf("animationstart"),S0=wf("transitionend"),k0=new Map,I0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(l,u){k0.set(l,u),s(u,[l])}for(var su=0;su<I0.length;su++){var Vs=I0[su],qa=Vs.toLowerCase(),Oh=Vs[0].toUpperCase()+Vs.slice(1);Fo(qa,"on"+Oh)}Fo(T0,"onAnimationEnd"),Fo(b0,"onAnimationIteration"),Fo(A0,"onAnimationStart"),Fo("dblclick","onDoubleClick"),Fo("focusin","onFocus"),Fo("focusout","onBlur"),Fo(S0,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function Ef(l,u,d){var y=l.type||"unknown-event";l.currentTarget=d,_e(y,u,void 0,l),l.currentTarget=null}function Tf(l,u){u=(u&4)!==0;for(var d=0;d<l.length;d++){var y=l[d],k=y.event;y=y.listeners;e:{var O=void 0;if(u)for(var Z=y.length-1;0<=Z;Z--){var Se=y[Z],Pe=Se.instance,Je=Se.currentTarget;if(Se=Se.listener,Pe!==O&&k.isPropagationStopped())break e;Ef(k,Se,Je),O=Pe}else for(Z=0;Z<y.length;Z++){if(Se=y[Z],Pe=Se.instance,Je=Se.currentTarget,Se=Se.listener,Pe!==O&&k.isPropagationStopped())break e;Ef(k,Se,Je),O=Pe}}}if(J)throw l=ye,J=!1,ye=null,l}function yn(l,u){var d=u[aa];d===void 0&&(d=u[aa]=new Set);var y=l+"__bubble";d.has(y)||(bf(u,l,2,!1),d.add(y))}function Mh(l,u,d){var y=0;u&&(y|=4),bf(d,l,y,u)}var au="_reactListening"+Math.random().toString(36).slice(2);function mc(l){if(!l[au]){l[au]=!0,n.forEach(function(d){d!=="selectionchange"&&(B1.has(d)||Mh(d,!1,l),Mh(d,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[au]||(u[au]=!0,Mh("selectionchange",!1,u))}}function bf(l,u,d,y){switch(No(u)){case 1:var k=mn;break;case 4:k=cc;break;default:k=ao}d=k.bind(null,u,d,l),k=void 0,!ps||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),y?k!==void 0?l.addEventListener(u,d,{capture:!0,passive:k}):l.addEventListener(u,d,!0):k!==void 0?l.addEventListener(u,d,{passive:k}):l.addEventListener(u,d,!1)}function Af(l,u,d,y,k){var O=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var Z=y.tag;if(Z===3||Z===4){var Se=y.stateNode.containerInfo;if(Se===k||Se.nodeType===8&&Se.parentNode===k)break;if(Z===4)for(Z=y.return;Z!==null;){var Pe=Z.tag;if((Pe===3||Pe===4)&&(Pe=Z.stateNode.containerInfo,Pe===k||Pe.nodeType===8&&Pe.parentNode===k))return;Z=Z.return}for(;Se!==null;){if(Z=Dl(Se),Z===null)return;if(Pe=Z.tag,Pe===5||Pe===6){y=O=Z;continue e}Se=Se.parentNode}}y=y.return}nr(function(){var Je=O,vt=lr(d),wt=[];e:{var gt=k0.get(l);if(gt!==void 0){var Mt=Ie,$t=l;switch(l){case"keypress":if(qi(d)===0)break e;case"keydown":case"keyup":Mt=L;break;case"focusin":$t="focus",Mt=$r;break;case"focusout":$t="blur",Mt=$r;break;case"beforeblur":case"afterblur":Mt=$r;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=et;break;case T0:case b0:case A0:Mt=gn;break;case S0:Mt=Yr;break;case"scroll":Mt=ot;break;case"wheel":Mt=Rr;break;case"copy":case"cut":case"paste":Mt=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=le}var Qt=(u&4)!==0,Di=!Qt&&l==="scroll",We=Qt?gt!==null?gt+"Capture":null:gt;Qt=[];for(var De=Je,Ye;De!==null;){Ye=De;var St=Ye.stateNode;if(Ye.tag===5&&St!==null&&(Ye=St,We!==null&&(St=en(De,We),St!=null&&Qt.push(Sf(De,St,Ye)))),Di)break;De=De.return}0<Qt.length&&(gt=new Mt(gt,$t,null,d,vt),wt.push({event:gt,listeners:Qt}))}}if((u&7)===0){e:{if(gt=l==="mouseover"||l==="pointerover",Mt=l==="mouseout"||l==="pointerout",gt&&d!==wr&&($t=d.relatedTarget||d.fromElement)&&(Dl($t)||$t[xs]))break e;if((Mt||gt)&&(gt=vt.window===vt?vt:(gt=vt.ownerDocument)?gt.defaultView||gt.parentWindow:window,Mt?($t=d.relatedTarget||d.toElement,Mt=Je,$t=$t?Dl($t):null,$t!==null&&(Di=we($t),$t!==Di||$t.tag!==5&&$t.tag!==6)&&($t=null)):(Mt=null,$t=Je),Mt!==$t)){if(Qt=pr,St="onMouseLeave",We="onMouseEnter",De="mouse",(l==="pointerout"||l==="pointerover")&&(Qt=le,St="onPointerLeave",We="onPointerEnter",De="pointer"),Di=Mt==null?gt:xc(Mt),Ye=$t==null?gt:xc($t),gt=new Qt(St,De+"leave",Mt,d,vt),gt.target=Di,gt.relatedTarget=Ye,St=null,Dl(vt)===Je&&(Qt=new Qt(We,De+"enter",$t,d,vt),Qt.target=Ye,Qt.relatedTarget=Di,St=Qt),Di=St,Mt&&$t)t:{for(Qt=Mt,We=$t,De=0,Ye=Qt;Ye;Ye=gc(Ye))De++;for(Ye=0,St=We;St;St=gc(St))Ye++;for(;0<De-Ye;)Qt=gc(Qt),De--;for(;0<Ye-De;)We=gc(We),Ye--;for(;De--;){if(Qt===We||We!==null&&Qt===We.alternate)break t;Qt=gc(Qt),We=gc(We)}Qt=null}else Qt=null;Mt!==null&&V1(wt,gt,Mt,Qt,!1),$t!==null&&Di!==null&&V1(wt,Di,$t,Qt,!0)}}e:{if(gt=Je?xc(Je):window,Mt=gt.nodeName&&gt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&gt.type==="file")var Zt=tu;else if(Qn(gt))if(fc)Zt=li;else{Zt=kn;var hr=Ro}else(Mt=gt.nodeName)&&Mt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(Zt=In);if(Zt&&(Zt=Zt(l,Je))){Rh(wt,Zt,d,vt);break e}hr&&hr(l,gt,Je),l==="focusout"&&(hr=gt._wrapperState)&&hr.controlled&&gt.type==="number"&&tt(gt,"number",gt.value)}switch(hr=Je?xc(Je):window,l){case"focusin":(Qn(hr)||hr.contentEditable==="true")&&(hc=hr,Fh=Je,iu=null);break;case"focusout":iu=Fh=hc=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,w0(wt,d,vt);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":w0(wt,d,vt)}var dr;if(tn)e:{switch(l){case"compositionstart":var xr="onCompositionStart";break e;case"compositionend":xr="onCompositionEnd";break e;case"compositionupdate":xr="onCompositionUpdate";break e}xr=void 0}else Bs?Ms(l,d)&&(xr="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(xr="onCompositionStart");xr&&(ta&&d.locale!=="ko"&&(Bs||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&Bs&&(dr=Jo()):(is=vt,Ua="value"in is?is.value:is.textContent,Bs=!0)),hr=Bh(Je,xr),0<hr.length&&(xr=new uc(xr,l,null,d,vt),wt.push({event:xr,listeners:hr}),dr?xr.data=dr:(dr=Nl(d),dr!==null&&(xr.data=dr)))),(dr=ss?Pl(l,d):yf(l,d))&&(Je=Bh(Je,"onBeforeInput"),0<Je.length&&(vt=new uc("onBeforeInput","beforeinput",null,d,vt),wt.push({event:vt,listeners:Je}),vt.data=dr))}Tf(wt,u)})}function Sf(l,u,d){return{instance:l,listener:u,currentTarget:d}}function Bh(l,u){for(var d=u+"Capture",y=[];l!==null;){var k=l,O=k.stateNode;k.tag===5&&O!==null&&(k=O,O=en(l,d),O!=null&&y.unshift(Sf(l,O,k)),O=en(l,u),O!=null&&y.push(Sf(l,O,k))),l=l.return}return y}function gc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function V1(l,u,d,y,k){for(var O=u._reactName,Z=[];d!==null&&d!==y;){var Se=d,Pe=Se.alternate,Je=Se.stateNode;if(Pe!==null&&Pe===y)break;Se.tag===5&&Je!==null&&(Se=Je,k?(Pe=en(d,O),Pe!=null&&Z.unshift(Sf(d,Pe,Se))):k||(Pe=en(d,O),Pe!=null&&Z.push(Sf(d,Pe,Se)))),d=d.return}Z.length!==0&&l.push({event:u,listeners:Z})}var Ov=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function j1(l){return(typeof l=="string"?l:""+l).replace(Ov,`
`).replace(Mv,"")}function Vh(l,u,d){if(u=j1(u),j1(l)!==u&&d)throw Error(t(425))}function ou(){}var kf=null,vc=null;function C0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var N0=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,Bv=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(l){return z1.resolve(null).then(l).catch(Vv)}:N0;function Vv(l){setTimeout(function(){throw l})}function P0(l,u){var d=u,y=0;do{var k=d.nextSibling;if(l.removeChild(d),k&&k.nodeType===8)if(d=k.data,d==="/$"){if(y===0){l.removeChild(k),gs(u);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=k}while(d);gs(u)}function js(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Ha(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return l;u--}else d==="/$"&&u++}l=l.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Do="__reactFiber$"+sa,lu="__reactProps$"+sa,xs="__reactContainer$"+sa,aa="__reactEvents$"+sa,jv="__reactListeners$"+sa,Uv="__reactHandles$"+sa;function Dl(l){var u=l[Do];if(u)return u;for(var d=l.parentNode;d;){if(u=d[xs]||d[Do]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(l=Ha(l);l!==null;){if(d=l[Do])return d;l=Ha(l)}return u}l=d,d=l.parentNode}return null}function cu(l){return l=l[Do]||l[xs],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function xc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function If(l){return l[lu]||null}var R0=[],rl=-1;function uo(l){return{current:l}}function pn(l){0>rl||(l.current=R0[rl],R0[rl]=null,rl--)}function vn(l,u){rl++,R0[rl]=l.current,l.current=u}var Ol={},as=uo(Ol),oa=uo(!1),yc=Ol;function uu(l,u){var d=l.type.contextTypes;if(!d)return Ol;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var k={},O;for(O in d)k[O]=u[O];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=k),k}function la(l){return l=l.childContextTypes,l!=null}function jh(){pn(oa),pn(as)}function q1(l,u,d){if(as.current!==Ol)throw Error(t(168));vn(as,u),vn(oa,d)}function L0(l,u,d){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var k in y)if(!(k in u))throw Error(t(108,pe(l)||"Unknown",k));return Ce({},d,y)}function _c(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ol,yc=as.current,vn(as,l),vn(oa,oa.current),!0}function H1(l,u,d){var y=l.stateNode;if(!y)throw Error(t(169));d?(l=L0(l,u,yc),y.__reactInternalMemoizedMergedChildContext=l,pn(oa),pn(as),vn(as,l)):pn(oa),vn(oa,d)}var nl=null,Cf=!1,g=!1;function _(l){nl===null?nl=[l]:nl.push(l)}function R(l){Cf=!0,_(l)}function V(){if(!g&&nl!==null){g=!0;var l=0,u=Pr;try{var d=nl;for(Pr=1;l<d.length;l++){var y=d[l];do y=y(!0);while(y!==null)}nl=null,Cf=!1}catch(k){throw nl!==null&&(nl=nl.slice(l+1)),ht(Ur,V),k}finally{Pr=u,g=!1}}return null}var Y=[],ee=0,ne=null,oe=0,ue=[],me=0,Ne=null,ze=1,ve="";function Le(l,u){Y[ee++]=oe,Y[ee++]=ne,ne=l,oe=u}function Ve(l,u,d){ue[me++]=ze,ue[me++]=ve,ue[me++]=Ne,Ne=l;var y=ze;l=ve;var k=32-un(y)-1;y&=~(1<<k),d+=1;var O=32-un(u)+k;if(30<O){var Z=k-k%5;O=(y&(1<<Z)-1).toString(32),y>>=Z,k-=Z,ze=1<<32-un(u)+k|d<<k|y,ve=O+l}else ze=1<<O|d<<k|y,ve=l}function st(l){l.return!==null&&(Le(l,1),Ve(l,1,0))}function Ge(l){for(;l===ne;)ne=Y[--ee],Y[ee]=null,oe=Y[--ee],Y[ee]=null;for(;l===Ne;)Ne=ue[--me],ue[me]=null,ve=ue[--me],ue[me]=null,ze=ue[--me],ue[me]=null}var rt=null,it=null,lt=!1,ct=null;function Jt(l,u){var d=jo(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=l,u=l.deletions,u===null?(l.deletions=[d],l.flags|=16):u.push(d)}function zt(l,u){switch(l.tag){case 5:var d=l.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,rt=l,it=js(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,rt=l,it=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=Ne!==null?{id:ze,overflow:ve}:null,l.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=jo(18,null,null,0),d.stateNode=u,d.return=l,l.child=d,rt=l,it=null,!0):!1;default:return!1}}function Tr(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Gt(l){if(lt){var u=it;if(u){var d=u;if(!zt(l,u)){if(Tr(l))throw Error(t(418));u=js(d.nextSibling);var y=rt;u&&zt(l,u)?Jt(y,d):(l.flags=l.flags&-4097|2,lt=!1,rt=l)}}else{if(Tr(l))throw Error(t(418));l.flags=l.flags&-4097|2,lt=!1,rt=l}}}function Or(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;rt=l}function Jn(l){if(l!==rt)return!1;if(!lt)return Or(l),lt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!C0(l.type,l.memoizedProps)),u&&(u=it)){if(Tr(l))throw br(),Error(t(418));for(;u;)Jt(l,u),u=js(u.nextSibling)}if(Or(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"){if(u===0){it=js(l.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}l=l.nextSibling}it=null}}else it=rt?js(l.stateNode.nextSibling):null;return!0}function br(){for(var l=it;l;)l=js(l.nextSibling)}function qt(){it=rt=null,lt=!1}function kt(l){ct===null?ct=[l]:ct.push(l)}var ui=q.ReactCurrentBatchConfig;function mr(l,u,d){if(l=d.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var y=d.stateNode}if(!y)throw Error(t(147,l));var k=y,O=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(Z){var Se=k.refs;Z===null?delete Se[O]:Se[O]=Z},u._stringRef=O,u)}if(typeof l!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,l))}return l}function Lr(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Cn(l){var u=l._init;return u(l._payload)}function Hi(l){function u(We,De){if(l){var Ye=We.deletions;Ye===null?(We.deletions=[De],We.flags|=16):Ye.push(De)}}function d(We,De){if(!l)return null;for(;De!==null;)u(We,De),De=De.sibling;return null}function y(We,De){for(We=new Map;De!==null;)De.key!==null?We.set(De.key,De):We.set(De.index,De),De=De.sibling;return We}function k(We,De){return We=_u(We,De),We.index=0,We.sibling=null,We}function O(We,De,Ye){return We.index=Ye,l?(Ye=We.alternate,Ye!==null?(Ye=Ye.index,Ye<De?(We.flags|=2,De):Ye):(We.flags|=2,De)):(We.flags|=1048576,De)}function Z(We){return l&&We.alternate===null&&(We.flags|=2),We}function Se(We,De,Ye,St){return De===null||De.tag!==6?(De=g2(Ye,We.mode,St),De.return=We,De):(De=k(De,Ye),De.return=We,De)}function Pe(We,De,Ye,St){var Zt=Ye.type;return Zt===F?vt(We,De,Ye.props.children,St,Ye.key):De!==null&&(De.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===ke&&Cn(Zt)===De.type)?(St=k(De,Ye.props),St.ref=mr(We,De,Ye),St.return=We,St):(St=um(Ye.type,Ye.key,Ye.props,null,We.mode,St),St.ref=mr(We,De,Ye),St.return=We,St)}function Je(We,De,Ye,St){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ye.containerInfo||De.stateNode.implementation!==Ye.implementation?(De=v2(Ye,We.mode,St),De.return=We,De):(De=k(De,Ye.children||[]),De.return=We,De)}function vt(We,De,Ye,St,Zt){return De===null||De.tag!==7?(De=Mf(Ye,We.mode,St,Zt),De.return=We,De):(De=k(De,Ye),De.return=We,De)}function wt(We,De,Ye){if(typeof De=="string"&&De!==""||typeof De=="number")return De=g2(""+De,We.mode,Ye),De.return=We,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case se:return Ye=um(De.type,De.key,De.props,null,We.mode,Ye),Ye.ref=mr(We,null,De),Ye.return=We,Ye;case Q:return De=v2(De,We.mode,Ye),De.return=We,De;case ke:var St=De._init;return wt(We,St(De._payload),Ye)}if(_t(De)||te(De))return De=Mf(De,We.mode,Ye,null),De.return=We,De;Lr(We,De)}return null}function gt(We,De,Ye,St){var Zt=De!==null?De.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Zt!==null?null:Se(We,De,""+Ye,St);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case se:return Ye.key===Zt?Pe(We,De,Ye,St):null;case Q:return Ye.key===Zt?Je(We,De,Ye,St):null;case ke:return Zt=Ye._init,gt(We,De,Zt(Ye._payload),St)}if(_t(Ye)||te(Ye))return Zt!==null?null:vt(We,De,Ye,St,null);Lr(We,Ye)}return null}function Mt(We,De,Ye,St,Zt){if(typeof St=="string"&&St!==""||typeof St=="number")return We=We.get(Ye)||null,Se(De,We,""+St,Zt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case se:return We=We.get(St.key===null?Ye:St.key)||null,Pe(De,We,St,Zt);case Q:return We=We.get(St.key===null?Ye:St.key)||null,Je(De,We,St,Zt);case ke:var hr=St._init;return Mt(We,De,Ye,hr(St._payload),Zt)}if(_t(St)||te(St))return We=We.get(Ye)||null,vt(De,We,St,Zt,null);Lr(De,St)}return null}function $t(We,De,Ye,St){for(var Zt=null,hr=null,dr=De,xr=De=0,Ts=null;dr!==null&&xr<Ye.length;xr++){dr.index>xr?(Ts=dr,dr=null):Ts=dr.sibling;var fn=gt(We,dr,Ye[xr],St);if(fn===null){dr===null&&(dr=Ts);break}l&&dr&&fn.alternate===null&&u(We,dr),De=O(fn,De,xr),hr===null?Zt=fn:hr.sibling=fn,hr=fn,dr=Ts}if(xr===Ye.length)return d(We,dr),lt&&Le(We,xr),Zt;if(dr===null){for(;xr<Ye.length;xr++)dr=wt(We,Ye[xr],St),dr!==null&&(De=O(dr,De,xr),hr===null?Zt=dr:hr.sibling=dr,hr=dr);return lt&&Le(We,xr),Zt}for(dr=y(We,dr);xr<Ye.length;xr++)Ts=Mt(dr,We,xr,Ye[xr],St),Ts!==null&&(l&&Ts.alternate!==null&&dr.delete(Ts.key===null?xr:Ts.key),De=O(Ts,De,xr),hr===null?Zt=Ts:hr.sibling=Ts,hr=Ts);return l&&dr.forEach(function(wu){return u(We,wu)}),lt&&Le(We,xr),Zt}function Qt(We,De,Ye,St){var Zt=te(Ye);if(typeof Zt!="function")throw Error(t(150));if(Ye=Zt.call(Ye),Ye==null)throw Error(t(151));for(var hr=Zt=null,dr=De,xr=De=0,Ts=null,fn=Ye.next();dr!==null&&!fn.done;xr++,fn=Ye.next()){dr.index>xr?(Ts=dr,dr=null):Ts=dr.sibling;var wu=gt(We,dr,fn.value,St);if(wu===null){dr===null&&(dr=Ts);break}l&&dr&&wu.alternate===null&&u(We,dr),De=O(wu,De,xr),hr===null?Zt=wu:hr.sibling=wu,hr=wu,dr=Ts}if(fn.done)return d(We,dr),lt&&Le(We,xr),Zt;if(dr===null){for(;!fn.done;xr++,fn=Ye.next())fn=wt(We,fn.value,St),fn!==null&&(De=O(fn,De,xr),hr===null?Zt=fn:hr.sibling=fn,hr=fn);return lt&&Le(We,xr),Zt}for(dr=y(We,dr);!fn.done;xr++,fn=Ye.next())fn=Mt(dr,We,xr,fn.value,St),fn!==null&&(l&&fn.alternate!==null&&dr.delete(fn.key===null?xr:fn.key),De=O(fn,De,xr),hr===null?Zt=fn:hr.sibling=fn,hr=fn);return l&&dr.forEach(function(GP){return u(We,GP)}),lt&&Le(We,xr),Zt}function Di(We,De,Ye,St){if(typeof Ye=="object"&&Ye!==null&&Ye.type===F&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case se:e:{for(var Zt=Ye.key,hr=De;hr!==null;){if(hr.key===Zt){if(Zt=Ye.type,Zt===F){if(hr.tag===7){d(We,hr.sibling),De=k(hr,Ye.props.children),De.return=We,We=De;break e}}else if(hr.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===ke&&Cn(Zt)===hr.type){d(We,hr.sibling),De=k(hr,Ye.props),De.ref=mr(We,hr,Ye),De.return=We,We=De;break e}d(We,hr);break}else u(We,hr);hr=hr.sibling}Ye.type===F?(De=Mf(Ye.props.children,We.mode,St,Ye.key),De.return=We,We=De):(St=um(Ye.type,Ye.key,Ye.props,null,We.mode,St),St.ref=mr(We,De,Ye),St.return=We,We=St)}return Z(We);case Q:e:{for(hr=Ye.key;De!==null;){if(De.key===hr)if(De.tag===4&&De.stateNode.containerInfo===Ye.containerInfo&&De.stateNode.implementation===Ye.implementation){d(We,De.sibling),De=k(De,Ye.children||[]),De.return=We,We=De;break e}else{d(We,De);break}else u(We,De);De=De.sibling}De=v2(Ye,We.mode,St),De.return=We,We=De}return Z(We);case ke:return hr=Ye._init,Di(We,De,hr(Ye._payload),St)}if(_t(Ye))return $t(We,De,Ye,St);if(te(Ye))return Qt(We,De,Ye,St);Lr(We,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"?(Ye=""+Ye,De!==null&&De.tag===6?(d(We,De.sibling),De=k(De,Ye),De.return=We,We=De):(d(We,De),De=g2(Ye,We.mode,St),De.return=We,We=De),Z(We)):d(We,De)}return Di}var _i=Hi(!0),Wn=Hi(!1),Li=uo(null),Wi=null,Vn=null,jr=null;function rn(){jr=Vn=Wi=null}function jn(l){var u=Li.current;pn(Li),l._currentValue=u}function nn(l,u,d){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===d)break;l=l.return}}function Zn(l,u){Wi=l,jr=Vn=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Ga=!0),l.firstContext=null)}function ei(l){var u=l._currentValue;if(jr!==l)if(l={context:l,memoizedValue:u,next:null},Vn===null){if(Wi===null)throw Error(t(308));Vn=l,Wi.dependencies={lanes:0,firstContext:l}}else Vn=Vn.next=l;return u}var _n=null;function ys(l){_n===null?_n=[l]:_n.push(l)}function xn(l,u,d,y){var k=u.interleaved;return k===null?(d.next=d,ys(u)):(d.next=k.next,k.next=d),u.interleaved=d,wn(l,y)}function wn(l,u){l.lanes|=u;var d=l.alternate;for(d!==null&&(d.lanes|=u),d=l,l=l.return;l!==null;)l.childLanes|=u,d=l.alternate,d!==null&&(d.childLanes|=u),d=l,l=l.return;return d.tag===3?d.stateNode:null}var wi=!1;function os(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ca(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function fi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function hi(l,u,d){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(sn&2)!==0){var k=y.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),y.pending=u,wn(l,d)}return k=y.interleaved,k===null?(u.next=u,ys(y)):(u.next=k.next,k.next=u),y.interleaved=u,wn(l,d)}function _s(l,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,d|=y,u.lanes=d,ro(l,d)}}function En(l,u){var d=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var k=null,O=null;if(d=d.firstBaseUpdate,d!==null){do{var Z={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};O===null?k=O=Z:O=O.next=Z,d=d.next}while(d!==null);O===null?k=O=u:O=O.next=u}else k=O=u;d={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:O,shared:y.shared,effects:y.effects},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=u}function ws(l,u,d,y){var k=l.updateQueue;wi=!1;var O=k.firstBaseUpdate,Z=k.lastBaseUpdate,Se=k.shared.pending;if(Se!==null){k.shared.pending=null;var Pe=Se,Je=Pe.next;Pe.next=null,Z===null?O=Je:Z.next=Je,Z=Pe;var vt=l.alternate;vt!==null&&(vt=vt.updateQueue,Se=vt.lastBaseUpdate,Se!==Z&&(Se===null?vt.firstBaseUpdate=Je:Se.next=Je,vt.lastBaseUpdate=Pe))}if(O!==null){var wt=k.baseState;Z=0,vt=Je=Pe=null,Se=O;do{var gt=Se.lane,Mt=Se.eventTime;if((y&gt)===gt){vt!==null&&(vt=vt.next={eventTime:Mt,lane:0,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null});e:{var $t=l,Qt=Se;switch(gt=u,Mt=d,Qt.tag){case 1:if($t=Qt.payload,typeof $t=="function"){wt=$t.call(Mt,wt,gt);break e}wt=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Qt.payload,gt=typeof $t=="function"?$t.call(Mt,wt,gt):$t,gt==null)break e;wt=Ce({},wt,gt);break e;case 2:wi=!0}}Se.callback!==null&&Se.lane!==0&&(l.flags|=64,gt=k.effects,gt===null?k.effects=[Se]:gt.push(Se))}else Mt={eventTime:Mt,lane:gt,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},vt===null?(Je=vt=Mt,Pe=wt):vt=vt.next=Mt,Z|=gt;if(Se=Se.next,Se===null){if(Se=k.shared.pending,Se===null)break;gt=Se,Se=gt.next,gt.next=null,k.lastBaseUpdate=gt,k.shared.pending=null}}while(!0);if(vt===null&&(Pe=wt),k.baseState=Pe,k.firstBaseUpdate=Je,k.lastBaseUpdate=vt,u=k.shared.interleaved,u!==null){k=u;do Z|=k.lane,k=k.next;while(k!==u)}else O===null&&(k.shared.lanes=0);Lf|=Z,l.lanes=Z,l.memoizedState=wt}}function Wa(l,u,d){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],k=y.callback;if(k!==null){if(y.callback=null,y=d,typeof k!="function")throw Error(t(191,k));k.call(y)}}}var fo={},Gi=uo(fo),di=uo(fo),Ml=uo(fo);function il(l){if(l===fo)throw Error(t(174));return l}function fu(l,u){switch(vn(Ml,u),vn(di,l),vn(Gi,fo),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Vt(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Vt(u,l)}pn(Gi),vn(Gi,u)}function Oo(){pn(Gi),pn(di),pn(Ml)}function W1(l){il(Ml.current);var u=il(Gi.current),d=Vt(u,l.type);u!==d&&(vn(di,l),vn(Gi,d))}function F0(l){di.current===l&&(pn(Gi),pn(di))}var Fn=uo(0);function ho(l){for(var u=l;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var D0=[];function O0(){for(var l=0;l<D0.length;l++)D0[l]._workInProgressVersionPrimary=null;D0.length=0}var Uh=q.ReactCurrentDispatcher,zh=q.ReactCurrentBatchConfig,Mo=0,Un=null,Ei=null,pi=null,hu=!1,sl=!1,du=0,zv=0;function Fi(){throw Error(t(321))}function qh(l,u){if(u===null)return!1;for(var d=0;d<u.length&&d<l.length;d++)if(!Ri(l[d],u[d]))return!1;return!0}function Nf(l,u,d,y,k,O){if(Mo=O,Un=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Uh.current=l===null||l.memoizedState===null?xP:yP,l=d(y,k),sl){O=0;do{if(sl=!1,du=0,25<=O)throw Error(t(301));O+=1,pi=Ei=null,u.updateQueue=null,Uh.current=_P,l=d(y,k)}while(sl)}if(Uh.current=Y1,u=Ei!==null&&Ei.next!==null,Mo=0,pi=Ei=Un=null,hu=!1,u)throw Error(t(300));return l}function Bo(){var l=du!==0;return du=0,l}function po(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Un.memoizedState=pi=l:pi=pi.next=l,pi}function Ca(){if(Ei===null){var l=Un.alternate;l=l!==null?l.memoizedState:null}else l=Ei.next;var u=pi===null?Un.memoizedState:pi.next;if(u!==null)pi=u,Ei=l;else{if(l===null)throw Error(t(310));Ei=l,l={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},pi===null?Un.memoizedState=pi=l:pi=pi.next=l}return pi}function Pf(l,u){return typeof u=="function"?u(l):u}function Hh(l){var u=Ca(),d=u.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=l;var y=Ei,k=y.baseQueue,O=d.pending;if(O!==null){if(k!==null){var Z=k.next;k.next=O.next,O.next=Z}y.baseQueue=k=O,d.pending=null}if(k!==null){O=k.next,y=y.baseState;var Se=Z=null,Pe=null,Je=O;do{var vt=Je.lane;if((Mo&vt)===vt)Pe!==null&&(Pe=Pe.next={lane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),y=Je.hasEagerState?Je.eagerState:l(y,Je.action);else{var wt={lane:vt,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};Pe===null?(Se=Pe=wt,Z=y):Pe=Pe.next=wt,Un.lanes|=vt,Lf|=vt}Je=Je.next}while(Je!==null&&Je!==O);Pe===null?Z=y:Pe.next=Se,Ri(y,u.memoizedState)||(Ga=!0),u.memoizedState=y,u.baseState=Z,u.baseQueue=Pe,d.lastRenderedState=y}if(l=d.interleaved,l!==null){k=l;do O=k.lane,Un.lanes|=O,Lf|=O,k=k.next;while(k!==l)}else k===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Bl(l){var u=Ca(),d=u.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=l;var y=d.dispatch,k=d.pending,O=u.memoizedState;if(k!==null){d.pending=null;var Z=k=k.next;do O=l(O,Z.action),Z=Z.next;while(Z!==k);Ri(O,u.memoizedState)||(Ga=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),d.lastRenderedState=O}return[O,y]}function G1(){}function M0(l,u){var d=Un,y=Ca(),k=u(),O=!Ri(y.memoizedState,k);if(O&&(y.memoizedState=k,Ga=!0),y=y.queue,$h(K1.bind(null,d,y,l),[l]),y.getSnapshot!==u||O||pi!==null&&pi.memoizedState.tag&1){if(d.flags|=2048,Na(9,B0.bind(null,d,y,k,u),void 0,null),Es===null)throw Error(t(349));(Mo&30)!==0||$1(d,u,k)}return k}function $1(l,u,d){l.flags|=16384,l={getSnapshot:u,value:d},u=Un.updateQueue,u===null?(u={lastEffect:null,stores:null},Un.updateQueue=u,u.stores=[l]):(d=u.stores,d===null?u.stores=[l]:d.push(l))}function B0(l,u,d,y){u.value=d,u.getSnapshot=y,pu(u)&&Wh(l)}function K1(l,u,d){return d(function(){pu(u)&&Wh(l)})}function pu(l){var u=l.getSnapshot;l=l.value;try{var d=u();return!Ri(l,d)}catch{return!0}}function Wh(l){var u=wn(l,1);u!==null&&ul(u,l,1,-1)}function Rf(l){var u=po();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:l},u.queue=l,l=l.dispatch=vP.bind(null,Un,l),[u.memoizedState,l]}function Na(l,u,d,y){return l={tag:l,create:u,destroy:d,deps:y,next:null},u=Un.updateQueue,u===null?(u={lastEffect:null,stores:null},Un.updateQueue=u,u.lastEffect=l.next=l):(d=u.lastEffect,d===null?u.lastEffect=l.next=l:(y=d.next,d.next=l,l.next=y,u.lastEffect=l)),l}function al(){return Ca().memoizedState}function mo(l,u,d,y){var k=po();Un.flags|=l,k.memoizedState=Na(1|u,d,void 0,y===void 0?null:y)}function wc(l,u,d,y){var k=Ca();y=y===void 0?null:y;var O=void 0;if(Ei!==null){var Z=Ei.memoizedState;if(O=Z.destroy,y!==null&&qh(y,Z.deps)){k.memoizedState=Na(u,d,O,y);return}}Un.flags|=l,k.memoizedState=Na(1|u,d,O,y)}function Gh(l,u){return mo(8390656,8,l,u)}function $h(l,u){return wc(2048,8,l,u)}function X1(l,u){return wc(4,2,l,u)}function Kh(l,u){return wc(4,4,l,u)}function Xh(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Nw(l,u,d){return d=d!=null?d.concat([l]):null,wc(4,4,Xh.bind(null,u,l),d)}function qv(){}function Pw(l,u){var d=Ca();u=u===void 0?null:u;var y=d.memoizedState;return y!==null&&u!==null&&qh(u,y[1])?y[0]:(d.memoizedState=[l,u],l)}function Rw(l,u){var d=Ca();u=u===void 0?null:u;var y=d.memoizedState;return y!==null&&u!==null&&qh(u,y[1])?y[0]:(l=l(),d.memoizedState=[l,u],l)}function Lw(l,u,d){return(Mo&21)===0?(l.baseState&&(l.baseState=!1,Ga=!0),l.memoizedState=d):(Ri(d,u)||(d=Qo(),Un.lanes|=d,Lf|=d,l.baseState=!0),u)}function mP(l,u){var d=Pr;Pr=d!==0&&4>d?d:4,l(!0);var y=zh.transition;zh.transition={};try{l(!1),u()}finally{Pr=d,zh.transition=y}}function Fw(){return Ca().memoizedState}function gP(l,u,d){var y=xu(l);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},Dw(l))Ow(u,d);else if(d=xn(l,u,d,y),d!==null){var k=Ra();ul(d,l,y,k),Mw(d,u,y)}}function vP(l,u,d){var y=xu(l),k={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(Dw(l))Ow(u,k);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var Z=u.lastRenderedState,Se=O(Z,d);if(k.hasEagerState=!0,k.eagerState=Se,Ri(Se,Z)){var Pe=u.interleaved;Pe===null?(k.next=k,ys(u)):(k.next=Pe.next,Pe.next=k),u.interleaved=k;return}}catch{}finally{}d=xn(l,u,k,y),d!==null&&(k=Ra(),ul(d,l,y,k),Mw(d,u,y))}}function Dw(l){var u=l.alternate;return l===Un||u!==null&&u===Un}function Ow(l,u){sl=hu=!0;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}function Mw(l,u,d){if((d&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,d|=y,u.lanes=d,ro(l,d)}}var Y1={readContext:ei,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},xP={readContext:ei,useCallback:function(l,u){return po().memoizedState=[l,u===void 0?null:u],l},useContext:ei,useEffect:Gh,useImperativeHandle:function(l,u,d){return d=d!=null?d.concat([l]):null,mo(4194308,4,Xh.bind(null,u,l),d)},useLayoutEffect:function(l,u){return mo(4194308,4,l,u)},useInsertionEffect:function(l,u){return mo(4,2,l,u)},useMemo:function(l,u){var d=po();return u=u===void 0?null:u,l=l(),d.memoizedState=[l,u],l},useReducer:function(l,u,d){var y=po();return u=d!==void 0?d(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=gP.bind(null,Un,l),[y.memoizedState,l]},useRef:function(l){var u=po();return l={current:l},u.memoizedState=l},useState:Rf,useDebugValue:qv,useDeferredValue:function(l){return po().memoizedState=l},useTransition:function(){var l=Rf(!1),u=l[0];return l=mP.bind(null,l[1]),po().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,d){var y=Un,k=po();if(lt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=u(),Es===null)throw Error(t(349));(Mo&30)!==0||$1(y,u,d)}k.memoizedState=d;var O={value:d,getSnapshot:u};return k.queue=O,Gh(K1.bind(null,y,O,l),[l]),y.flags|=2048,Na(9,B0.bind(null,y,O,d,u),void 0,null),d},useId:function(){var l=po(),u=Es.identifierPrefix;if(lt){var d=ve,y=ze;d=(y&~(1<<32-un(y)-1)).toString(32)+d,u=":"+u+"R"+d,d=du++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=zv++,u=":"+u+"r"+d.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},yP={readContext:ei,useCallback:Pw,useContext:ei,useEffect:$h,useImperativeHandle:Nw,useInsertionEffect:X1,useLayoutEffect:Kh,useMemo:Rw,useReducer:Hh,useRef:al,useState:function(){return Hh(Pf)},useDebugValue:qv,useDeferredValue:function(l){var u=Ca();return Lw(u,Ei.memoizedState,l)},useTransition:function(){var l=Hh(Pf)[0],u=Ca().memoizedState;return[l,u]},useMutableSource:G1,useSyncExternalStore:M0,useId:Fw,unstable_isNewReconciler:!1},_P={readContext:ei,useCallback:Pw,useContext:ei,useEffect:$h,useImperativeHandle:Nw,useInsertionEffect:X1,useLayoutEffect:Kh,useMemo:Rw,useReducer:Bl,useRef:al,useState:function(){return Bl(Pf)},useDebugValue:qv,useDeferredValue:function(l){var u=Ca();return Ei===null?u.memoizedState=l:Lw(u,Ei.memoizedState,l)},useTransition:function(){var l=Bl(Pf)[0],u=Ca().memoizedState;return[l,u]},useMutableSource:G1,useSyncExternalStore:M0,useId:Fw,unstable_isNewReconciler:!1};function ol(l,u){if(l&&l.defaultProps){u=Ce({},u),l=l.defaultProps;for(var d in l)u[d]===void 0&&(u[d]=l[d]);return u}return u}function Hv(l,u,d,y){u=l.memoizedState,d=d(y,u),d=d==null?u:Ce({},u,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var Q1={isMounted:function(l){return(l=l._reactInternals)?we(l)===l:!1},enqueueSetState:function(l,u,d){l=l._reactInternals;var y=Ra(),k=xu(l),O=fi(y,k);O.payload=u,d!=null&&(O.callback=d),u=hi(l,O,k),u!==null&&(ul(u,l,k,y),_s(u,l,k))},enqueueReplaceState:function(l,u,d){l=l._reactInternals;var y=Ra(),k=xu(l),O=fi(y,k);O.tag=1,O.payload=u,d!=null&&(O.callback=d),u=hi(l,O,k),u!==null&&(ul(u,l,k,y),_s(u,l,k))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var d=Ra(),y=xu(l),k=fi(d,y);k.tag=2,u!=null&&(k.callback=u),u=hi(l,k,y),u!==null&&(ul(u,l,y,d),_s(u,l,y))}};function Bw(l,u,d,y,k,O,Z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,O,Z):u.prototype&&u.prototype.isPureReactComponent?!Lo(d,y)||!Lo(k,O):!0}function Vw(l,u,d){var y=!1,k=Ol,O=u.contextType;return typeof O=="object"&&O!==null?O=ei(O):(k=la(u)?yc:as.current,y=u.contextTypes,O=(y=y!=null)?uu(l,k):Ol),u=new u(d,O),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Q1,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=O),u}function jw(l,u,d,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,y),u.state!==l&&Q1.enqueueReplaceState(u,u.state,null)}function Wv(l,u,d,y){var k=l.stateNode;k.props=d,k.state=l.memoizedState,k.refs={},os(l);var O=u.contextType;typeof O=="object"&&O!==null?k.context=ei(O):(O=la(u)?yc:as.current,k.context=uu(l,O)),k.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Hv(l,u,O,d),k.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Q1.enqueueReplaceState(k,k.state,null),ws(l,d,k,y),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function Yh(l,u){try{var d="",y=u;do d+=K(y),y=y.return;while(y);var k=d}catch(O){k=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:u,stack:k,digest:null}}function Gv(l,u,d){return{value:l,source:null,stack:d??null,digest:u??null}}function $v(l,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var wP=typeof WeakMap=="function"?WeakMap:Map;function Uw(l,u,d){d=fi(-1,d),d.tag=3,d.payload={element:null};var y=u.value;return d.callback=function(){im||(im=!0,l2=y),$v(l,u)},d}function zw(l,u,d){d=fi(-1,d),d.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var k=u.value;d.payload=function(){return y(k)},d.callback=function(){$v(l,u)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(d.callback=function(){$v(l,u),typeof y!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var Z=u.stack;this.componentDidCatch(u.value,{componentStack:Z!==null?Z:""})}),d}function qw(l,u,d){var y=l.pingCache;if(y===null){y=l.pingCache=new wP;var k=new Set;y.set(u,k)}else k=y.get(u),k===void 0&&(k=new Set,y.set(u,k));k.has(d)||(k.add(d),l=DP.bind(null,l,u,d),u.then(l,l))}function Hw(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function Ww(l,u,d,y,k){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=fi(-1,1),u.tag=2,hi(d,u,1))),d.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var EP=q.ReactCurrentOwner,Ga=!1;function Pa(l,u,d,y){u.child=l===null?Wn(u,null,d,y):_i(u,l.child,d,y)}function Gw(l,u,d,y,k){d=d.render;var O=u.ref;return Zn(u,k),y=Nf(l,u,d,y,O,k),d=Bo(),l!==null&&!Ga?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,Ec(l,u,k)):(lt&&d&&st(u),u.flags|=1,Pa(l,u,y,k),u.child)}function $w(l,u,d,y,k){if(l===null){var O=d.type;return typeof O=="function"&&!m2(O)&&O.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=O,Kw(l,u,O,y,k)):(l=um(d.type,null,y,u,u.mode,k),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,(l.lanes&k)===0){var Z=O.memoizedProps;if(d=d.compare,d=d!==null?d:Lo,d(Z,y)&&l.ref===u.ref)return Ec(l,u,k)}return u.flags|=1,l=_u(O,y),l.ref=u.ref,l.return=u,u.child=l}function Kw(l,u,d,y,k){if(l!==null){var O=l.memoizedProps;if(Lo(O,y)&&l.ref===u.ref)if(Ga=!1,u.pendingProps=y=O,(l.lanes&k)!==0)(l.flags&131072)!==0&&(Ga=!0);else return u.lanes=l.lanes,Ec(l,u,k)}return Kv(l,u,d,y,k)}function Xw(l,u,d){var y=u.pendingProps,k=y.children,O=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Jh,go),go|=d;else{if((d&1073741824)===0)return l=O!==null?O.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,vn(Jh,go),go|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=O!==null?O.baseLanes:d,vn(Jh,go),go|=y}else O!==null?(y=O.baseLanes|d,u.memoizedState=null):y=d,vn(Jh,go),go|=y;return Pa(l,u,k,d),u.child}function Yw(l,u){var d=u.ref;(l===null&&d!==null||l!==null&&l.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Kv(l,u,d,y,k){var O=la(d)?yc:as.current;return O=uu(u,O),Zn(u,k),d=Nf(l,u,d,y,O,k),y=Bo(),l!==null&&!Ga?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,Ec(l,u,k)):(lt&&y&&st(u),u.flags|=1,Pa(l,u,d,k),u.child)}function Qw(l,u,d,y,k){if(la(d)){var O=!0;_c(u)}else O=!1;if(Zn(u,k),u.stateNode===null)Z1(l,u),Vw(u,d,y),Wv(u,d,y,k),y=!0;else if(l===null){var Z=u.stateNode,Se=u.memoizedProps;Z.props=Se;var Pe=Z.context,Je=d.contextType;typeof Je=="object"&&Je!==null?Je=ei(Je):(Je=la(d)?yc:as.current,Je=uu(u,Je));var vt=d.getDerivedStateFromProps,wt=typeof vt=="function"||typeof Z.getSnapshotBeforeUpdate=="function";wt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Se!==y||Pe!==Je)&&jw(u,Z,y,Je),wi=!1;var gt=u.memoizedState;Z.state=gt,ws(u,y,Z,k),Pe=u.memoizedState,Se!==y||gt!==Pe||oa.current||wi?(typeof vt=="function"&&(Hv(u,d,vt,y),Pe=u.memoizedState),(Se=wi||Bw(u,d,Se,y,gt,Pe,Je))?(wt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Pe),Z.props=y,Z.state=Pe,Z.context=Je,y=Se):(typeof Z.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{Z=u.stateNode,ca(l,u),Se=u.memoizedProps,Je=u.type===u.elementType?Se:ol(u.type,Se),Z.props=Je,wt=u.pendingProps,gt=Z.context,Pe=d.contextType,typeof Pe=="object"&&Pe!==null?Pe=ei(Pe):(Pe=la(d)?yc:as.current,Pe=uu(u,Pe));var Mt=d.getDerivedStateFromProps;(vt=typeof Mt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Se!==wt||gt!==Pe)&&jw(u,Z,y,Pe),wi=!1,gt=u.memoizedState,Z.state=gt,ws(u,y,Z,k);var $t=u.memoizedState;Se!==wt||gt!==$t||oa.current||wi?(typeof Mt=="function"&&(Hv(u,d,Mt,y),$t=u.memoizedState),(Je=wi||Bw(u,d,Je,y,gt,$t,Pe)||!1)?(vt||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(y,$t,Pe),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(y,$t,Pe)),typeof Z.componentDidUpdate=="function"&&(u.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Z.componentDidUpdate!="function"||Se===l.memoizedProps&&gt===l.memoizedState||(u.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||Se===l.memoizedProps&&gt===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=$t),Z.props=y,Z.state=$t,Z.context=Pe,y=Je):(typeof Z.componentDidUpdate!="function"||Se===l.memoizedProps&&gt===l.memoizedState||(u.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||Se===l.memoizedProps&&gt===l.memoizedState||(u.flags|=1024),y=!1)}return Xv(l,u,d,y,O,k)}function Xv(l,u,d,y,k,O){Yw(l,u);var Z=(u.flags&128)!==0;if(!y&&!Z)return k&&H1(u,d,!1),Ec(l,u,O);y=u.stateNode,EP.current=u;var Se=Z&&typeof d.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&Z?(u.child=_i(u,l.child,null,O),u.child=_i(u,null,Se,O)):Pa(l,u,Se,O),u.memoizedState=y.state,k&&H1(u,d,!0),u.child}function Jw(l){var u=l.stateNode;u.pendingContext?q1(l,u.pendingContext,u.pendingContext!==u.context):u.context&&q1(l,u.context,!1),fu(l,u.containerInfo)}function Zw(l,u,d,y,k){return qt(),kt(k),u.flags|=256,Pa(l,u,d,y),u.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Qv(l){return{baseLanes:l,cachePool:null,transitions:null}}function e5(l,u,d){var y=u.pendingProps,k=Fn.current,O=!1,Z=(u.flags&128)!==0,Se;if((Se=Z)||(Se=l!==null&&l.memoizedState===null?!1:(k&2)!==0),Se?(O=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),vn(Fn,k&1),l===null)return Gt(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(Z=y.children,l=y.fallback,O?(y=u.mode,O=u.child,Z={mode:"hidden",children:Z},(y&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=Z):O=fm(Z,y,0,null),l=Mf(l,y,d,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=Qv(d),u.memoizedState=Yv,l):Jv(u,Z));if(k=l.memoizedState,k!==null&&(Se=k.dehydrated,Se!==null))return TP(l,u,Z,y,Se,k,d);if(O){O=y.fallback,Z=u.mode,k=l.child,Se=k.sibling;var Pe={mode:"hidden",children:y.children};return(Z&1)===0&&u.child!==k?(y=u.child,y.childLanes=0,y.pendingProps=Pe,u.deletions=null):(y=_u(k,Pe),y.subtreeFlags=k.subtreeFlags&14680064),Se!==null?O=_u(Se,O):(O=Mf(O,Z,d,null),O.flags|=2),O.return=u,y.return=u,y.sibling=O,u.child=y,y=O,O=u.child,Z=l.child.memoizedState,Z=Z===null?Qv(d):{baseLanes:Z.baseLanes|d,cachePool:null,transitions:Z.transitions},O.memoizedState=Z,O.childLanes=l.childLanes&~d,u.memoizedState=Yv,y}return O=l.child,l=O.sibling,y=_u(O,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=d),y.return=u,y.sibling=null,l!==null&&(d=u.deletions,d===null?(u.deletions=[l],u.flags|=16):d.push(l)),u.child=y,u.memoizedState=null,y}function Jv(l,u){return u=fm({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function J1(l,u,d,y){return y!==null&&kt(y),_i(u,l.child,null,d),l=Jv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function TP(l,u,d,y,k,O,Z){if(d)return u.flags&256?(u.flags&=-257,y=Gv(Error(t(422))),J1(l,u,Z,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(O=y.fallback,k=u.mode,y=fm({mode:"visible",children:y.children},k,0,null),O=Mf(O,k,Z,null),O.flags|=2,y.return=u,O.return=u,y.sibling=O,u.child=y,(u.mode&1)!==0&&_i(u,l.child,null,Z),u.child.memoizedState=Qv(Z),u.memoizedState=Yv,O);if((u.mode&1)===0)return J1(l,u,Z,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var Se=y.dgst;return y=Se,O=Error(t(419)),y=Gv(O,y,void 0),J1(l,u,Z,y)}if(Se=(Z&l.childLanes)!==0,Ga||Se){if(y=Es,y!==null){switch(Z&-Z){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|Z))!==0?0:k,k!==0&&k!==O.retryLane&&(O.retryLane=k,wn(l,k),ul(y,l,k,-1))}return p2(),y=Gv(Error(t(421))),J1(l,u,Z,y)}return k.data==="$?"?(u.flags|=128,u.child=l.child,u=OP.bind(null,l),k._reactRetry=u,null):(l=O.treeContext,it=js(k.nextSibling),rt=u,lt=!0,ct=null,l!==null&&(ue[me++]=ze,ue[me++]=ve,ue[me++]=Ne,ze=l.id,ve=l.overflow,Ne=u),u=Jv(u,y.children),u.flags|=4096,u)}function t5(l,u,d){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),nn(l.return,u,d)}function Zv(l,u,d,y,k){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:k}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=d,O.tailMode=k)}function r5(l,u,d){var y=u.pendingProps,k=y.revealOrder,O=y.tail;if(Pa(l,u,y.children,d),y=Fn.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&t5(l,d,u);else if(l.tag===19)t5(l,d,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(vn(Fn,y),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(d=u.child,k=null;d!==null;)l=d.alternate,l!==null&&ho(l)===null&&(k=d),d=d.sibling;d=k,d===null?(k=u.child,u.child=null):(k=d.sibling,d.sibling=null),Zv(u,!1,k,d,O);break;case"backwards":for(d=null,k=u.child,u.child=null;k!==null;){if(l=k.alternate,l!==null&&ho(l)===null){u.child=k;break}l=k.sibling,k.sibling=d,d=k,k=l}Zv(u,!0,d,null,O);break;case"together":Zv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Z1(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ec(l,u,d){if(l!==null&&(u.dependencies=l.dependencies),Lf|=u.lanes,(d&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,d=_u(l,l.pendingProps),u.child=d,d.return=u;l.sibling!==null;)l=l.sibling,d=d.sibling=_u(l,l.pendingProps),d.return=u;d.sibling=null}return u.child}function bP(l,u,d){switch(u.tag){case 3:Jw(u),qt();break;case 5:W1(u);break;case 1:la(u.type)&&_c(u);break;case 4:fu(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,k=u.memoizedProps.value;vn(Li,y._currentValue),y._currentValue=k;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(vn(Fn,Fn.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?e5(l,u,d):(vn(Fn,Fn.current&1),l=Ec(l,u,d),l!==null?l.sibling:null);vn(Fn,Fn.current&1);break;case 19:if(y=(d&u.childLanes)!==0,(l.flags&128)!==0){if(y)return r5(l,u,d);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),vn(Fn,Fn.current),y)break;return null;case 22:case 23:return u.lanes=0,Xw(l,u,d)}return Ec(l,u,d)}var n5,e2,i5,s5;n5=function(l,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)l.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},e2=function(){},i5=function(l,u,d,y){var k=l.memoizedProps;if(k!==y){l=u.stateNode,il(Gi.current);var O=null;switch(d){case"input":k=Re(l,k),y=Re(l,y),O=[];break;case"select":k=Ce({},k,{value:void 0}),y=Ce({},y,{value:void 0}),O=[];break;case"textarea":k=Wt(l,k),y=Wt(l,y),O=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=ou)}Wr(d,y);var Z;d=null;for(Je in k)if(!y.hasOwnProperty(Je)&&k.hasOwnProperty(Je)&&k[Je]!=null)if(Je==="style"){var Se=k[Je];for(Z in Se)Se.hasOwnProperty(Z)&&(d||(d={}),d[Z]="")}else Je!=="dangerouslySetInnerHTML"&&Je!=="children"&&Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&Je!=="autoFocus"&&(i.hasOwnProperty(Je)?O||(O=[]):(O=O||[]).push(Je,null));for(Je in y){var Pe=y[Je];if(Se=k?.[Je],y.hasOwnProperty(Je)&&Pe!==Se&&(Pe!=null||Se!=null))if(Je==="style")if(Se){for(Z in Se)!Se.hasOwnProperty(Z)||Pe&&Pe.hasOwnProperty(Z)||(d||(d={}),d[Z]="");for(Z in Pe)Pe.hasOwnProperty(Z)&&Se[Z]!==Pe[Z]&&(d||(d={}),d[Z]=Pe[Z])}else d||(O||(O=[]),O.push(Je,d)),d=Pe;else Je==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Se=Se?Se.__html:void 0,Pe!=null&&Se!==Pe&&(O=O||[]).push(Je,Pe)):Je==="children"?typeof Pe!="string"&&typeof Pe!="number"||(O=O||[]).push(Je,""+Pe):Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&(i.hasOwnProperty(Je)?(Pe!=null&&Je==="onScroll"&&yn("scroll",l),O||Se===Pe||(O=[])):(O=O||[]).push(Je,Pe))}d&&(O=O||[]).push("style",d);var Je=O;(u.updateQueue=Je)&&(u.flags|=4)}},s5=function(l,u,d,y){d!==y&&(u.flags|=4)};function V0(l,u){if(!lt)switch(l.tailMode){case"hidden":u=l.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function ua(l){var u=l.alternate!==null&&l.alternate.child===l.child,d=0,y=0;if(u)for(var k=l.child;k!==null;)d|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)d|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=y,l.childLanes=d,u}function AP(l,u,d){var y=u.pendingProps;switch(Ge(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(u),null;case 1:return la(u.type)&&jh(),ua(u),null;case 3:return y=u.stateNode,Oo(),pn(oa),pn(as),O0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Jn(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ct!==null&&(f2(ct),ct=null))),e2(l,u),ua(u),null;case 5:F0(u);var k=il(Ml.current);if(d=u.type,l!==null&&u.stateNode!=null)i5(l,u,d,y,k),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(t(166));return ua(u),null}if(l=il(Gi.current),Jn(u)){y=u.stateNode,d=u.type;var O=u.memoizedProps;switch(y[Do]=u,y[lu]=O,l=(u.mode&1)!==0,d){case"dialog":yn("cancel",y),yn("close",y);break;case"iframe":case"object":case"embed":yn("load",y);break;case"video":case"audio":for(k=0;k<Fl.length;k++)yn(Fl[k],y);break;case"source":yn("error",y);break;case"img":case"image":case"link":yn("error",y),yn("load",y);break;case"details":yn("toggle",y);break;case"input":G(y,O),yn("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!O.multiple},yn("invalid",y);break;case"textarea":Rt(y,O),yn("invalid",y)}Wr(d,O),k=null;for(var Z in O)if(O.hasOwnProperty(Z)){var Se=O[Z];Z==="children"?typeof Se=="string"?y.textContent!==Se&&(O.suppressHydrationWarning!==!0&&Vh(y.textContent,Se,l),k=["children",Se]):typeof Se=="number"&&y.textContent!==""+Se&&(O.suppressHydrationWarning!==!0&&Vh(y.textContent,Se,l),k=["children",""+Se]):i.hasOwnProperty(Z)&&Se!=null&&Z==="onScroll"&&yn("scroll",y)}switch(d){case"input":Me(y),nt(y,O,!0);break;case"textarea":Me(y),Ot(y);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(y.onclick=ou)}y=k,u.updateQueue=y,y!==null&&(u.flags|=4)}else{Z=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=bt(d)),l==="http://www.w3.org/1999/xhtml"?d==="script"?(l=Z.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=Z.createElement(d,{is:y.is}):(l=Z.createElement(d),d==="select"&&(Z=l,y.multiple?Z.multiple=!0:y.size&&(Z.size=y.size))):l=Z.createElementNS(l,d),l[Do]=u,l[lu]=y,n5(l,u,!1,!1),u.stateNode=l;e:{switch(Z=rr(d,y),d){case"dialog":yn("cancel",l),yn("close",l),k=y;break;case"iframe":case"object":case"embed":yn("load",l),k=y;break;case"video":case"audio":for(k=0;k<Fl.length;k++)yn(Fl[k],l);k=y;break;case"source":yn("error",l),k=y;break;case"img":case"image":case"link":yn("error",l),yn("load",l),k=y;break;case"details":yn("toggle",l),k=y;break;case"input":G(l,y),k=Re(l,y),yn("invalid",l);break;case"option":k=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},k=Ce({},y,{value:void 0}),yn("invalid",l);break;case"textarea":Rt(l,y),k=Wt(l,y),yn("invalid",l);break;default:k=y}Wr(d,k),Se=k;for(O in Se)if(Se.hasOwnProperty(O)){var Pe=Se[O];O==="style"?Ft(l,Pe):O==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Pe!=null&&Lt(l,Pe)):O==="children"?typeof Pe=="string"?(d!=="textarea"||Pe!=="")&&yt(l,Pe):typeof Pe=="number"&&yt(l,""+Pe):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?Pe!=null&&O==="onScroll"&&yn("scroll",l):Pe!=null&&D(l,O,Pe,Z))}switch(d){case"input":Me(l),nt(l,y,!1);break;case"textarea":Me(l),Ot(l);break;case"option":y.value!=null&&l.setAttribute("value",""+Ee(y.value));break;case"select":l.multiple=!!y.multiple,O=y.value,O!=null?ut(l,!!y.multiple,O,!1):y.defaultValue!=null&&ut(l,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=ou)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ua(u),null;case 6:if(l&&u.stateNode!=null)s5(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(t(166));if(d=il(Ml.current),il(Gi.current),Jn(u)){if(y=u.stateNode,d=u.memoizedProps,y[Do]=u,(O=y.nodeValue!==d)&&(l=rt,l!==null))switch(l.tag){case 3:Vh(y.nodeValue,d,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Vh(y.nodeValue,d,(l.mode&1)!==0)}O&&(u.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[Do]=u,u.stateNode=y}return ua(u),null;case 13:if(pn(Fn),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(lt&&it!==null&&(u.mode&1)!==0&&(u.flags&128)===0)br(),qt(),u.flags|=98560,O=!1;else if(O=Jn(u),y!==null&&y.dehydrated!==null){if(l===null){if(!O)throw Error(t(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[Do]=u}else qt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ua(u),O=!1}else ct!==null&&(f2(ct),ct=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Fn.current&1)!==0?ls===0&&(ls=3):p2())),u.updateQueue!==null&&(u.flags|=4),ua(u),null);case 4:return Oo(),e2(l,u),l===null&&mc(u.stateNode.containerInfo),ua(u),null;case 10:return jn(u.type._context),ua(u),null;case 17:return la(u.type)&&jh(),ua(u),null;case 19:if(pn(Fn),O=u.memoizedState,O===null)return ua(u),null;if(y=(u.flags&128)!==0,Z=O.rendering,Z===null)if(y)V0(O,!1);else{if(ls!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(Z=ho(l),Z!==null){for(u.flags|=128,V0(O,!1),y=Z.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=d,d=u.child;d!==null;)O=d,l=y,O.flags&=14680066,Z=O.alternate,Z===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=Z.childLanes,O.lanes=Z.lanes,O.child=Z.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=Z.memoizedProps,O.memoizedState=Z.memoizedState,O.updateQueue=Z.updateQueue,O.type=Z.type,l=Z.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),d=d.sibling;return vn(Fn,Fn.current&1|2),u.child}l=l.sibling}O.tail!==null&&mt()>Zh&&(u.flags|=128,y=!0,V0(O,!1),u.lanes=4194304)}else{if(!y)if(l=ho(Z),l!==null){if(u.flags|=128,y=!0,d=l.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),V0(O,!0),O.tail===null&&O.tailMode==="hidden"&&!Z.alternate&&!lt)return ua(u),null}else 2*mt()-O.renderingStartTime>Zh&&d!==1073741824&&(u.flags|=128,y=!0,V0(O,!1),u.lanes=4194304);O.isBackwards?(Z.sibling=u.child,u.child=Z):(d=O.last,d!==null?d.sibling=Z:u.child=Z,O.last=Z)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=mt(),u.sibling=null,d=Fn.current,vn(Fn,y?d&1|2:d&1),u):(ua(u),null);case 22:case 23:return d2(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(go&1073741824)!==0&&(ua(u),u.subtreeFlags&6&&(u.flags|=8192)):ua(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function SP(l,u){switch(Ge(u),u.tag){case 1:return la(u.type)&&jh(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Oo(),pn(oa),pn(as),O0(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return F0(u),null;case 13:if(pn(Fn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));qt()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return pn(Fn),null;case 4:return Oo(),null;case 10:return jn(u.type._context),null;case 22:case 23:return d2(),null;case 24:return null;default:return null}}var em=!1,fa=!1,kP=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Qh(l,u){var d=l.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){Ti(l,u,y)}else d.current=null}function t2(l,u,d){try{d()}catch(y){Ti(l,u,y)}}var a5=!1;function IP(l,u){if(kf=Io,l=_0(),Lh(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var k=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{d.nodeType,O.nodeType}catch{d=null;break e}var Z=0,Se=-1,Pe=-1,Je=0,vt=0,wt=l,gt=null;t:for(;;){for(var Mt;wt!==d||k!==0&&wt.nodeType!==3||(Se=Z+k),wt!==O||y!==0&&wt.nodeType!==3||(Pe=Z+y),wt.nodeType===3&&(Z+=wt.nodeValue.length),(Mt=wt.firstChild)!==null;)gt=wt,wt=Mt;for(;;){if(wt===l)break t;if(gt===d&&++Je===k&&(Se=Z),gt===O&&++vt===y&&(Pe=Z),(Mt=wt.nextSibling)!==null)break;wt=gt,gt=wt.parentNode}wt=Mt}d=Se===-1||Pe===-1?null:{start:Se,end:Pe}}else d=null}d=d||{start:0,end:0}}else d=null;for(vc={focusedElem:l,selectionRange:d},Io=!1,Ht=u;Ht!==null;)if(u=Ht,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ht=l;else for(;Ht!==null;){u=Ht;try{var $t=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var Qt=$t.memoizedProps,Di=$t.memoizedState,We=u.stateNode,De=We.getSnapshotBeforeUpdate(u.elementType===u.type?Qt:ol(u.type,Qt),Di);We.__reactInternalSnapshotBeforeUpdate=De}break;case 3:var Ye=u.stateNode.containerInfo;Ye.nodeType===1?Ye.textContent="":Ye.nodeType===9&&Ye.documentElement&&Ye.removeChild(Ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(St){Ti(u,u.return,St)}if(l=u.sibling,l!==null){l.return=u.return,Ht=l;break}Ht=u.return}return $t=a5,a5=!1,$t}function j0(l,u,d){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&l)===l){var O=k.destroy;k.destroy=void 0,O!==void 0&&t2(u,d,O)}k=k.next}while(k!==y)}}function tm(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&l)===l){var y=d.create;d.destroy=y()}d=d.next}while(d!==u)}}function r2(l){var u=l.ref;if(u!==null){var d=l.stateNode;switch(l.tag){case 5:l=d;break;default:l=d}typeof u=="function"?u(l):u.current=l}}function o5(l){var u=l.alternate;u!==null&&(l.alternate=null,o5(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Do],delete u[lu],delete u[aa],delete u[jv],delete u[Uv])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function l5(l){return l.tag===5||l.tag===3||l.tag===4}function c5(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||l5(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function n2(l,u,d){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(l,u):d.insertBefore(l,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(l,d)):(u=d,u.appendChild(l)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=ou));else if(y!==4&&(l=l.child,l!==null))for(n2(l,u,d),l=l.sibling;l!==null;)n2(l,u,d),l=l.sibling}function i2(l,u,d){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?d.insertBefore(l,u):d.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(i2(l,u,d),l=l.sibling;l!==null;)i2(l,u,d),l=l.sibling}var Us=null,ll=!1;function mu(l,u,d){for(d=d.child;d!==null;)u5(l,u,d),d=d.sibling}function u5(l,u,d){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(ms,d)}catch{}switch(d.tag){case 5:fa||Qh(d,u);case 6:var y=Us,k=ll;Us=null,mu(l,u,d),Us=y,ll=k,Us!==null&&(ll?(l=Us,d=d.stateNode,l.nodeType===8?l.parentNode.removeChild(d):l.removeChild(d)):Us.removeChild(d.stateNode));break;case 18:Us!==null&&(ll?(l=Us,d=d.stateNode,l.nodeType===8?P0(l.parentNode,d):l.nodeType===1&&P0(l,d),gs(l)):P0(Us,d.stateNode));break;case 4:y=Us,k=ll,Us=d.stateNode.containerInfo,ll=!0,mu(l,u,d),Us=y,ll=k;break;case 0:case 11:case 14:case 15:if(!fa&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var O=k,Z=O.destroy;O=O.tag,Z!==void 0&&((O&2)!==0||(O&4)!==0)&&t2(d,u,Z),k=k.next}while(k!==y)}mu(l,u,d);break;case 1:if(!fa&&(Qh(d,u),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(Se){Ti(d,u,Se)}mu(l,u,d);break;case 21:mu(l,u,d);break;case 22:d.mode&1?(fa=(y=fa)||d.memoizedState!==null,mu(l,u,d),fa=y):mu(l,u,d);break;default:mu(l,u,d)}}function f5(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var d=l.stateNode;d===null&&(d=l.stateNode=new kP),u.forEach(function(y){var k=MP.bind(null,l,y);d.has(y)||(d.add(y),y.then(k,k))})}}function cl(l,u){var d=u.deletions;if(d!==null)for(var y=0;y<d.length;y++){var k=d[y];try{var O=l,Z=u,Se=Z;e:for(;Se!==null;){switch(Se.tag){case 5:Us=Se.stateNode,ll=!1;break e;case 3:Us=Se.stateNode.containerInfo,ll=!0;break e;case 4:Us=Se.stateNode.containerInfo,ll=!0;break e}Se=Se.return}if(Us===null)throw Error(t(160));u5(O,Z,k),Us=null,ll=!1;var Pe=k.alternate;Pe!==null&&(Pe.return=null),k.return=null}catch(Je){Ti(k,u,Je)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)h5(u,l),u=u.sibling}function h5(l,u){var d=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(cl(u,l),Vl(l),y&4){try{j0(3,l,l.return),tm(3,l)}catch(Qt){Ti(l,l.return,Qt)}try{j0(5,l,l.return)}catch(Qt){Ti(l,l.return,Qt)}}break;case 1:cl(u,l),Vl(l),y&512&&d!==null&&Qh(d,d.return);break;case 5:if(cl(u,l),Vl(l),y&512&&d!==null&&Qh(d,d.return),l.flags&32){var k=l.stateNode;try{yt(k,"")}catch(Qt){Ti(l,l.return,Qt)}}if(y&4&&(k=l.stateNode,k!=null)){var O=l.memoizedProps,Z=d!==null?d.memoizedProps:O,Se=l.type,Pe=l.updateQueue;if(l.updateQueue=null,Pe!==null)try{Se==="input"&&O.type==="radio"&&O.name!=null&&Fe(k,O),rr(Se,Z);var Je=rr(Se,O);for(Z=0;Z<Pe.length;Z+=2){var vt=Pe[Z],wt=Pe[Z+1];vt==="style"?Ft(k,wt):vt==="dangerouslySetInnerHTML"?Lt(k,wt):vt==="children"?yt(k,wt):D(k,vt,wt,Je)}switch(Se){case"input":$e(k,O);break;case"textarea":Bt(k,O);break;case"select":var gt=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!O.multiple;var Mt=O.value;Mt!=null?ut(k,!!O.multiple,Mt,!1):gt!==!!O.multiple&&(O.defaultValue!=null?ut(k,!!O.multiple,O.defaultValue,!0):ut(k,!!O.multiple,O.multiple?[]:"",!1))}k[lu]=O}catch(Qt){Ti(l,l.return,Qt)}}break;case 6:if(cl(u,l),Vl(l),y&4){if(l.stateNode===null)throw Error(t(162));k=l.stateNode,O=l.memoizedProps;try{k.nodeValue=O}catch(Qt){Ti(l,l.return,Qt)}}break;case 3:if(cl(u,l),Vl(l),y&4&&d!==null&&d.memoizedState.isDehydrated)try{gs(u.containerInfo)}catch(Qt){Ti(l,l.return,Qt)}break;case 4:cl(u,l),Vl(l);break;case 13:cl(u,l),Vl(l),k=l.child,k.flags&8192&&(O=k.memoizedState!==null,k.stateNode.isHidden=O,!O||k.alternate!==null&&k.alternate.memoizedState!==null||(o2=mt())),y&4&&f5(l);break;case 22:if(vt=d!==null&&d.memoizedState!==null,l.mode&1?(fa=(Je=fa)||vt,cl(u,l),fa=Je):cl(u,l),Vl(l),y&8192){if(Je=l.memoizedState!==null,(l.stateNode.isHidden=Je)&&!vt&&(l.mode&1)!==0)for(Ht=l,vt=l.child;vt!==null;){for(wt=Ht=vt;Ht!==null;){switch(gt=Ht,Mt=gt.child,gt.tag){case 0:case 11:case 14:case 15:j0(4,gt,gt.return);break;case 1:Qh(gt,gt.return);var $t=gt.stateNode;if(typeof $t.componentWillUnmount=="function"){y=gt,d=gt.return;try{u=y,$t.props=u.memoizedProps,$t.state=u.memoizedState,$t.componentWillUnmount()}catch(Qt){Ti(y,d,Qt)}}break;case 5:Qh(gt,gt.return);break;case 22:if(gt.memoizedState!==null){m5(wt);continue}}Mt!==null?(Mt.return=gt,Ht=Mt):m5(wt)}vt=vt.sibling}e:for(vt=null,wt=l;;){if(wt.tag===5){if(vt===null){vt=wt;try{k=wt.stateNode,Je?(O=k.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(Se=wt.stateNode,Pe=wt.memoizedProps.style,Z=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null,Se.style.display=Yt("display",Z))}catch(Qt){Ti(l,l.return,Qt)}}}else if(wt.tag===6){if(vt===null)try{wt.stateNode.nodeValue=Je?"":wt.memoizedProps}catch(Qt){Ti(l,l.return,Qt)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===l)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===l)break e;for(;wt.sibling===null;){if(wt.return===null||wt.return===l)break e;vt===wt&&(vt=null),wt=wt.return}vt===wt&&(vt=null),wt.sibling.return=wt.return,wt=wt.sibling}}break;case 19:cl(u,l),Vl(l),y&4&&f5(l);break;case 21:break;default:cl(u,l),Vl(l)}}function Vl(l){var u=l.flags;if(u&2){try{e:{for(var d=l.return;d!==null;){if(l5(d)){var y=d;break e}d=d.return}throw Error(t(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(yt(k,""),y.flags&=-33);var O=c5(l);i2(l,O,k);break;case 3:case 4:var Z=y.stateNode.containerInfo,Se=c5(l);n2(l,Se,Z);break;default:throw Error(t(161))}}catch(Pe){Ti(l,l.return,Pe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function CP(l,u,d){Ht=l,d5(l)}function d5(l,u,d){for(var y=(l.mode&1)!==0;Ht!==null;){var k=Ht,O=k.child;if(k.tag===22&&y){var Z=k.memoizedState!==null||em;if(!Z){var Se=k.alternate,Pe=Se!==null&&Se.memoizedState!==null||fa;Se=em;var Je=fa;if(em=Z,(fa=Pe)&&!Je)for(Ht=k;Ht!==null;)Z=Ht,Pe=Z.child,Z.tag===22&&Z.memoizedState!==null?g5(k):Pe!==null?(Pe.return=Z,Ht=Pe):g5(k);for(;O!==null;)Ht=O,d5(O),O=O.sibling;Ht=k,em=Se,fa=Je}p5(l)}else(k.subtreeFlags&8772)!==0&&O!==null?(O.return=k,Ht=O):p5(l)}}function p5(l){for(;Ht!==null;){var u=Ht;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:fa||tm(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!fa)if(d===null)y.componentDidMount();else{var k=u.elementType===u.type?d.memoizedProps:ol(u.type,d.memoizedProps);y.componentDidUpdate(k,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&Wa(u,O,y);break;case 3:var Z=u.updateQueue;if(Z!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}Wa(u,Z,d)}break;case 5:var Se=u.stateNode;if(d===null&&u.flags&4){d=Se;var Pe=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Pe.autoFocus&&d.focus();break;case"img":Pe.src&&(d.src=Pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Je=u.alternate;if(Je!==null){var vt=Je.memoizedState;if(vt!==null){var wt=vt.dehydrated;wt!==null&&gs(wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fa||u.flags&512&&r2(u)}catch(gt){Ti(u,u.return,gt)}}if(u===l){Ht=null;break}if(d=u.sibling,d!==null){d.return=u.return,Ht=d;break}Ht=u.return}}function m5(l){for(;Ht!==null;){var u=Ht;if(u===l){Ht=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Ht=d;break}Ht=u.return}}function g5(l){for(;Ht!==null;){var u=Ht;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{tm(4,u)}catch(Pe){Ti(u,d,Pe)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var k=u.return;try{y.componentDidMount()}catch(Pe){Ti(u,k,Pe)}}var O=u.return;try{r2(u)}catch(Pe){Ti(u,O,Pe)}break;case 5:var Z=u.return;try{r2(u)}catch(Pe){Ti(u,Z,Pe)}}}catch(Pe){Ti(u,u.return,Pe)}if(u===l){Ht=null;break}var Se=u.sibling;if(Se!==null){Se.return=u.return,Ht=Se;break}Ht=u.return}}var NP=Math.ceil,rm=q.ReactCurrentDispatcher,s2=q.ReactCurrentOwner,Vo=q.ReactCurrentBatchConfig,sn=0,Es=null,$i=null,zs=0,go=0,Jh=uo(0),ls=0,U0=null,Lf=0,nm=0,a2=0,z0=null,$a=null,o2=0,Zh=1/0,Tc=null,im=!1,l2=null,gu=null,sm=!1,vu=null,am=0,q0=0,c2=null,om=-1,lm=0;function Ra(){return(sn&6)!==0?mt():om!==-1?om:om=mt()}function xu(l){return(l.mode&1)===0?1:(sn&2)!==0&&zs!==0?zs&-zs:ui.transition!==null?(lm===0&&(lm=Qo()),lm):(l=Pr,l!==0||(l=window.event,l=l===void 0?16:No(l.type)),l)}function ul(l,u,d,y){if(50<q0)throw q0=0,c2=null,Error(t(185));ko(l,d,y),((sn&2)===0||l!==Es)&&(l===Es&&((sn&2)===0&&(nm|=d),ls===4&&yu(l,zs)),Ka(l,y),d===1&&sn===0&&(u.mode&1)===0&&(Zh=mt()+500,Cf&&V()))}function Ka(l,u){var d=l.callbackNode;dn(l,u);var y=Zi(l,l===Es?zs:0);if(y===0)d!==null&&At(d),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(d!=null&&At(d),u===1)l.tag===0?R(x5.bind(null,l)):_(x5.bind(null,l)),Bv(function(){(sn&6)===0&&V()}),d=null;else{switch(Ls(y)){case 1:d=Ur;break;case 4:d=Er;break;case 16:d=Gr;break;case 536870912:d=Xs;break;default:d=Gr}d=S5(d,v5.bind(null,l))}l.callbackPriority=u,l.callbackNode=d}}function v5(l,u){if(om=-1,lm=0,(sn&6)!==0)throw Error(t(327));var d=l.callbackNode;if(ed()&&l.callbackNode!==d)return null;var y=Zi(l,l===Es?zs:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=cm(l,y);else{u=y;var k=sn;sn|=2;var O=_5();(Es!==l||zs!==u)&&(Tc=null,Zh=mt()+500,Df(l,u));do try{LP();break}catch(Se){y5(l,Se)}while(!0);rn(),rm.current=O,sn=k,$i!==null?u=0:(Es=null,zs=0,u=ls)}if(u!==0){if(u===2&&(k=es(l),k!==0&&(y=k,u=u2(l,k))),u===1)throw d=U0,Df(l,0),yu(l,y),Ka(l,mt()),d;if(u===6)yu(l,y);else{if(k=l.current.alternate,(y&30)===0&&!PP(k)&&(u=cm(l,y),u===2&&(O=es(l),O!==0&&(y=O,u=u2(l,O))),u===1))throw d=U0,Df(l,0),yu(l,y),Ka(l,mt()),d;switch(l.finishedWork=k,l.finishedLanes=y,u){case 0:case 1:throw Error(t(345));case 2:Of(l,$a,Tc);break;case 3:if(yu(l,y),(y&130023424)===y&&(u=o2+500-mt(),10<u)){if(Zi(l,0)!==0)break;if(k=l.suspendedLanes,(k&y)!==y){Ra(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=N0(Of.bind(null,l,$a,Tc),u);break}Of(l,$a,Tc);break;case 4:if(yu(l,y),(y&4194240)===y)break;for(u=l.eventTimes,k=-1;0<y;){var Z=31-un(y);O=1<<Z,Z=u[Z],Z>k&&(k=Z),y&=~O}if(y=k,y=mt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*NP(y/1960))-y,10<y){l.timeoutHandle=N0(Of.bind(null,l,$a,Tc),y);break}Of(l,$a,Tc);break;case 5:Of(l,$a,Tc);break;default:throw Error(t(329))}}}return Ka(l,mt()),l.callbackNode===d?v5.bind(null,l):null}function u2(l,u){var d=z0;return l.current.memoizedState.isDehydrated&&(Df(l,u).flags|=256),l=cm(l,u),l!==2&&(u=$a,$a=d,u!==null&&f2(u)),l}function f2(l){$a===null?$a=l:$a.push.apply($a,l)}function PP(l){for(var u=l;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var k=d[y],O=k.getSnapshot;k=k.value;try{if(!Ri(O(),k))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function yu(l,u){for(u&=~a2,u&=~nm,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var d=31-un(u),y=1<<d;l[d]=-1,u&=~y}}function x5(l){if((sn&6)!==0)throw Error(t(327));ed();var u=Zi(l,0);if((u&1)===0)return Ka(l,mt()),null;var d=cm(l,u);if(l.tag!==0&&d===2){var y=es(l);y!==0&&(u=y,d=u2(l,y))}if(d===1)throw d=U0,Df(l,0),yu(l,u),Ka(l,mt()),d;if(d===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Of(l,$a,Tc),Ka(l,mt()),null}function h2(l,u){var d=sn;sn|=1;try{return l(u)}finally{sn=d,sn===0&&(Zh=mt()+500,Cf&&V())}}function Ff(l){vu!==null&&vu.tag===0&&(sn&6)===0&&ed();var u=sn;sn|=1;var d=Vo.transition,y=Pr;try{if(Vo.transition=null,Pr=1,l)return l()}finally{Pr=y,Vo.transition=d,sn=u,(sn&6)===0&&V()}}function d2(){go=Jh.current,pn(Jh)}function Df(l,u){l.finishedWork=null,l.finishedLanes=0;var d=l.timeoutHandle;if(d!==-1&&(l.timeoutHandle=-1,U1(d)),$i!==null)for(d=$i.return;d!==null;){var y=d;switch(Ge(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&jh();break;case 3:Oo(),pn(oa),pn(as),O0();break;case 5:F0(y);break;case 4:Oo();break;case 13:pn(Fn);break;case 19:pn(Fn);break;case 10:jn(y.type._context);break;case 22:case 23:d2()}d=d.return}if(Es=l,$i=l=_u(l.current,null),zs=go=u,ls=0,U0=null,a2=nm=Lf=0,$a=z0=null,_n!==null){for(u=0;u<_n.length;u++)if(d=_n[u],y=d.interleaved,y!==null){d.interleaved=null;var k=y.next,O=d.pending;if(O!==null){var Z=O.next;O.next=k,y.next=Z}d.pending=y}_n=null}return l}function y5(l,u){do{var d=$i;try{if(rn(),Uh.current=Y1,hu){for(var y=Un.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}hu=!1}if(Mo=0,pi=Ei=Un=null,sl=!1,du=0,s2.current=null,d===null||d.return===null){ls=1,U0=u,$i=null;break}e:{var O=l,Z=d.return,Se=d,Pe=u;if(u=zs,Se.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var Je=Pe,vt=Se,wt=vt.tag;if((vt.mode&1)===0&&(wt===0||wt===11||wt===15)){var gt=vt.alternate;gt?(vt.updateQueue=gt.updateQueue,vt.memoizedState=gt.memoizedState,vt.lanes=gt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Mt=Hw(Z);if(Mt!==null){Mt.flags&=-257,Ww(Mt,Z,Se,O,u),Mt.mode&1&&qw(O,Je,u),u=Mt,Pe=Je;var $t=u.updateQueue;if($t===null){var Qt=new Set;Qt.add(Pe),u.updateQueue=Qt}else $t.add(Pe);break e}else{if((u&1)===0){qw(O,Je,u),p2();break e}Pe=Error(t(426))}}else if(lt&&Se.mode&1){var Di=Hw(Z);if(Di!==null){(Di.flags&65536)===0&&(Di.flags|=256),Ww(Di,Z,Se,O,u),kt(Yh(Pe,Se));break e}}O=Pe=Yh(Pe,Se),ls!==4&&(ls=2),z0===null?z0=[O]:z0.push(O),O=Z;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var We=Uw(O,Pe,u);En(O,We);break e;case 1:Se=Pe;var De=O.type,Ye=O.stateNode;if((O.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||Ye!==null&&typeof Ye.componentDidCatch=="function"&&(gu===null||!gu.has(Ye)))){O.flags|=65536,u&=-u,O.lanes|=u;var St=zw(O,Se,u);En(O,St);break e}}O=O.return}while(O!==null)}E5(d)}catch(Zt){u=Zt,$i===d&&d!==null&&($i=d=d.return);continue}break}while(!0)}function _5(){var l=rm.current;return rm.current=Y1,l===null?Y1:l}function p2(){(ls===0||ls===3||ls===2)&&(ls=4),Es===null||(Lf&268435455)===0&&(nm&268435455)===0||yu(Es,zs)}function cm(l,u){var d=sn;sn|=2;var y=_5();(Es!==l||zs!==u)&&(Tc=null,Df(l,u));do try{RP();break}catch(k){y5(l,k)}while(!0);if(rn(),sn=d,rm.current=y,$i!==null)throw Error(t(261));return Es=null,zs=0,ls}function RP(){for(;$i!==null;)w5($i)}function LP(){for(;$i!==null&&!Ct();)w5($i)}function w5(l){var u=A5(l.alternate,l,go);l.memoizedProps=l.pendingProps,u===null?E5(l):$i=u,s2.current=null}function E5(l){var u=l;do{var d=u.alternate;if(l=u.return,(u.flags&32768)===0){if(d=AP(d,u,go),d!==null){$i=d;return}}else{if(d=SP(d,u),d!==null){d.flags&=32767,$i=d;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ls=6,$i=null;return}}if(u=u.sibling,u!==null){$i=u;return}$i=u=l}while(u!==null);ls===0&&(ls=5)}function Of(l,u,d){var y=Pr,k=Vo.transition;try{Vo.transition=null,Pr=1,FP(l,u,d,y)}finally{Vo.transition=k,Pr=y}return null}function FP(l,u,d,y){do ed();while(vu!==null);if((sn&6)!==0)throw Error(t(327));d=l.finishedWork;var k=l.finishedLanes;if(d===null)return null;if(l.finishedWork=null,l.finishedLanes=0,d===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var O=d.lanes|d.childLanes;if(Fr(l,O),l===Es&&($i=Es=null,zs=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||sm||(sm=!0,S5(Gr,function(){return ed(),null})),O=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||O){O=Vo.transition,Vo.transition=null;var Z=Pr;Pr=1;var Se=sn;sn|=4,s2.current=null,IP(l,d),h5(d,l),O1(vc),Io=!!kf,vc=kf=null,l.current=d,CP(d),Et(),sn=Se,Pr=Z,Vo.transition=O}else l.current=d;if(sm&&(sm=!1,vu=l,am=k),O=l.pendingLanes,O===0&&(gu=null),to(d.stateNode),Ka(l,mt()),u!==null)for(y=l.onRecoverableError,d=0;d<u.length;d++)k=u[d],y(k.value,{componentStack:k.stack,digest:k.digest});if(im)throw im=!1,l=l2,l2=null,l;return(am&1)!==0&&l.tag!==0&&ed(),O=l.pendingLanes,(O&1)!==0?l===c2?q0++:(q0=0,c2=l):q0=0,V(),null}function ed(){if(vu!==null){var l=Ls(am),u=Vo.transition,d=Pr;try{if(Vo.transition=null,Pr=16>l?16:l,vu===null)var y=!1;else{if(l=vu,vu=null,am=0,(sn&6)!==0)throw Error(t(331));var k=sn;for(sn|=4,Ht=l.current;Ht!==null;){var O=Ht,Z=O.child;if((Ht.flags&16)!==0){var Se=O.deletions;if(Se!==null){for(var Pe=0;Pe<Se.length;Pe++){var Je=Se[Pe];for(Ht=Je;Ht!==null;){var vt=Ht;switch(vt.tag){case 0:case 11:case 15:j0(8,vt,O)}var wt=vt.child;if(wt!==null)wt.return=vt,Ht=wt;else for(;Ht!==null;){vt=Ht;var gt=vt.sibling,Mt=vt.return;if(o5(vt),vt===Je){Ht=null;break}if(gt!==null){gt.return=Mt,Ht=gt;break}Ht=Mt}}}var $t=O.alternate;if($t!==null){var Qt=$t.child;if(Qt!==null){$t.child=null;do{var Di=Qt.sibling;Qt.sibling=null,Qt=Di}while(Qt!==null)}}Ht=O}}if((O.subtreeFlags&2064)!==0&&Z!==null)Z.return=O,Ht=Z;else e:for(;Ht!==null;){if(O=Ht,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:j0(9,O,O.return)}var We=O.sibling;if(We!==null){We.return=O.return,Ht=We;break e}Ht=O.return}}var De=l.current;for(Ht=De;Ht!==null;){Z=Ht;var Ye=Z.child;if((Z.subtreeFlags&2064)!==0&&Ye!==null)Ye.return=Z,Ht=Ye;else e:for(Z=De;Ht!==null;){if(Se=Ht,(Se.flags&2048)!==0)try{switch(Se.tag){case 0:case 11:case 15:tm(9,Se)}}catch(Zt){Ti(Se,Se.return,Zt)}if(Se===Z){Ht=null;break e}var St=Se.sibling;if(St!==null){St.return=Se.return,Ht=St;break e}Ht=Se.return}}if(sn=k,V(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(ms,l)}catch{}y=!0}return y}finally{Pr=d,Vo.transition=u}}return!1}function T5(l,u,d){u=Yh(d,u),u=Uw(l,u,1),l=hi(l,u,1),u=Ra(),l!==null&&(ko(l,1,u),Ka(l,u))}function Ti(l,u,d){if(l.tag===3)T5(l,l,d);else for(;u!==null;){if(u.tag===3){T5(u,l,d);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(gu===null||!gu.has(y))){l=Yh(d,l),l=zw(u,l,1),u=hi(u,l,1),l=Ra(),u!==null&&(ko(u,1,l),Ka(u,l));break}}u=u.return}}function DP(l,u,d){var y=l.pingCache;y!==null&&y.delete(u),u=Ra(),l.pingedLanes|=l.suspendedLanes&d,Es===l&&(zs&d)===d&&(ls===4||ls===3&&(zs&130023424)===zs&&500>mt()-o2?Df(l,0):a2|=d),Ka(l,u)}function b5(l,u){u===0&&((l.mode&1)===0?u=1:(u=Ys,Ys<<=1,(Ys&130023424)===0&&(Ys=4194304)));var d=Ra();l=wn(l,u),l!==null&&(ko(l,u,d),Ka(l,d))}function OP(l){var u=l.memoizedState,d=0;u!==null&&(d=u.retryLane),b5(l,d)}function MP(l,u){var d=0;switch(l.tag){case 13:var y=l.stateNode,k=l.memoizedState;k!==null&&(d=k.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(u),b5(l,d)}var A5;A5=function(l,u,d){if(l!==null)if(l.memoizedProps!==u.pendingProps||oa.current)Ga=!0;else{if((l.lanes&d)===0&&(u.flags&128)===0)return Ga=!1,bP(l,u,d);Ga=(l.flags&131072)!==0}else Ga=!1,lt&&(u.flags&1048576)!==0&&Ve(u,oe,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Z1(l,u),l=u.pendingProps;var k=uu(u,as.current);Zn(u,d),k=Nf(null,u,y,l,k,d);var O=Bo();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,la(y)?(O=!0,_c(u)):O=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,os(u),k.updater=Q1,u.stateNode=k,k._reactInternals=u,Wv(u,y,l,d),u=Xv(null,u,y,!0,O,d)):(u.tag=0,lt&&O&&st(u),Pa(null,u,k,d),u=u.child),u;case 16:y=u.elementType;e:{switch(Z1(l,u),l=u.pendingProps,k=y._init,y=k(y._payload),u.type=y,k=u.tag=VP(y),l=ol(y,l),k){case 0:u=Kv(null,u,y,l,d);break e;case 1:u=Qw(null,u,y,l,d);break e;case 11:u=Gw(null,u,y,l,d);break e;case 14:u=$w(null,u,y,ol(y.type,l),d);break e}throw Error(t(306,y,""))}return u;case 0:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:ol(y,k),Kv(l,u,y,k,d);case 1:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:ol(y,k),Qw(l,u,y,k,d);case 3:e:{if(Jw(u),l===null)throw Error(t(387));y=u.pendingProps,O=u.memoizedState,k=O.element,ca(l,u),ws(u,y,null,d);var Z=u.memoizedState;if(y=Z.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){k=Yh(Error(t(423)),u),u=Zw(l,u,y,d,k);break e}else if(y!==k){k=Yh(Error(t(424)),u),u=Zw(l,u,y,d,k);break e}else for(it=js(u.stateNode.containerInfo.firstChild),rt=u,lt=!0,ct=null,d=Wn(u,null,y,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(qt(),y===k){u=Ec(l,u,d);break e}Pa(l,u,y,d)}u=u.child}return u;case 5:return W1(u),l===null&&Gt(u),y=u.type,k=u.pendingProps,O=l!==null?l.memoizedProps:null,Z=k.children,C0(y,k)?Z=null:O!==null&&C0(y,O)&&(u.flags|=32),Yw(l,u),Pa(l,u,Z,d),u.child;case 6:return l===null&&Gt(u),null;case 13:return e5(l,u,d);case 4:return fu(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=_i(u,null,y,d):Pa(l,u,y,d),u.child;case 11:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:ol(y,k),Gw(l,u,y,k,d);case 7:return Pa(l,u,u.pendingProps,d),u.child;case 8:return Pa(l,u,u.pendingProps.children,d),u.child;case 12:return Pa(l,u,u.pendingProps.children,d),u.child;case 10:e:{if(y=u.type._context,k=u.pendingProps,O=u.memoizedProps,Z=k.value,vn(Li,y._currentValue),y._currentValue=Z,O!==null)if(Ri(O.value,Z)){if(O.children===k.children&&!oa.current){u=Ec(l,u,d);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var Se=O.dependencies;if(Se!==null){Z=O.child;for(var Pe=Se.firstContext;Pe!==null;){if(Pe.context===y){if(O.tag===1){Pe=fi(-1,d&-d),Pe.tag=2;var Je=O.updateQueue;if(Je!==null){Je=Je.shared;var vt=Je.pending;vt===null?Pe.next=Pe:(Pe.next=vt.next,vt.next=Pe),Je.pending=Pe}}O.lanes|=d,Pe=O.alternate,Pe!==null&&(Pe.lanes|=d),nn(O.return,d,u),Se.lanes|=d;break}Pe=Pe.next}}else if(O.tag===10)Z=O.type===u.type?null:O.child;else if(O.tag===18){if(Z=O.return,Z===null)throw Error(t(341));Z.lanes|=d,Se=Z.alternate,Se!==null&&(Se.lanes|=d),nn(Z,d,u),Z=O.sibling}else Z=O.child;if(Z!==null)Z.return=O;else for(Z=O;Z!==null;){if(Z===u){Z=null;break}if(O=Z.sibling,O!==null){O.return=Z.return,Z=O;break}Z=Z.return}O=Z}Pa(l,u,k.children,d),u=u.child}return u;case 9:return k=u.type,y=u.pendingProps.children,Zn(u,d),k=ei(k),y=y(k),u.flags|=1,Pa(l,u,y,d),u.child;case 14:return y=u.type,k=ol(y,u.pendingProps),k=ol(y.type,k),$w(l,u,y,k,d);case 15:return Kw(l,u,u.type,u.pendingProps,d);case 17:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:ol(y,k),Z1(l,u),u.tag=1,la(y)?(l=!0,_c(u)):l=!1,Zn(u,d),Vw(u,y,k),Wv(u,y,k,d),Xv(null,u,y,!0,l,d);case 19:return r5(l,u,d);case 22:return Xw(l,u,d)}throw Error(t(156,u.tag))};function S5(l,u){return ht(l,u)}function BP(l,u,d,y){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jo(l,u,d,y){return new BP(l,u,d,y)}function m2(l){return l=l.prototype,!(!l||!l.isReactComponent)}function VP(l){if(typeof l=="function")return m2(l)?1:0;if(l!=null){if(l=l.$$typeof,l===N)return 11;if(l===be)return 14}return 2}function _u(l,u){var d=l.alternate;return d===null?(d=jo(l.tag,u,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=u,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&14680064,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,u=l.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d}function um(l,u,d,y,k,O){var Z=2;if(y=l,typeof l=="function")m2(l)&&(Z=1);else if(typeof l=="string")Z=5;else e:switch(l){case F:return Mf(d.children,k,O,u);case A:Z=8,k|=8;break;case b:return l=jo(12,d,u,k|2),l.elementType=b,l.lanes=O,l;case B:return l=jo(13,d,u,k),l.elementType=B,l.lanes=O,l;case ce:return l=jo(19,d,u,k),l.elementType=ce,l.lanes=O,l;case Te:return fm(d,k,O,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:Z=10;break e;case C:Z=9;break e;case N:Z=11;break e;case be:Z=14;break e;case ke:Z=16,y=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=jo(Z,d,u,k),u.elementType=l,u.type=y,u.lanes=O,u}function Mf(l,u,d,y){return l=jo(7,l,y,u),l.lanes=d,l}function fm(l,u,d,y){return l=jo(22,l,y,u),l.elementType=Te,l.lanes=d,l.stateNode={isHidden:!1},l}function g2(l,u,d){return l=jo(6,l,null,u),l.lanes=d,l}function v2(l,u,d){return u=jo(4,l.children!==null?l.children:[],l.key,u),u.lanes=d,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function jP(l,u,d,y,k){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function x2(l,u,d,y,k,O,Z,Se,Pe){return l=new jP(l,u,d,Se,Pe),u===1?(u=1,O===!0&&(u|=8)):u=0,O=jo(3,null,null,u),l.current=O,O.stateNode=l,O.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},os(O),l}function UP(l,u,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:y==null?null:""+y,children:l,containerInfo:u,implementation:d}}function k5(l){if(!l)return Ol;l=l._reactInternals;e:{if(we(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(la(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var d=l.type;if(la(d))return L0(l,d,u)}return u}function I5(l,u,d,y,k,O,Z,Se,Pe){return l=x2(d,y,!0,l,k,O,Z,Se,Pe),l.context=k5(null),d=l.current,y=Ra(),k=xu(d),O=fi(y,k),O.callback=u??null,hi(d,O,k),l.current.lanes=k,ko(l,k,y),Ka(l,y),l}function hm(l,u,d,y){var k=u.current,O=Ra(),Z=xu(k);return d=k5(d),u.context===null?u.context=d:u.pendingContext=d,u=fi(O,Z),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=hi(k,u,Z),l!==null&&(ul(l,k,Z,O),_s(l,k,Z)),Z}function dm(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function C5(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<u?d:u}}function y2(l,u){C5(l,u),(l=l.alternate)&&C5(l,u)}function zP(){return null}var N5=typeof reportError=="function"?reportError:function(l){console.error(l)};function _2(l){this._internalRoot=l}pm.prototype.render=_2.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));hm(l,u,null,null)},pm.prototype.unmount=_2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Ff(function(){hm(null,l,null,null)}),u[xs]=null}};function pm(l){this._internalRoot=l}pm.prototype.unstable_scheduleHydration=function(l){if(l){var u=Qc();l={blockedOn:null,target:l,priority:u};for(var d=0;d<Va.length&&u!==0&&u<Va[d].priority;d++);Va.splice(d,0,l),d===0&&Zc(l)}};function w2(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function mm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function P5(){}function qP(l,u,d,y,k){if(k){if(typeof y=="function"){var O=y;y=function(){var Je=dm(Z);O.call(Je)}}var Z=I5(u,y,l,0,null,!1,!1,"",P5);return l._reactRootContainer=Z,l[xs]=Z.current,mc(l.nodeType===8?l.parentNode:l),Ff(),Z}for(;k=l.lastChild;)l.removeChild(k);if(typeof y=="function"){var Se=y;y=function(){var Je=dm(Pe);Se.call(Je)}}var Pe=x2(l,0,!1,null,null,!1,!1,"",P5);return l._reactRootContainer=Pe,l[xs]=Pe.current,mc(l.nodeType===8?l.parentNode:l),Ff(function(){hm(u,Pe,d,y)}),Pe}function gm(l,u,d,y,k){var O=d._reactRootContainer;if(O){var Z=O;if(typeof k=="function"){var Se=k;k=function(){var Pe=dm(Z);Se.call(Pe)}}hm(u,Z,l,k)}else Z=qP(d,u,l,k,y);return dm(Z)}Al=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var d=Qs(u.pendingLanes);d!==0&&(ro(u,d|1),Ka(u,mt()),(sn&6)===0&&(Zh=mt()+500,V()))}break;case 13:Ff(function(){var y=wn(l,1);if(y!==null){var k=Ra();ul(y,l,1,k)}}),y2(l,1)}},Sl=function(l){if(l.tag===13){var u=wn(l,134217728);if(u!==null){var d=Ra();ul(u,l,134217728,d)}y2(l,134217728)}},Yc=function(l){if(l.tag===13){var u=xu(l),d=wn(l,u);if(d!==null){var y=Ra();ul(d,l,u,y)}y2(l,u)}},Qc=function(){return Pr},kl=function(l,u){var d=Pr;try{return Pr=l,u()}finally{Pr=d}},hn=function(l,u,d){switch(u){case"input":if($e(l,d),u=d.name,d.type==="radio"&&u!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var y=d[u];if(y!==l&&y.form===l.form){var k=If(y);if(!k)throw Error(t(90));ae(y),$e(y,k)}}}break;case"textarea":Bt(l,d);break;case"select":u=d.value,u!=null&&ut(l,!!d.multiple,u,!1)}},On=h2,Rs=Ff;var HP={usingClientEntryPoint:!1,Events:[cu,xc,If,kr,ka,h2]},H0={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WP={bundleType:H0.bundleType,version:H0.version,rendererPackageName:H0.rendererPackageName,rendererConfig:H0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=He(l),l===null?null:l.stateNode},findFiberByHostInstance:H0.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{ms=vm.inject(WP),Mn=vm}catch{}}return Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP,Xa.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w2(u))throw Error(t(200));return UP(l,u,null,d)},Xa.createRoot=function(l,u){if(!w2(l))throw Error(t(299));var d=!1,y="",k=N5;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=x2(l,1,!1,null,null,d,!1,y,k),l[xs]=u.current,mc(l.nodeType===8?l.parentNode:l),new _2(u)},Xa.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=He(u),l=l===null?null:l.stateNode,l},Xa.flushSync=function(l){return Ff(l)},Xa.hydrate=function(l,u,d){if(!mm(u))throw Error(t(200));return gm(null,l,u,!0,d)},Xa.hydrateRoot=function(l,u,d){if(!w2(l))throw Error(t(405));var y=d!=null&&d.hydratedSources||null,k=!1,O="",Z=N5;if(d!=null&&(d.unstable_strictMode===!0&&(k=!0),d.identifierPrefix!==void 0&&(O=d.identifierPrefix),d.onRecoverableError!==void 0&&(Z=d.onRecoverableError)),u=I5(u,null,l,1,d??null,k,!1,O,Z),l[xs]=u.current,mc(l),y)for(l=0;l<y.length;l++)d=y[l],k=d._getVersion,k=k(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,k]:u.mutableSourceEagerHydrationData.push(d,k);return new pm(u)},Xa.render=function(l,u,d){if(!mm(u))throw Error(t(200));return gm(null,l,u,!1,d)},Xa.unmountComponentAtNode=function(l){if(!mm(l))throw Error(t(40));return l._reactRootContainer?(Ff(function(){gm(null,null,l,!1,function(){l._reactRootContainer=null,l[xs]=null})}),!0):!1},Xa.unstable_batchedUpdates=h2,Xa.unstable_renderSubtreeIntoContainer=function(l,u,d,y){if(!mm(d))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return gm(l,u,d,!1,y)},Xa.version="18.3.1-next-f1338f8080-20240426",Xa}var V5;function xA(){if(V5)return b2.exports;V5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),b2.exports=t6(),b2.exports}var j5;function r6(){if(j5)return xm;j5=1;var r=xA();return xm.createRoot=r.createRoot,xm.hydrateRoot=r.hydrateRoot,xm}var n6=r6();xA();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lp(){return Lp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Lp.apply(this,arguments)}var Mu;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Mu||(Mu={}));const U5="popstate";function i6(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return Ax("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:_A(i)}return a6(e,t,null,r)}function Ji(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yA(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s6(){return Math.random().toString(36).substr(2,8)}function z5(r,e){return{usr:r.state,key:r.key,idx:e}}function Ax(r,e,t,n){return t===void 0&&(t=null),Lp({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?e0(e):e,{state:t,key:e&&e.key||n||s6()})}function _A(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function e0(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function a6(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Mu.Pop,c=null,f=h();f==null&&(f=0,a.replaceState(Lp({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function p(){o=Mu.Pop;let T=h(),P=T==null?null:T-f;f=T,c&&c({action:o,location:w.location,delta:P})}function x(T,P){o=Mu.Push;let j=Ax(w.location,T,P);f=h()+1;let D=z5(j,f),q=w.createHref(j);try{a.pushState(D,"",q)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;i.location.assign(q)}s&&c&&c({action:o,location:w.location,delta:1})}function m(T,P){o=Mu.Replace;let j=Ax(w.location,T,P);f=h();let D=z5(j,f),q=w.createHref(j);a.replaceState(D,"",q),s&&c&&c({action:o,location:w.location,delta:0})}function E(T){let P=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof T=="string"?T:_A(T);return j=j.replace(/ $/,"%20"),Ji(P,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,P)}let w={get action(){return o},get location(){return r(i,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(U5,p),c=T,()=>{i.removeEventListener(U5,p),c=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let P=E(T);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:m,go(T){return a.go(T)}};return w}var q5;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(q5||(q5={}));function o6(r,e,t){return t===void 0&&(t="/"),l6(r,e,t)}function l6(r,e,t,n){let i=typeof e=="string"?e0(e):e,s=TA(i.pathname||"/",t);if(s==null)return null;let a=wA(r);c6(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let f=w6(s);o=x6(a[c],f)}return o}function wA(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ji(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let f=Xf([n,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Ji(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),wA(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:g6(f,s.index),routesMeta:h})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of EA(s.path))i(s,a,c)}),e}function EA(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=EA(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>r.startsWith("/")&&c===""?"/":c)}function c6(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:v6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const u6=/^:[\w-]+$/,f6=3,h6=2,d6=1,p6=10,m6=-2,H5=r=>r==="*";function g6(r,e){let t=r.split("/"),n=t.length;return t.some(H5)&&(n+=m6),e&&(n+=h6),t.filter(i=>!H5(i)).reduce((i,s)=>i+(u6.test(s)?f6:s===""?d6:p6),n)}function v6(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function x6(r,e,t){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],f=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=y6({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),x=c.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Xf([s,p.pathname]),pathnameBase:A6(Xf([s,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(s=Xf([s,p.pathnameBase]))}return a}function y6(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=_6(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((f,h,p)=>{let{paramName:x,isOptional:m}=h;if(x==="*"){let w=o[p]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const E=o[p];return m&&!E?f[x]=void 0:f[x]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:r}}function _6(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),yA(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function w6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yA(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function TA(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function E6(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?e0(r):r;return{pathname:t?t.startsWith("/")?t:T6(t,e):e,search:S6(n),hash:k6(i)}}function T6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function k2(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b6(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bA(r,e){let t=b6(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function AA(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=e0(r):(i=Lp({},r),Ji(!i.pathname||!i.pathname.includes("?"),k2("?","pathname","search",i)),Ji(!i.pathname||!i.pathname.includes("#"),k2("#","pathname","hash",i)),Ji(!i.search||!i.search.includes("#"),k2("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!n&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}o=p>=0?e[p]:"/"}let c=E6(i,o),f=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Xf=r=>r.join("/").replace(/\/\/+/g,"/"),A6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),S6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,k6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function I6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const SA=["post","put","patch","delete"];new Set(SA);const C6=["get",...SA];new Set(C6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fp(){return Fp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fp.apply(this,arguments)}const Py=Xe.createContext(null),N6=Xe.createContext(null),s1=Xe.createContext(null),ev=Xe.createContext(null),zc=Xe.createContext({outlet:null,matches:[],isDataRoute:!1}),kA=Xe.createContext(null);function a1(){return Xe.useContext(ev)!=null}function o1(){return a1()||Ji(!1),Xe.useContext(ev).location}function IA(r){Xe.useContext(s1).static||Xe.useLayoutEffect(r)}function lf(){let{isDataRoute:r}=Xe.useContext(zc);return r?G6():P6()}function P6(){a1()||Ji(!1);let r=Xe.useContext(Py),{basename:e,future:t,navigator:n}=Xe.useContext(s1),{matches:i}=Xe.useContext(zc),{pathname:s}=o1(),a=JSON.stringify(bA(i,t.v7_relativeSplatPath)),o=Xe.useRef(!1);return IA(()=>{o.current=!0}),Xe.useCallback(function(f,h){if(h===void 0&&(h={}),!o.current)return;if(typeof f=="number"){n.go(f);return}let p=AA(f,JSON.parse(a),s,h.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xf([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,r])}const R6=Xe.createContext(null);function L6(r){let e=Xe.useContext(zc).outlet;return e&&Xe.createElement(R6.Provider,{value:r},e)}function F6(){let{matches:r}=Xe.useContext(zc),e=r[r.length-1];return e?e.params:{}}function D6(r,e){return O6(r,e)}function O6(r,e,t,n){a1()||Ji(!1);let{navigator:i}=Xe.useContext(s1),{matches:s}=Xe.useContext(zc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=o1(),h;if(e){var p;let T=typeof e=="string"?e0(e):e;c==="/"||(p=T.pathname)!=null&&p.startsWith(c)||Ji(!1),h=T}else h=f;let x=h.pathname||"/",m=x;if(c!=="/"){let T=c.replace(/^\//,"").split("/");m="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=o6(r,{pathname:m}),w=U6(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},o,T.params),pathname:Xf([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Xf([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,t,n);return e&&w?Xe.createElement(ev.Provider,{value:{location:Fp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Mu.Pop}},w):w}function M6(){let r=W6(),e=I6(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Xe.createElement(Xe.Fragment,null,Xe.createElement("h2",null,"Unexpected Application Error!"),Xe.createElement("h3",{style:{fontStyle:"italic"}},e),t?Xe.createElement("pre",{style:i},t):null,null)}const B6=Xe.createElement(M6,null);class V6 extends Xe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Xe.createElement(zc.Provider,{value:this.props.routeContext},Xe.createElement(kA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j6(r){let{routeContext:e,match:t,children:n}=r,i=Xe.useContext(Py);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Xe.createElement(zc.Provider,{value:e},n)}function U6(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=(i=t)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);h>=0||Ji(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:x,errors:m}=t,E=p.route.loader&&x[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,x)=>{let m,E=!1,w=null,T=null;t&&(m=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||B6,c&&(f<0&&x===0?($6("route-fallback"),E=!0,T=null):f===x&&(E=!0,T=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,x+1)),j=()=>{let D;return m?D=w:E?D=T:p.route.Component?D=Xe.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,Xe.createElement(j6,{match:p,routeContext:{outlet:h,matches:P,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?Xe.createElement(V6,{location:t.location,revalidation:t.revalidation,component:w,error:m,children:j(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):j()},null)}var CA=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(CA||{}),NA=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(NA||{});function z6(r){let e=Xe.useContext(Py);return e||Ji(!1),e}function q6(r){let e=Xe.useContext(N6);return e||Ji(!1),e}function H6(r){let e=Xe.useContext(zc);return e||Ji(!1),e}function PA(r){let e=H6(),t=e.matches[e.matches.length-1];return t.route.id||Ji(!1),t.route.id}function W6(){var r;let e=Xe.useContext(kA),t=q6(),n=PA();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function G6(){let{router:r}=z6(CA.UseNavigateStable),e=PA(NA.UseNavigateStable),t=Xe.useRef(!1);return IA(()=>{t.current=!0}),Xe.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Fp({fromRouteId:e},s)))},[r,e])}const W5={};function $6(r,e,t){W5[r]||(W5[r]=!0)}function K6(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function I2(r){let{to:e,replace:t,state:n,relative:i}=r;a1()||Ji(!1);let{future:s,static:a}=Xe.useContext(s1),{matches:o}=Xe.useContext(zc),{pathname:c}=o1(),f=lf(),h=AA(e,bA(o,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return Xe.useEffect(()=>f(JSON.parse(p),{replace:t,state:n,relative:i}),[f,p,i,t,n]),null}function RA(r){return L6(r.context)}function bs(r){Ji(!1)}function X6(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Mu.Pop,navigator:s,static:a=!1,future:o}=r;a1()&&Ji(!1);let c=e.replace(/^\/*/,"/"),f=Xe.useMemo(()=>({basename:c,navigator:s,static:a,future:Fp({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof n=="string"&&(n=e0(n));let{pathname:h="/",search:p="",hash:x="",state:m=null,key:E="default"}=n,w=Xe.useMemo(()=>{let T=TA(h,c);return T==null?null:{location:{pathname:T,search:p,hash:x,state:m,key:E},navigationType:i}},[c,h,p,x,m,E,i]);return w==null?null:Xe.createElement(s1.Provider,{value:f},Xe.createElement(ev.Provider,{children:t,value:w}))}function G5(r){let{children:e,location:t}=r;return D6(Sx(e),t)}new Promise(()=>{});function Sx(r,e){e===void 0&&(e=[]);let t=[];return Xe.Children.forEach(r,(n,i)=>{if(!Xe.isValidElement(n))return;let s=[...e,i];if(n.type===Xe.Fragment){t.push.apply(t,Sx(n.props.children,s));return}n.type!==bs&&Ji(!1),!n.props.index||!n.props.children||Ji(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Sx(n.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Y6="6";try{window.__reactRouterVersion=Y6}catch{}const Q6="startTransition",$5=JP[Q6];function J6(r){let{basename:e,children:t,future:n,window:i}=r,s=Xe.useRef();s.current==null&&(s.current=i6({window:i,v5Compat:!0}));let a=s.current,[o,c]=Xe.useState({action:a.action,location:a.location}),{v7_startTransition:f}=n||{},h=Xe.useCallback(p=>{f&&$5?$5(()=>c(p)):c(p)},[c,f]);return Xe.useLayoutEffect(()=>a.listen(h),[a,h]),Xe.useEffect(()=>K6(n),[n]),Xe.createElement(X6,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:n})}var K5;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(K5||(K5={}));var X5;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(X5||(X5={}));var Y5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Z6=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],o=r[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},FA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,o=a?r[i+1]:0,c=i+2<r.length,f=c?r[i+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let x=(o&15)<<2|f>>6,m=f&63;c||(m=64,a||(x=64)),n.push(t[h],t[p],t[x],t[m])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Z6(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],o=i<r.length?t[r.charAt(i)]:0;++i;const f=i<r.length?t[r.charAt(i)]:64;++i;const p=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||o==null||f==null||p==null)throw new eR;const x=s<<2|o>>4;if(n.push(x),f!==64){const m=o<<4&240|f>>2;if(n.push(m),p!==64){const E=f<<6&192|p;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(r){const e=LA(r);return FA.encodeByteArray(e,!0)},mg=function(r){return tR(r).replace(/\./g,"")},DA=function(r){try{return FA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=()=>rR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof Y5>"u")return;const r=Y5.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&DA(r[1]);return e&&JSON.parse(e)},tv=()=>{try{return nR()||iR()||sR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},OA=r=>{var e,t;return(t=(e=tv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},MA=r=>{const e=OA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},BA=()=>{var r;return(r=tv())===null||r===void 0?void 0:r.config},VA=r=>{var e;return(e=tv())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[mg(JSON.stringify(t)),mg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function lR(){var r;const e=(r=tv())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const r=hs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function UA(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zA(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="FirebaseError";class rc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=pR,Object.setPrototypeOf(this,rc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l1.prototype.create)}}class l1{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?mR(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new rc(i,o,n)}}function mR(r,e){return r.replace(gR,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const gR=/\{\$([^}]+)}/g;function vR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gu(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(Q5(s)&&Q5(a)){if(!Gu(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function Q5(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function tp(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rp(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function xR(r,e){const t=new yR(r,e);return t.subscribe.bind(t)}class yR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=C2),i.error===void 0&&(i.error=C2),i.complete===void 0&&(i.complete=C2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function C2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(r){return r&&r._delegate?r._delegate:r}class $u{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new aR;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:Vf})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Vf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vf){return this.instances.has(e)}getOptions(e=Vf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vf){return this.component?this.component.multipleInstances?e:Vf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(r){return r===Vf?void 0:r}function TR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zr||(zr={}));const AR={debug:zr.DEBUG,verbose:zr.VERBOSE,info:zr.INFO,warn:zr.WARN,error:zr.ERROR,silent:zr.SILENT},SR=zr.INFO,kR={[zr.DEBUG]:"log",[zr.VERBOSE]:"log",[zr.INFO]:"info",[zr.WARN]:"warn",[zr.ERROR]:"error"},IR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=kR[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zr.DEBUG,...e),this._logHandler(this,zr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zr.VERBOSE,...e),this._logHandler(this,zr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zr.INFO,...e),this._logHandler(this,zr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zr.WARN,...e),this._logHandler(this,zr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zr.ERROR,...e),this._logHandler(this,zr.ERROR,...e)}}const CR=(r,e)=>e.some(t=>r instanceof t);let J5,Z5;function NR(){return J5||(J5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return Z5||(Z5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qA=new WeakMap,kx=new WeakMap,HA=new WeakMap,N2=new WeakMap,Ly=new WeakMap;function RR(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(qu(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&qA.set(t,r)}).catch(()=>{}),Ly.set(e,r),e}function LR(r){if(kx.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});kx.set(r,e)}let Ix={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return kx.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HA.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qu(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FR(r){Ix=r(Ix)}function DR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(P2(this),e,...t);return HA.set(n,e.sort?e.sort():[e]),qu(n)}:PR().includes(r)?function(...e){return r.apply(P2(this),e),qu(qA.get(this))}:function(...e){return qu(r.apply(P2(this),e))}}function OR(r){return typeof r=="function"?DR(r):(r instanceof IDBTransaction&&LR(r),CR(r,NR())?new Proxy(r,Ix):r)}function qu(r){if(r instanceof IDBRequest)return RR(r);if(N2.has(r))return N2.get(r);const e=OR(r);return e!==r&&(N2.set(r,e),Ly.set(e,r)),e}const P2=r=>Ly.get(r);function MR(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),o=qu(a);return n&&a.addEventListener("upgradeneeded",c=>{n(qu(a.result),c.oldVersion,c.newVersion,qu(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const BR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],R2=new Map;function eE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(R2.get(e))return R2.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=VR.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||BR.includes(t)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(o.shift())),(await Promise.all([f[t](...o),i&&c.done]))[0]};return R2.set(e,s),s}FR(r=>({...r,get:(e,t,n)=>eE(e,t)||r.get(e,t,n),has:(e,t)=>!!eE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UR(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function UR(r){const e=r.getComponent();return e?.type==="VERSION"}const Cx="@firebase/app",tE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Ry("@firebase/app"),zR="@firebase/app-compat",qR="@firebase/analytics-compat",HR="@firebase/analytics",WR="@firebase/app-check-compat",GR="@firebase/app-check",$R="@firebase/auth",KR="@firebase/auth-compat",XR="@firebase/database",YR="@firebase/data-connect",QR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",e8="@firebase/installations",t8="@firebase/installations-compat",r8="@firebase/messaging",n8="@firebase/messaging-compat",i8="@firebase/performance",s8="@firebase/performance-compat",a8="@firebase/remote-config",o8="@firebase/remote-config-compat",l8="@firebase/storage",c8="@firebase/storage-compat",u8="@firebase/firestore",f8="@firebase/vertexai-preview",h8="@firebase/firestore-compat",d8="firebase",p8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",m8={[Cx]:"fire-core",[zR]:"fire-core-compat",[HR]:"fire-analytics",[qR]:"fire-analytics-compat",[GR]:"fire-app-check",[WR]:"fire-app-check-compat",[$R]:"fire-auth",[KR]:"fire-auth-compat",[XR]:"fire-rtdb",[YR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[e8]:"fire-iid",[t8]:"fire-iid-compat",[r8]:"fire-fcm",[n8]:"fire-fcm-compat",[i8]:"fire-perf",[s8]:"fire-perf-compat",[a8]:"fire-rc",[o8]:"fire-rc-compat",[l8]:"fire-gcs",[c8]:"fire-gcs-compat",[u8]:"fire-fst",[h8]:"fire-fst-compat",[f8]:"fire-vertex","fire-js":"fire-js",[d8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Map,g8=new Map,Nx=new Map;function rE(r,e){try{r.container.addComponent(e)}catch(t){Oc.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function rh(r){const e=r.name;if(Nx.has(e))return Oc.debug(`There were multiple attempts to register component ${e}.`),!1;Nx.set(e,r);for(const t of vg.values())rE(t,r);for(const t of g8.values())rE(t,r);return!0}function t0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function v8(r,e,t=gg){t0(r,e).clearInstance(t)}function Hl(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new l1("app","Firebase",x8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $u("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=p8;function WA(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:gg,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Hu.create("bad-app-name",{appName:String(i)});if(t||(t=BA()),!t)throw Hu.create("no-options");const s=vg.get(i);if(s){if(Gu(t,s.options)&&Gu(n,s.config))return s;throw Hu.create("duplicate-app",{appName:i})}const a=new bR(i);for(const c of Nx.values())a.addComponent(c);const o=new y8(t,n,a);return vg.set(i,o),o}function Fy(r=gg){const e=vg.get(r);if(!e&&r===gg&&BA())return WA();if(!e)throw Hu.create("no-app",{appName:r});return e}function Xl(r,e,t){var n;let i=(n=m8[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oc.warn(o.join(" "));return}rh(new $u(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="firebase-heartbeat-database",w8=1,Dp="firebase-heartbeat-store";let L2=null;function GA(){return L2||(L2=MR(_8,w8,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dp)}catch(t){console.warn(t)}}}}).catch(r=>{throw Hu.create("idb-open",{originalErrorMessage:r.message})})),L2}async function E8(r){try{const t=(await GA()).transaction(Dp),n=await t.objectStore(Dp).get($A(r));return await t.done,n}catch(e){if(e instanceof rc)Oc.warn(e.message);else{const t=Hu.create("idb-get",{originalErrorMessage:e?.message});Oc.warn(t.message)}}}async function nE(r,e){try{const n=(await GA()).transaction(Dp,"readwrite");await n.objectStore(Dp).put(e,$A(r)),await n.done}catch(t){if(t instanceof rc)Oc.warn(t.message);else{const n=Hu.create("idb-set",{originalErrorMessage:t?.message});Oc.warn(n.message)}}}function $A(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=1024,b8=720*60*60*1e3;class A8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k8(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=b8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Oc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iE(),{heartbeatsToSend:n,unsentEntries:i}=S8(this._heartbeatsCache.heartbeats),s=mg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Oc.warn(t),""}}}function iE(){return new Date().toISOString().substring(0,10)}function S8(r,e=T8){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),sE(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class k8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zA()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await E8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return nE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return nE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sE(r){return mg(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(r){rh(new $u("platform-logger",e=>new jR(e),"PRIVATE")),rh(new $u("heartbeat",e=>new A8(e),"PRIVATE")),Xl(Cx,tE,r),Xl(Cx,tE,"esm2017"),Xl("fire-js","")}I8("");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yf,KA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,A){function b(){}b.prototype=A.prototype,F.D=A.prototype,F.prototype=new b,F.prototype.constructor=F,F.C=function(M,C,N){for(var B=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)B[ce-2]=arguments[ce];return A.prototype[C].apply(M,B)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,A,b){b||(b=0);var M=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)M[C]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(C=0;16>C;++C)M[C]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=F.g[0],b=F.g[1],C=F.g[2];var N=F.g[3],B=A+(N^b&(C^N))+M[0]+3614090360&4294967295;A=b+(B<<7&4294967295|B>>>25),B=N+(C^A&(b^C))+M[1]+3905402710&4294967295,N=A+(B<<12&4294967295|B>>>20),B=C+(b^N&(A^b))+M[2]+606105819&4294967295,C=N+(B<<17&4294967295|B>>>15),B=b+(A^C&(N^A))+M[3]+3250441966&4294967295,b=C+(B<<22&4294967295|B>>>10),B=A+(N^b&(C^N))+M[4]+4118548399&4294967295,A=b+(B<<7&4294967295|B>>>25),B=N+(C^A&(b^C))+M[5]+1200080426&4294967295,N=A+(B<<12&4294967295|B>>>20),B=C+(b^N&(A^b))+M[6]+2821735955&4294967295,C=N+(B<<17&4294967295|B>>>15),B=b+(A^C&(N^A))+M[7]+4249261313&4294967295,b=C+(B<<22&4294967295|B>>>10),B=A+(N^b&(C^N))+M[8]+1770035416&4294967295,A=b+(B<<7&4294967295|B>>>25),B=N+(C^A&(b^C))+M[9]+2336552879&4294967295,N=A+(B<<12&4294967295|B>>>20),B=C+(b^N&(A^b))+M[10]+4294925233&4294967295,C=N+(B<<17&4294967295|B>>>15),B=b+(A^C&(N^A))+M[11]+2304563134&4294967295,b=C+(B<<22&4294967295|B>>>10),B=A+(N^b&(C^N))+M[12]+1804603682&4294967295,A=b+(B<<7&4294967295|B>>>25),B=N+(C^A&(b^C))+M[13]+4254626195&4294967295,N=A+(B<<12&4294967295|B>>>20),B=C+(b^N&(A^b))+M[14]+2792965006&4294967295,C=N+(B<<17&4294967295|B>>>15),B=b+(A^C&(N^A))+M[15]+1236535329&4294967295,b=C+(B<<22&4294967295|B>>>10),B=A+(C^N&(b^C))+M[1]+4129170786&4294967295,A=b+(B<<5&4294967295|B>>>27),B=N+(b^C&(A^b))+M[6]+3225465664&4294967295,N=A+(B<<9&4294967295|B>>>23),B=C+(A^b&(N^A))+M[11]+643717713&4294967295,C=N+(B<<14&4294967295|B>>>18),B=b+(N^A&(C^N))+M[0]+3921069994&4294967295,b=C+(B<<20&4294967295|B>>>12),B=A+(C^N&(b^C))+M[5]+3593408605&4294967295,A=b+(B<<5&4294967295|B>>>27),B=N+(b^C&(A^b))+M[10]+38016083&4294967295,N=A+(B<<9&4294967295|B>>>23),B=C+(A^b&(N^A))+M[15]+3634488961&4294967295,C=N+(B<<14&4294967295|B>>>18),B=b+(N^A&(C^N))+M[4]+3889429448&4294967295,b=C+(B<<20&4294967295|B>>>12),B=A+(C^N&(b^C))+M[9]+568446438&4294967295,A=b+(B<<5&4294967295|B>>>27),B=N+(b^C&(A^b))+M[14]+3275163606&4294967295,N=A+(B<<9&4294967295|B>>>23),B=C+(A^b&(N^A))+M[3]+4107603335&4294967295,C=N+(B<<14&4294967295|B>>>18),B=b+(N^A&(C^N))+M[8]+1163531501&4294967295,b=C+(B<<20&4294967295|B>>>12),B=A+(C^N&(b^C))+M[13]+2850285829&4294967295,A=b+(B<<5&4294967295|B>>>27),B=N+(b^C&(A^b))+M[2]+4243563512&4294967295,N=A+(B<<9&4294967295|B>>>23),B=C+(A^b&(N^A))+M[7]+1735328473&4294967295,C=N+(B<<14&4294967295|B>>>18),B=b+(N^A&(C^N))+M[12]+2368359562&4294967295,b=C+(B<<20&4294967295|B>>>12),B=A+(b^C^N)+M[5]+4294588738&4294967295,A=b+(B<<4&4294967295|B>>>28),B=N+(A^b^C)+M[8]+2272392833&4294967295,N=A+(B<<11&4294967295|B>>>21),B=C+(N^A^b)+M[11]+1839030562&4294967295,C=N+(B<<16&4294967295|B>>>16),B=b+(C^N^A)+M[14]+4259657740&4294967295,b=C+(B<<23&4294967295|B>>>9),B=A+(b^C^N)+M[1]+2763975236&4294967295,A=b+(B<<4&4294967295|B>>>28),B=N+(A^b^C)+M[4]+1272893353&4294967295,N=A+(B<<11&4294967295|B>>>21),B=C+(N^A^b)+M[7]+4139469664&4294967295,C=N+(B<<16&4294967295|B>>>16),B=b+(C^N^A)+M[10]+3200236656&4294967295,b=C+(B<<23&4294967295|B>>>9),B=A+(b^C^N)+M[13]+681279174&4294967295,A=b+(B<<4&4294967295|B>>>28),B=N+(A^b^C)+M[0]+3936430074&4294967295,N=A+(B<<11&4294967295|B>>>21),B=C+(N^A^b)+M[3]+3572445317&4294967295,C=N+(B<<16&4294967295|B>>>16),B=b+(C^N^A)+M[6]+76029189&4294967295,b=C+(B<<23&4294967295|B>>>9),B=A+(b^C^N)+M[9]+3654602809&4294967295,A=b+(B<<4&4294967295|B>>>28),B=N+(A^b^C)+M[12]+3873151461&4294967295,N=A+(B<<11&4294967295|B>>>21),B=C+(N^A^b)+M[15]+530742520&4294967295,C=N+(B<<16&4294967295|B>>>16),B=b+(C^N^A)+M[2]+3299628645&4294967295,b=C+(B<<23&4294967295|B>>>9),B=A+(C^(b|~N))+M[0]+4096336452&4294967295,A=b+(B<<6&4294967295|B>>>26),B=N+(b^(A|~C))+M[7]+1126891415&4294967295,N=A+(B<<10&4294967295|B>>>22),B=C+(A^(N|~b))+M[14]+2878612391&4294967295,C=N+(B<<15&4294967295|B>>>17),B=b+(N^(C|~A))+M[5]+4237533241&4294967295,b=C+(B<<21&4294967295|B>>>11),B=A+(C^(b|~N))+M[12]+1700485571&4294967295,A=b+(B<<6&4294967295|B>>>26),B=N+(b^(A|~C))+M[3]+2399980690&4294967295,N=A+(B<<10&4294967295|B>>>22),B=C+(A^(N|~b))+M[10]+4293915773&4294967295,C=N+(B<<15&4294967295|B>>>17),B=b+(N^(C|~A))+M[1]+2240044497&4294967295,b=C+(B<<21&4294967295|B>>>11),B=A+(C^(b|~N))+M[8]+1873313359&4294967295,A=b+(B<<6&4294967295|B>>>26),B=N+(b^(A|~C))+M[15]+4264355552&4294967295,N=A+(B<<10&4294967295|B>>>22),B=C+(A^(N|~b))+M[6]+2734768916&4294967295,C=N+(B<<15&4294967295|B>>>17),B=b+(N^(C|~A))+M[13]+1309151649&4294967295,b=C+(B<<21&4294967295|B>>>11),B=A+(C^(b|~N))+M[4]+4149444226&4294967295,A=b+(B<<6&4294967295|B>>>26),B=N+(b^(A|~C))+M[11]+3174756917&4294967295,N=A+(B<<10&4294967295|B>>>22),B=C+(A^(N|~b))+M[2]+718787259&4294967295,C=N+(B<<15&4294967295|B>>>17),B=b+(N^(C|~A))+M[9]+3951481745&4294967295,F.g[0]=F.g[0]+A&4294967295,F.g[1]=F.g[1]+(C+(B<<21&4294967295|B>>>11))&4294967295,F.g[2]=F.g[2]+C&4294967295,F.g[3]=F.g[3]+N&4294967295}n.prototype.u=function(F,A){A===void 0&&(A=F.length);for(var b=A-this.blockSize,M=this.B,C=this.h,N=0;N<A;){if(C==0)for(;N<=b;)i(this,F,N),N+=this.blockSize;if(typeof F=="string"){for(;N<A;)if(M[C++]=F.charCodeAt(N++),C==this.blockSize){i(this,M),C=0;break}}else for(;N<A;)if(M[C++]=F[N++],C==this.blockSize){i(this,M),C=0;break}}this.h=C,this.o+=A},n.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var A=1;A<F.length-8;++A)F[A]=0;var b=8*this.o;for(A=F.length-8;A<F.length;++A)F[A]=b&255,b/=256;for(this.u(F),F=Array(16),A=b=0;4>A;++A)for(var M=0;32>M;M+=8)F[b++]=this.g[A]>>>M&255;return F};function s(F,A){var b=o;return Object.prototype.hasOwnProperty.call(b,F)?b[F]:b[F]=A(F)}function a(F,A){this.h=A;for(var b=[],M=!0,C=F.length-1;0<=C;C--){var N=F[C]|0;M&&N==A||(b[C]=N,M=!1)}this.g=b}var o={};function c(F){return-128<=F&&128>F?s(F,function(A){return new a([A|0],0>A?-1:0)}):new a([F|0],0>F?-1:0)}function f(F){if(isNaN(F)||!isFinite(F))return p;if(0>F)return T(f(-F));for(var A=[],b=1,M=0;F>=b;M++)A[M]=F/b|0,b*=4294967296;return new a(A,0)}function h(F,A){if(F.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(F.charAt(0)=="-")return T(h(F.substring(1),A));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=f(Math.pow(A,8)),M=p,C=0;C<F.length;C+=8){var N=Math.min(8,F.length-C),B=parseInt(F.substring(C,C+N),A);8>N?(N=f(Math.pow(A,N)),M=M.j(N).add(f(B))):(M=M.j(b),M=M.add(f(B)))}return M}var p=c(0),x=c(1),m=c(16777216);r=a.prototype,r.m=function(){if(w(this))return-T(this).m();for(var F=0,A=1,b=0;b<this.g.length;b++){var M=this.i(b);F+=(0<=M?M:4294967296+M)*A,A*=4294967296}return F},r.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(E(this))return"0";if(w(this))return"-"+T(this).toString(F);for(var A=f(Math.pow(F,6)),b=this,M="";;){var C=q(b,A).g;b=P(b,C.j(A));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(F);if(b=C,E(b))return N+M;for(;6>N.length;)N="0"+N;M=N+M}},r.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function E(F){if(F.h!=0)return!1;for(var A=0;A<F.g.length;A++)if(F.g[A]!=0)return!1;return!0}function w(F){return F.h==-1}r.l=function(F){return F=P(this,F),w(F)?-1:E(F)?0:1};function T(F){for(var A=F.g.length,b=[],M=0;M<A;M++)b[M]=~F.g[M];return new a(b,~F.h).add(x)}r.abs=function(){return w(this)?T(this):this},r.add=function(F){for(var A=Math.max(this.g.length,F.g.length),b=[],M=0,C=0;C<=A;C++){var N=M+(this.i(C)&65535)+(F.i(C)&65535),B=(N>>>16)+(this.i(C)>>>16)+(F.i(C)>>>16);M=B>>>16,N&=65535,B&=65535,b[C]=B<<16|N}return new a(b,b[b.length-1]&-2147483648?-1:0)};function P(F,A){return F.add(T(A))}r.j=function(F){if(E(this)||E(F))return p;if(w(this))return w(F)?T(this).j(T(F)):T(T(this).j(F));if(w(F))return T(this.j(T(F)));if(0>this.l(m)&&0>F.l(m))return f(this.m()*F.m());for(var A=this.g.length+F.g.length,b=[],M=0;M<2*A;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(var C=0;C<F.g.length;C++){var N=this.i(M)>>>16,B=this.i(M)&65535,ce=F.i(C)>>>16,be=F.i(C)&65535;b[2*M+2*C]+=B*be,j(b,2*M+2*C),b[2*M+2*C+1]+=N*be,j(b,2*M+2*C+1),b[2*M+2*C+1]+=B*ce,j(b,2*M+2*C+1),b[2*M+2*C+2]+=N*ce,j(b,2*M+2*C+2)}for(M=0;M<A;M++)b[M]=b[2*M+1]<<16|b[2*M];for(M=A;M<2*A;M++)b[M]=0;return new a(b,0)};function j(F,A){for(;(F[A]&65535)!=F[A];)F[A+1]+=F[A]>>>16,F[A]&=65535,A++}function D(F,A){this.g=F,this.h=A}function q(F,A){if(E(A))throw Error("division by zero");if(E(F))return new D(p,p);if(w(F))return A=q(T(F),A),new D(T(A.g),T(A.h));if(w(A))return A=q(F,T(A)),new D(T(A.g),A.h);if(30<F.g.length){if(w(F)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var b=x,M=A;0>=M.l(F);)b=se(b),M=se(M);var C=Q(b,1),N=Q(M,1);for(M=Q(M,2),b=Q(b,2);!E(M);){var B=N.add(M);0>=B.l(F)&&(C=C.add(b),N=B),M=Q(M,1),b=Q(b,1)}return A=P(F,C.j(A)),new D(C,A)}for(C=p;0<=F.l(A);){for(b=Math.max(1,Math.floor(F.m()/A.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),N=f(b),B=N.j(A);w(B)||0<B.l(F);)b-=M,N=f(b),B=N.j(A);E(N)&&(N=x),C=C.add(N),F=P(F,B)}return new D(C,F)}r.A=function(F){return q(this,F).h},r.and=function(F){for(var A=Math.max(this.g.length,F.g.length),b=[],M=0;M<A;M++)b[M]=this.i(M)&F.i(M);return new a(b,this.h&F.h)},r.or=function(F){for(var A=Math.max(this.g.length,F.g.length),b=[],M=0;M<A;M++)b[M]=this.i(M)|F.i(M);return new a(b,this.h|F.h)},r.xor=function(F){for(var A=Math.max(this.g.length,F.g.length),b=[],M=0;M<A;M++)b[M]=this.i(M)^F.i(M);return new a(b,this.h^F.h)};function se(F){for(var A=F.g.length+1,b=[],M=0;M<A;M++)b[M]=F.i(M)<<1|F.i(M-1)>>>31;return new a(b,F.h)}function Q(F,A){var b=A>>5;A%=32;for(var M=F.g.length-b,C=[],N=0;N<M;N++)C[N]=0<A?F.i(N+b)>>>A|F.i(N+b+1)<<32-A:F.i(N+b);return new a(C,F.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,KA=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Yf=a}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XA,np,YA,Xm,Px,QA,JA,ZA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,L,H){return v==Array.prototype||v==Object.prototype||(v[L]=H.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var L=0;L<v.length;++L){var H=v[L];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=t(this);function i(v,L){if(L)e:{var H=n;v=v.split(".");for(var le=0;le<v.length-1;le++){var Be=v[le];if(!(Be in H))break e;H=H[Be]}v=v[v.length-1],le=H[v],L=L(le),L!=le&&L!=null&&e(H,v,{configurable:!0,writable:!0,value:L})}}function s(v,L){v instanceof String&&(v+="");var H=0,le=!1,Be={next:function(){if(!le&&H<v.length){var et=H++;return{value:L(et,v[et]),done:!1}}return le=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}i("Array.prototype.values",function(v){return v||function(){return s(this,function(L,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(v){var L=typeof v;return L=L!="object"?L:v?Array.isArray(v)?"array":L:"null",L=="array"||L=="object"&&typeof v.length=="number"}function f(v){var L=typeof v;return L=="object"&&v!=null||L=="function"}function h(v,L,H){return v.call.apply(v.bind,arguments)}function p(v,L,H){if(!v)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,le),v.apply(L,Be)}}return function(){return v.apply(L,arguments)}}function x(v,L,H){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,x.apply(null,arguments)}function m(v,L){var H=Array.prototype.slice.call(arguments,1);return function(){var le=H.slice();return le.push.apply(le,arguments),v.apply(this,le)}}function E(v,L){function H(){}H.prototype=L.prototype,v.aa=L.prototype,v.prototype=new H,v.prototype.constructor=v,v.Qb=function(le,Be,et){for(var xt=Array(arguments.length-2),Yr=2;Yr<arguments.length;Yr++)xt[Yr-2]=arguments[Yr];return L.prototype[Be].apply(le,xt)}}function w(v){const L=v.length;if(0<L){const H=Array(L);for(let le=0;le<L;le++)H[le]=v[le];return H}return[]}function T(v,L){for(let H=1;H<arguments.length;H++){const le=arguments[H];if(c(le)){const Be=v.length||0,et=le.length||0;v.length=Be+et;for(let xt=0;xt<et;xt++)v[Be+xt]=le[xt]}else v.push(le)}}class P{constructor(L,H){this.i=L,this.j=H,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function j(v){return/^[\s\xa0]*$/.test(v)}function D(){var v=o.navigator;return v&&(v=v.userAgent)?v:""}function q(v){return q[" "](v),v}q[" "]=function(){};var se=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function Q(v,L,H){for(const le in v)L.call(H,v[le],le,v)}function F(v,L){for(const H in v)L.call(void 0,v[H],H,v)}function A(v){const L={};for(const H in v)L[H]=v[H];return L}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(v,L){let H,le;for(let Be=1;Be<arguments.length;Be++){le=arguments[Be];for(H in le)v[H]=le[H];for(let et=0;et<b.length;et++)H=b[et],Object.prototype.hasOwnProperty.call(le,H)&&(v[H]=le[H])}}function C(v){var L=1;v=v.split(":");const H=[];for(;0<L&&v.length;)H.push(v.shift()),L--;return v.length&&H.push(v.join(":")),H}function N(v){o.setTimeout(()=>{throw v},0)}function B(){var v=te;let L=null;return v.g&&(L=v.g,v.g=v.g.next,v.g||(v.h=null),L.next=null),L}class ce{constructor(){this.h=this.g=null}add(L,H){const le=be.get();le.set(L,H),this.h?this.h.next=le:this.g=le,this.h=le}}var be=new P(()=>new ke,v=>v.reset());class ke{constructor(){this.next=this.g=this.h=null}set(L,H){this.h=L,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,de=!1,te=new ce,Ce=()=>{const v=o.Promise.resolve(void 0);Te=()=>{v.then(re)}};var re=()=>{for(var v;v=B();){try{v.h.call(v.g)}catch(H){N(H)}var L=be;L.j(v),100>L.h&&(L.h++,v.next=L.g,L.g=v)}de=!1};function S(){this.s=this.s,this.C=this.C}S.prototype.s=!1,S.prototype.ma=function(){this.s||(this.s=!0,this.N())},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(v,L){this.type=v,this.g=this.target=L,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,L=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};o.addEventListener("test",H,L),o.removeEventListener("test",H,L)}catch{}return v})();function K(v,L){if(U.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var H=this.type=v.type,le=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=L,L=v.relatedTarget){if(se){e:{try{q(L.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(L=null)}}else H=="mouseover"?L=v.fromElement:H=="mouseout"&&(L=v.toElement);this.relatedTarget=L,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ie[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&K.aa.h.call(this)}}E(K,U);var ie={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function xe(v,L,H,le,Be){this.listener=v,this.proxy=null,this.src=L,this.type=H,this.capture=!!le,this.ha=Be,this.key=++Ee,this.da=this.fa=!1}function Ae(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Me(v){this.src=v,this.g={},this.h=0}Me.prototype.add=function(v,L,H,le,Be){var et=v.toString();v=this.g[et],v||(v=this.g[et]=[],this.h++);var xt=at(v,L,le,Be);return-1<xt?(L=v[xt],H||(L.fa=!1)):(L=new xe(L,this.src,et,!!le,Be),L.fa=H,v.push(L)),L};function ae(v,L){var H=L.type;if(H in v.g){var le=v.g[H],Be=Array.prototype.indexOf.call(le,L,void 0),et;(et=0<=Be)&&Array.prototype.splice.call(le,Be,1),et&&(Ae(L),v.g[H].length==0&&(delete v.g[H],v.h--))}}function at(v,L,H,le){for(var Be=0;Be<v.length;++Be){var et=v[Be];if(!et.da&&et.listener==L&&et.capture==!!H&&et.ha==le)return Be}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),G={};function Fe(v,L,H,le,Be){if(Array.isArray(L)){for(var et=0;et<L.length;et++)Fe(v,L[et],H,le,Be);return null}return H=Ot(H),v&&v[pe]?v.K(L,H,f(le)?!!le.capture:!1,Be):$e(v,L,H,!1,le,Be)}function $e(v,L,H,le,Be,et){if(!L)throw Error("Invalid event type");var xt=f(Be)?!!Be.capture:!!Be,Yr=Rt(v);if(Yr||(v[Re]=Yr=new Me(v)),H=Yr.add(L,H,le,xt,et),H.proxy)return H;if(le=nt(),H.proxy=le,le.src=v,le.listener=H,v.addEventListener)W||(Be=xt),Be===void 0&&(Be=!1),v.addEventListener(L.toString(),le,Be);else if(v.attachEvent)v.attachEvent(ut(L.toString()),le);else if(v.addListener&&v.removeListener)v.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return H}function nt(){function v(H){return L.call(v.src,v.listener,H)}const L=Wt;return v}function tt(v,L,H,le,Be){if(Array.isArray(L))for(var et=0;et<L.length;et++)tt(v,L[et],H,le,Be);else le=f(le)?!!le.capture:!!le,H=Ot(H),v&&v[pe]?(v=v.i,L=String(L).toString(),L in v.g&&(et=v.g[L],H=at(et,H,le,Be),-1<H&&(Ae(et[H]),Array.prototype.splice.call(et,H,1),et.length==0&&(delete v.g[L],v.h--)))):v&&(v=Rt(v))&&(L=v.g[L.toString()],v=-1,L&&(v=at(L,H,le,Be)),(H=-1<v?L[v]:null)&&_t(H))}function _t(v){if(typeof v!="number"&&v&&!v.da){var L=v.src;if(L&&L[pe])ae(L.i,v);else{var H=v.type,le=v.proxy;L.removeEventListener?L.removeEventListener(H,le,v.capture):L.detachEvent?L.detachEvent(ut(H),le):L.addListener&&L.removeListener&&L.removeListener(le),(H=Rt(L))?(ae(H,v),H.h==0&&(H.src=null,L[Re]=null)):Ae(v)}}}function ut(v){return v in G?G[v]:G[v]="on"+v}function Wt(v,L){if(v.da)v=!0;else{L=new K(L,this);var H=v.listener,le=v.ha||v.src;v.fa&&_t(v),v=H.call(le,L)}return v}function Rt(v){return v=v[Re],v instanceof Me?v:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(v){return typeof v=="function"?v:(v[Bt]||(v[Bt]=function(L){return v.handleEvent(L)}),v[Bt])}function bt(){S.call(this),this.i=new Me(this),this.M=this,this.F=null}E(bt,S),bt.prototype[pe]=!0,bt.prototype.removeEventListener=function(v,L,H,le){tt(this,v,L,H,le)};function Vt(v,L){var H,le=v.F;if(le)for(H=[];le;le=le.F)H.push(le);if(v=v.M,le=L.type||L,typeof L=="string")L=new U(L,v);else if(L instanceof U)L.target=L.target||v;else{var Be=L;L=new U(le,v),M(L,Be)}if(Be=!0,H)for(var et=H.length-1;0<=et;et--){var xt=L.g=H[et];Be=Pt(xt,le,!0,L)&&Be}if(xt=L.g=v,Be=Pt(xt,le,!0,L)&&Be,Be=Pt(xt,le,!1,L)&&Be,H)for(et=0;et<H.length;et++)xt=L.g=H[et],Be=Pt(xt,le,!1,L)&&Be}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var v=this.i,L;for(L in v.g){for(var H=v.g[L],le=0;le<H.length;le++)Ae(H[le]);delete v.g[L],v.h--}}this.F=null},bt.prototype.K=function(v,L,H,le){return this.i.add(String(v),L,!1,H,le)},bt.prototype.L=function(v,L,H,le){return this.i.add(String(v),L,!0,H,le)};function Pt(v,L,H,le){if(L=v.i.g[String(L)],!L)return!0;L=L.concat();for(var Be=!0,et=0;et<L.length;++et){var xt=L[et];if(xt&&!xt.da&&xt.capture==H){var Yr=xt.listener,Bn=xt.ha||xt.src;xt.fa&&ae(v.i,xt),Be=Yr.call(Bn,le)!==!1&&Be}}return Be&&!le.defaultPrevented}function Lt(v,L,H){if(typeof v=="function")H&&(v=x(v,H));else if(v&&typeof v.handleEvent=="function")v=x(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:o.setTimeout(v,L||0)}function yt(v){v.g=Lt(()=>{v.g=null,v.i&&(v.i=!1,yt(v))},v.l);const L=v.h;v.h=null,v.m.apply(null,L)}class Tt extends S{constructor(L,H){super(),this.m=L,this.l=H,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(v){S.call(this),this.h=v,this.g={}}E(tr,S);var Yt=[];function Ft(v){Q(v.g,function(L,H){this.g.hasOwnProperty(H)&&_t(L)},v),v.g={}}tr.prototype.N=function(){tr.aa.N.call(this),Ft(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=o.JSON.stringify,Wr=o.JSON.parse,rr=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function wr(){}wr.prototype.h=null;function lr(v){return v.h||(v.h=v.i())}function hn(){}var Xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){U.call(this,"d")}E(Nr,U);function ir(){U.call(this,"c")}E(ir,U);var kr={},ka=null;function On(){return ka=ka||new bt}kr.La="serverreachability";function Rs(v){U.call(this,kr.La,v)}E(Rs,U);function vi(v){const L=On();Vt(L,new Rs(L))}kr.STAT_EVENT="statevent";function nr(v,L){U.call(this,kr.STAT_EVENT,v),this.stat=L}E(nr,U);function en(v){const L=On();Vt(L,new nr(L,v))}kr.Ma="timingevent";function ps(v,L){U.call(this,kr.Ma,v),this.size=L}E(ps,U);function An(v,L){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},L)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function cn(v,L,H,le,Be,et){v.info(function(){if(v.g)if(et)for(var xt="",Yr=et.split("&"),Bn=0;Bn<Yr.length;Bn++){var Rr=Yr[Bn].split("=");if(1<Rr.length){var Dr=Rr[0];Rr=Rr[1];var tn=Dr.split("_");xt=2<=tn.length&&tn[1]=="type"?xt+(Dr+"="+Rr+"&"):xt+(Dr+"=redacted&")}}else xt=null;else xt=et;return"XMLHTTP REQ ("+le+") [attempt "+Be+"]: "+L+`
`+H+`
`+xt})}function Rn(v,L,H,le,Be,et,xt){v.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+Be+"]: "+L+`
`+H+`
`+et+" "+xt})}function J(v,L,H,le){v.info(function(){return"XMLHTTP TEXT ("+L+"): "+fe(v,H)+(le?" "+le:"")})}function ye(v,L){v.info(function(){return"TIMEOUT: "+L})}xi.prototype.info=function(){};function fe(v,L){if(!v.g)return L;if(!L)return null;try{var H=JSON.parse(L);if(H){for(v=0;v<H.length;v++)if(Array.isArray(H[v])){var le=H[v];if(!(2>le.length)){var Be=le[1];if(Array.isArray(Be)&&!(1>Be.length)){var et=Be[0];if(et!="noop"&&et!="stop"&&et!="close")for(var xt=1;xt<Be.length;xt++)Be[xt]=""}}}}return fr(H)}catch{return L}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function je(){}E(je,wr),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},we=new je;function Qe(v,L,H,le){this.j=v,this.i=L,this.l=H,this.R=le||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var He={},Ke={};function ht(v,L,H){v.L=1,v.v=ro(es(L)),v.m=H,v.P=!0,At(v,null)}function At(v,L){v.F=Date.now(),mt(v),v.A=es(v.v);var H=v.A,le=v.R;Array.isArray(le)||(le=[String(le)]),or(H.i,"t",le),v.C=0,H=v.j.J,v.h=new qe,v.g=oo(v.j,H?L:null,!v.m),0<v.O&&(v.M=new Tt(x(v.Y,v,v.g),v.O)),L=v.U,H=v.g,le=v.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(Yt[0]=Be.toString()),Be=Yt);for(var et=0;et<Be.length;et++){var xt=Fe(H,Be[et],le||L.handleEvent,!1,L.h||L);if(!xt)break;L.g[xt.key]=xt}L=v.H?A(v.H):{},v.m?(v.u||(v.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,L)):(v.u="GET",v.g.ea(v.A,v.u,null,L)),vi(),cn(v.i,v.u,v.A,v.l,v.R,v.m)}Qe.prototype.ca=function(v){v=v.target;const L=this.M;L&&zi(v)==3?L.j():this.Y(v)},Qe.prototype.Y=function(v){try{if(v==this.g)e:{const tn=zi(this.g);var L=this.g.Ba();const vs=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Jo(this.g)))){this.J||tn!=4||L==7||(L==8||0>=vs?vi(3):vi(2)),Ur(this);var H=this.g.Z();this.X=H;t:if(Ct(this)){var le=Jo(this.g);v="";var Be=le.length,et=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),Er(this);var xt="";break t}this.h.i=new o.TextDecoder}for(L=0;L<Be;L++)this.h.h=!0,v+=this.h.i.decode(le[L],{stream:!(et&&L==Be-1)});le.length=0,this.h.g+=v,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=H==200,Rn(this.i,this.u,this.A,this.l,this.R,tn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Yr,Bn=this.g;if((Yr=Bn.g?Bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Yr)){var Rr=Yr;break t}}Rr=null}if(H=Rr)J(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,H);else{this.o=!1,this.s=3,en(12),Gr(this),Er(this);break e}}if(this.P){H=!0;let ss;for(;!this.J&&this.C<xt.length;)if(ss=Et(this,xt),ss==Ke){tn==4&&(this.s=4,en(14),H=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(ss==He){this.s=4,en(15),J(this.i,this.l,xt,"[Invalid Chunk]"),H=!1;break}else J(this.i,this.l,ss,null),Ks(this,ss);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||xt.length!=0||this.h.h||(this.s=1,en(16),H=!1),this.o=this.o&&H,!H)J(this.i,this.l,xt,"[Invalid Chunked Response]"),Gr(this),Er(this);else if(0<xt.length&&!this.W){this.W=!0;var Dr=this.j;Dr.g==this&&Dr.ba&&!Dr.M&&(Dr.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),Vr(Dr),Dr.M=!0,en(11))}}else J(this.i,this.l,xt,null),Ks(this,xt);tn==4&&Gr(this),this.o&&!this.J&&(tn==4?$r(this.j,this):(this.o=!1,mt(this)))}else qi(this.g),H==400&&0<xt.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Gr(this),Er(this)}}}catch{}finally{}};function Ct(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Et(v,L){var H=v.C,le=L.indexOf(`
`,H);return le==-1?Ke:(H=Number(L.substring(H,le)),isNaN(H)?He:(le+=1,le+H>L.length?Ke:(L=L.slice(le,le+H),v.C=le+H,L)))}Qe.prototype.cancel=function(){this.J=!0,Gr(this)};function mt(v){v.S=Date.now()+v.I,cr(v,v.I)}function cr(v,L){if(v.B!=null)throw Error("WatchDog timer not null");v.B=An(x(v.ba,v),L)}function Ur(v){v.B&&(o.clearTimeout(v.B),v.B=null)}Qe.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(ye(this.i,this.A),this.L!=2&&(vi(),en(17)),Gr(this),this.s=2,Er(this)):cr(this,this.S-v)};function Er(v){v.j.G==0||v.J||$r(v.j,v)}function Gr(v){Ur(v);var L=v.M;L&&typeof L.ma=="function"&&L.ma(),v.M=null,Ft(v.U),v.g&&(L=v.g,v.g=null,L.abort(),L.ma())}function Ks(v,L){try{var H=v.j;if(H.G!=0&&(H.g==v||un(H.h,v))){if(!v.K&&un(H.h,v)&&H.G==3){try{var le=H.Da.g.parse(L)}catch{le=null}if(Array.isArray(le)&&le.length==3){var Be=le;if(Be[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<v.F)Ln(H),ge(H);else break e;pr(H),en(18)}}else H.za=Be[1],0<H.za-H.T&&37500>Be[2]&&H.F&&H.v==0&&!H.C&&(H.C=An(x(H.Za,H),6e3));if(1>=to(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else gn(H,11)}else if((v.K||H.g==v)&&Ln(H),!j(L))for(Be=H.Da.g.parse(L),L=0;L<Be.length;L++){let Rr=Be[L];if(H.T=Rr[0],Rr=Rr[1],H.G==2)if(Rr[0]=="c"){H.K=Rr[1],H.ia=Rr[2];const Dr=Rr[3];Dr!=null&&(H.la=Dr,H.j.info("VER="+H.la));const tn=Rr[4];tn!=null&&(H.Aa=tn,H.j.info("SVER="+H.Aa));const vs=Rr[5];vs!=null&&typeof vs=="number"&&0<vs&&(le=1.5*vs,H.L=le,H.j.info("backChannelRequestTimeoutMs_="+le)),le=H;const ss=v.g;if(ss){const ta=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var et=le.h;et.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(oc(et,et.h),et.h=null))}if(le.D){const lo=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(le.ya=lo,Fr(le.I,le.D,lo))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-v.F,H.j.info("Handshake RTT: "+H.R+"ms")),le=H;var xt=v;if(le.qa=za(le,le.J?le.ia:null,le.W),xt.K){Hn(le.h,xt);var Yr=xt,Bn=le.L;Bn&&(Yr.I=Bn),Yr.B&&(Ur(Yr),mt(Yr)),le.g=xt}else ar(le);0<H.i.length&&Oe(H)}else Rr[0]!="stop"&&Rr[0]!="close"||gn(H,7);else H.G==3&&(Rr[0]=="stop"||Rr[0]=="close"?Rr[0]=="stop"?gn(H,7):X(H):Rr[0]!="noop"&&H.l&&H.l.ta(Rr),H.v=0)}}vi(4)}catch{}}var Xs=class{constructor(v,L){this.g=v,this.map=L}};function ms(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function to(v){return v.h?1:v.g?v.g.size:0}function un(v,L){return v.h?v.h==L:v.g?v.g.has(L):!1}function oc(v,L){v.g?v.g.add(L):v.h=L}function Hn(v,L){v.h&&v.h==L?v.h=null:v.g&&v.g.has(L)&&v.g.delete(L)}ms.prototype.cancel=function(){if(this.i=lc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function lc(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let L=v.i;for(const H of v.g.values())L=L.concat(H.D);return L}return w(v.i)}function Xo(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var L=[],H=v.length,le=0;le<H;le++)L.push(v[le]);return L}L=[],H=0;for(le in v)L[H++]=v[le];return L}function Ys(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var L=[];v=v.length;for(var H=0;H<v;H++)L.push(H);return L}L=[],H=0;for(const le in v)L[H++]=le;return L}}}function Qs(v,L){if(v.forEach&&typeof v.forEach=="function")v.forEach(L,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,L,void 0);else for(var H=Ys(v),le=Xo(v),Be=le.length,et=0;et<Be;et++)L.call(void 0,le[et],H&&H[et],v)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(v,L){if(v){v=v.split("&");for(var H=0;H<v.length;H++){var le=v[H].indexOf("="),Be=null;if(0<=le){var et=v[H].substring(0,le);Be=v[H].substring(le+1)}else et=v[H];L(et,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function dn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof dn){this.h=v.h,Qo(this,v.j),this.o=v.o,this.g=v.g,So(this,v.s),this.l=v.l;var L=v.i,H=new ts;H.i=L.i,L.g&&(H.g=new Map(L.g),H.h=L.h),ko(this,H),this.m=v.m}else v&&(L=String(v).match(Zi))?(this.h=!1,Qo(this,L[1]||"",!0),this.o=Pr(L[2]||""),this.g=Pr(L[3]||"",!0),So(this,L[4]),this.l=Pr(L[5]||"",!0),ko(this,L[6]||"",!0),this.m=Pr(L[7]||"")):(this.h=!1,this.i=new ts(null,this.h))}dn.prototype.toString=function(){var v=[],L=this.j;L&&v.push(Ls(L,Sl,!0),":");var H=this.g;return(H||L=="file")&&(v.push("//"),(L=this.o)&&v.push(Ls(L,Sl,!0),"@"),v.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&v.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&v.push("/"),v.push(Ls(H,H.charAt(0)=="/"?Qc:Yc,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",Ls(H,no)),v.join("")};function es(v){return new dn(v)}function Qo(v,L,H){v.j=H?Pr(L,!0):L,v.j&&(v.j=v.j.replace(/:$/,""))}function So(v,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);v.s=L}else v.s=null}function ko(v,L,H){L instanceof ts?(v.i=L,Va(v.i,v.h)):(H||(L=Ls(L,kl)),v.i=new ts(L,v.h))}function Fr(v,L,H){v.i.set(L,H)}function ro(v){return Fr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Pr(v,L){return v?L?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ls(v,L,H){return typeof v=="string"?(v=encodeURI(v).replace(L,Al),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Al(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Sl=/[#\/\?@]/g,Yc=/[#\?:]/g,Qc=/[#\?]/g,kl=/[#\?@]/g,no=/#/g;function ts(v,L){this.h=this.g=null,this.i=v||null,this.j=!!L}function Ni(v){v.g||(v.g=new Map,v.h=0,v.i&&Yo(v.i,function(L,H){v.add(decodeURIComponent(L.replace(/\+/g," ")),H)}))}r=ts.prototype,r.add=function(v,L){Ni(this),this.i=null,v=Js(this,v);var H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(L),this.h+=1,this};function rs(v,L){Ni(v),L=Js(v,L),v.g.has(L)&&(v.i=null,v.h-=v.g.get(L).length,v.g.delete(L))}function Fs(v,L){return Ni(v),L=Js(v,L),v.g.has(L)}r.forEach=function(v,L){Ni(this),this.g.forEach(function(H,le){H.forEach(function(Be){v.call(L,Be,le,this)},this)},this)},r.na=function(){Ni(this);const v=Array.from(this.g.values()),L=Array.from(this.g.keys()),H=[];for(let le=0;le<L.length;le++){const Be=v[le];for(let et=0;et<Be.length;et++)H.push(L[le])}return H},r.V=function(v){Ni(this);let L=[];if(typeof v=="string")Fs(this,v)&&(L=L.concat(this.g.get(Js(this,v))));else{v=Array.from(this.g.values());for(let H=0;H<v.length;H++)L=L.concat(v[H])}return L},r.set=function(v,L){return Ni(this),this.i=null,v=Js(this,v),Fs(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[L]),this.h+=1,this},r.get=function(v,L){return v?(v=this.V(v),0<v.length?String(v[0]):L):L};function or(v,L,H){rs(v,L),0<H.length&&(v.i=null,v.g.set(Js(v,L),w(H)),v.h+=H.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],L=Array.from(this.g.keys());for(var H=0;H<L.length;H++){var le=L[H];const et=encodeURIComponent(String(le)),xt=this.V(le);for(le=0;le<xt.length;le++){var Be=et;xt[le]!==""&&(Be+="="+encodeURIComponent(String(xt[le]))),v.push(Be)}}return this.i=v.join("&")};function Js(v,L){return L=String(L),v.j&&(L=L.toLowerCase()),L}function Va(v,L){L&&!v.j&&(Ni(v),v.i=null,v.g.forEach(function(H,le){var Be=le.toLowerCase();le!=Be&&(rs(this,le),or(this,Be,H))},v)),v.j=L}function xf(v,L){const H=new xi;if(o.Image){const le=new Image;le.onload=m(Xn,H,"TestLoadImage: loaded",!0,L,le),le.onerror=m(Xn,H,"TestLoadImage: error",!1,L,le),le.onabort=m(Xn,H,"TestLoadImage: abort",!1,L,le),le.ontimeout=m(Xn,H,"TestLoadImage: timeout",!1,L,le),o.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=v}else L(!1)}function Jc(v,L){const H=new xi,le=new AbortController,Be=setTimeout(()=>{le.abort(),Xn(H,"TestPingServer: timeout",!1,L)},1e4);fetch(v,{signal:le.signal}).then(et=>{clearTimeout(Be),et.ok?Xn(H,"TestPingServer: ok",!0,L):Xn(H,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Be),Xn(H,"TestPingServer: error",!1,L)})}function Xn(v,L,H,le,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),le(H)}catch{}}function io(){this.g=new rr}function Zc(v,L,H){const le=H||"";try{Qs(v,function(Be,et){let xt=Be;f(Be)&&(xt=fr(Be)),L.push(le+et+"="+encodeURIComponent(xt))})}catch(Be){throw L.push(le+"type="+encodeURIComponent("_badmap")),Be}}function so(v){this.l=v.Ub||null,this.j=v.eb||!1}E(so,wr),so.prototype.g=function(){return new ja(this.l,this.j)},so.prototype.i=(function(v){return function(){return v}})({});function ja(v,L){bt.call(this),this.D=v,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ja,bt),r=ja.prototype,r.open=function(v,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=L,this.readyState=1,gs(this)},r.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(L.body=v),(this.D||o).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},r.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}r.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var L=v.value?v.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!v.done}))&&(this.response=this.responseText+=L)}v.done?ns(this):gs(this),this.readyState==3&&Il(this)}},r.Ra=function(v){this.g&&(this.response=this.responseText=v,ns(this))},r.Qa=function(v){this.g&&(this.response=v,ns(this))},r.ga=function(){this.g&&ns(this)};function ns(v){v.readyState=4,v.l=null,v.j=null,v.v=null,gs(v)}r.setRequestHeader=function(v,L){this.u.append(v,L)},r.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],L=this.h.entries();for(var H=L.next();!H.done;)H=H.value,v.push(H[0]+": "+H[1]),H=L.next();return v.join(`\r
`)};function gs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Zs(v){let L="";return Q(v,function(H,le){L+=le,L+=":",L+=H,L+=`\r
`}),L}function Io(v,L,H){e:{for(le in H){var le=!1;break e}le=!0}le||(H=Zs(H),typeof v=="string"?H!=null&&encodeURIComponent(String(H)):Fr(v,L,H))}function mn(v){bt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(mn,bt);var cc=/^https?$/i,ao=["POST","PUT"];r=mn.prototype,r.Ha=function(v){this.J=v},r.ea=function(v,L,H,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);L=L?L.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?lr(this.o):lr(we),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(L,String(v),!0),this.B=!1}catch(et){Ia(this,et);return}if(v=H||"",H=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var Be in le)H.set(Be,le[Be]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const et of le.keys())H.set(et,le.get(et));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(H.keys()).find(et=>et.toLowerCase()=="content-type"),Be=o.FormData&&v instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ao,L,void 0))||le||Be||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,xt]of H)this.g.setRequestHeader(et,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(v),this.u=!1}catch(et){Ia(this,et)}};function Ia(v,L){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=L,v.m=5,Co(v),is(v)}function Co(v){v.A||(v.A=!0,Vt(v,"complete"),Vt(v,"error"))}r.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Vt(this,"complete"),Vt(this,"abort"),is(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),mn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?No(this):this.bb())},r.bb=function(){No(this)};function No(v){if(v.h&&typeof a<"u"&&(!v.v[1]||zi(v)!=4||v.Z()!=2)){if(v.u&&zi(v)==4)Lt(v.Ea,0,v);else if(Vt(v,"readystatechange"),zi(v)==4){v.h=!1;try{const xt=v.Z();e:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var H;if(!(H=L)){var le;if(le=xt===0){var Be=String(v.D).match(Zi)[1]||null;!Be&&o.self&&o.self.location&&(Be=o.self.location.protocol.slice(0,-1)),le=!cc.test(Be?Be.toLowerCase():"")}H=le}if(H)Vt(v,"complete"),Vt(v,"success");else{v.m=6;try{var et=2<zi(v)?v.g.statusText:""}catch{et=""}v.l=et+" ["+v.Z()+"]",Co(v)}}finally{is(v)}}}}function is(v,L){if(v.g){Ua(v);const H=v.g,le=v.v[0]?()=>{}:null;v.g=null,v.v=null,L||Vt(v,"ready");try{H.onreadystatechange=le}catch{}}}function Ua(v){v.I&&(o.clearTimeout(v.I),v.I=null)}r.isActive=function(){return!!this.g};function zi(v){return v.g?v.g.readyState:0}r.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(v){if(this.g){var L=this.g.responseText;return v&&L.indexOf(v)==0&&(L=L.substring(v.length)),Wr(L)}};function Jo(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(v){const L={};v=(v.g&&2<=zi(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<v.length;le++){if(j(v[le]))continue;var H=C(v[le]);const Be=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const et=L[Be]||[];L[Be]=et,et.push(H)}F(L,function(le){return le.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(v,L,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||L}function I(v){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,v),this.cb=Pi("retryDelaySeedMs",1e4,v),this.Wa=Pi("forwardChannelMaxRetries",2,v),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(v&&v.concurrentRequestLimit),this.Da=new io,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=I.prototype,r.la=8,r.G=1,r.connect=function(v,L,H,le){en(0),this.W=v,this.H=L||{},H&&le!==void 0&&(this.H.OSID=H,this.H.OAID=le),this.F=this.X,this.I=za(this,null,this.W),Oe(this)};function X(v){if(Ie(v),v.G==3){var L=v.U++,H=es(v.I);if(Fr(H,"SID",v.K),Fr(H,"RID",L),Fr(H,"TYPE","terminate"),Dt(v,H),L=new Qe(v,v.j,L),L.L=2,L.v=ro(es(H)),H=!1,o.navigator&&o.navigator.sendBeacon)try{H=o.navigator.sendBeacon(L.v.toString(),"")}catch{}!H&&o.Image&&(new Image().src=L.v,H=!0),H||(L.g=oo(L.j,null),L.g.ea(L.v)),L.F=Date.now(),mt(L)}yi(v)}function ge(v){v.g&&(Vr(v),v.g.cancel(),v.g=null)}function Ie(v){ge(v),v.u&&(o.clearTimeout(v.u),v.u=null),Ln(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&o.clearTimeout(v.s),v.s=null)}function Oe(v){if(!Mn(v.h)&&!v.s){v.s=!0;var L=v.Ga;Te||Ce(),de||(Te(),de=!0),te.add(L,v),v.B=0}}function ot(v,L){return to(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=L.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=An(x(v.Ga,v,L),Yn(v,v.B)),v.B++,!0)}r.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Be=new Qe(this,this.j,v);let et=this.o;if(this.S&&(et?(et=A(et),M(et,this.S)):et=this.S),this.m!==null||this.O||(Be.H=et,et=null),this.P)e:{for(var L=0,H=0;H<this.i.length;H++){t:{var le=this.i[H];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(L+=le,4096<L){L=H;break e}if(L===4096||H===this.i.length-1){L=H+1;break e}}L=1e3}else L=1e3;L=Ut(this,Be,L),H=es(this.I),Fr(H,"RID",v),Fr(H,"CVER",22),this.D&&Fr(H,"X-HTTP-Session-Id",this.D),Dt(this,H),et&&(this.O?L="headers="+encodeURIComponent(String(Zs(et)))+"&"+L:this.m&&Io(H,this.m,et)),oc(this.h,Be),this.Ua&&Fr(H,"TYPE","init"),this.P?(Fr(H,"$req",L),Fr(H,"SID","null"),Be.T=!0,ht(Be,H,null)):ht(Be,H,L),this.G=2}}else this.G==3&&(v?ft(this,v):this.i.length==0||Mn(this.h)||ft(this))};function ft(v,L){var H;L?H=L.l:H=v.U++;const le=es(v.I);Fr(le,"SID",v.K),Fr(le,"RID",H),Fr(le,"AID",v.T),Dt(v,le),v.m&&v.o&&Io(le,v.m,v.o),H=new Qe(v,v.j,H,v.B+1),v.m===null&&(H.H=v.o),L&&(v.i=L.D.concat(v.i)),L=Ut(v,H,1e3),H.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),oc(v.h,H),ht(H,le,L)}function Dt(v,L){v.H&&Q(v.H,function(H,le){Fr(L,le,H)}),v.l&&Qs({},function(H,le){Fr(L,le,H)})}function Ut(v,L,H){H=Math.min(v.i.length,H);var le=v.l?x(v.l.Na,v.l,v):null;e:{var Be=v.i;let et=-1;for(;;){const xt=["count="+H];et==-1?0<H?(et=Be[0].g,xt.push("ofs="+et)):et=0:xt.push("ofs="+et);let Yr=!0;for(let Bn=0;Bn<H;Bn++){let Rr=Be[Bn].g;const Dr=Be[Bn].map;if(Rr-=et,0>Rr)et=Math.max(0,Be[Bn].g-100),Yr=!1;else try{Zc(Dr,xt,"req"+Rr+"_")}catch{le&&le(Dr)}}if(Yr){le=xt.join("&");break e}}}return v=v.i.splice(0,H),L.D=v,le}function ar(v){if(!v.g&&!v.u){v.Y=1;var L=v.Fa;Te||Ce(),de||(Te(),de=!0),te.add(L,v),v.v=0}}function pr(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=An(x(v.Fa,v),Yn(v,v.v)),v.v++,!0)}r.Fa=function(){if(this.u=null,Sn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=An(x(this.ab,this),v)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),ge(this),Sn(this))};function Vr(v){v.A!=null&&(o.clearTimeout(v.A),v.A=null)}function Sn(v){v.g=new Qe(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var L=es(v.qa);Fr(L,"RID","rpc"),Fr(L,"SID",v.K),Fr(L,"AID",v.T),Fr(L,"CI",v.F?"0":"1"),!v.F&&v.ja&&Fr(L,"TO",v.ja),Fr(L,"TYPE","xmlhttp"),Dt(v,L),v.m&&v.o&&Io(L,v.m,v.o),v.L&&(v.g.I=v.L);var H=v.g;v=v.ia,H.L=1,H.v=ro(es(L)),H.m=null,H.P=!0,At(H,v)}r.Za=function(){this.C!=null&&(this.C=null,ge(this),pr(this),en(19))};function Ln(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function $r(v,L){var H=null;if(v.g==L){Ln(v),Vr(v),v.g=null;var le=2}else if(un(v.h,L))H=L.D,Hn(v.h,L),le=1;else return;if(v.G!=0){if(L.o)if(le==1){H=L.m?L.m.length:0,L=Date.now()-L.F;var Be=v.B;le=On(),Vt(le,new ps(le,H)),Oe(v)}else ar(v);else if(Be=L.s,Be==3||Be==0&&0<L.X||!(le==1&&ot(v,L)||le==2&&pr(v)))switch(H&&0<H.length&&(L=v.h,L.i=L.i.concat(H)),Be){case 1:gn(v,5);break;case 4:gn(v,10);break;case 3:gn(v,6);break;default:gn(v,2)}}}function Yn(v,L){let H=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(H*=2),H*L}function gn(v,L){if(v.j.info("Error code "+L),L==2){var H=x(v.fb,v),le=v.Xa;const Be=!le;le=new dn(le||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qo(le,"https"),ro(le),Be?xf(le.toString(),H):Jc(le.toString(),H)}else en(2);v.G=0,v.l&&v.l.sa(L),yi(v),Ie(v)}r.fb=function(v){v?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function yi(v){if(v.G=0,v.ka=[],v.l){const L=lc(v.h);(L.length!=0||v.i.length!=0)&&(T(v.ka,L),T(v.ka,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.ra()}}function za(v,L,H){var le=H instanceof dn?es(H):new dn(H);if(le.g!="")L&&(le.g=L+"."+le.g),So(le,le.s);else{var Be=o.location;le=Be.protocol,L=L?L+"."+Be.hostname:Be.hostname,Be=+Be.port;var et=new dn(null);le&&Qo(et,le),L&&(et.g=L),Be&&So(et,Be),H&&(et.l=H),le=et}return H=v.D,L=v.ya,H&&L&&Fr(le,H,L),Fr(le,"VER",v.la),Dt(v,le),le}function oo(v,L,H){if(L&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=v.Ca&&!v.pa?new mn(new so({eb:H})):new mn(v.pa),L.Ha(v.J),L}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Zo(){}Zo.prototype.g=function(v,L){return new oi(v,L)};function oi(v,L){bt.call(this),this.g=new I(L),this.l=v,this.h=L&&L.messageUrlParams||null,v=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(v?v["X-WebChannel-Content-Type"]=L.messageContentType:v={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(v?v["X-WebChannel-Client-Profile"]=L.va:v={"X-WebChannel-Client-Profile":L.va}),this.g.S=v,(v=L&&L.Sb)&&!j(v)&&(this.g.m=v),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!j(L)&&(this.g.D=L,v=this.h,v!==null&&L in v&&(v=this.h,L in v&&delete v[L])),this.j=new Ds(this)}E(oi,bt),oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oi.prototype.close=function(){X(this.g)},oi.prototype.o=function(v){var L=this.g;if(typeof v=="string"){var H={};H.__data__=v,v=H}else this.u&&(H={},H.__data__=fr(v),v=H);L.i.push(new Xs(L.Ya++,v)),L.G==3&&Oe(L)},oi.prototype.N=function(){this.g.l=null,delete this.j,X(this.g),delete this.g,oi.aa.N.call(this)};function ea(v){Nr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var L=v.__sm__;if(L){e:{for(const H in L){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,L=L!==null&&v in L?L[v]:void 0),this.data=L}else this.data=v}E(ea,Nr);function Cl(){ir.call(this),this.status=1}E(Cl,ir);function Ds(v){this.g=v}E(Ds,uc),Ds.prototype.ua=function(){Vt(this.g,"a")},Ds.prototype.ta=function(v){Vt(this.g,new ea(v))},Ds.prototype.sa=function(v){Vt(this.g,new Cl)},Ds.prototype.ra=function(){Vt(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,oi.prototype.send=oi.prototype.o,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,ZA=function(){return new Zo},JA=function(){return On()},QA=kr,Px={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,Xm=he,_e.COMPLETE="complete",YA=_e,hn.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,np=hn,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,XA=mn}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Ry("@firebase/firestore");function cd(){return Ku.logLevel}function C8(r){Ku.setLogLevel(r)}function pt(r,...e){if(Ku.logLevel<=zr.DEBUG){const t=e.map(Dy);Ku.debug(`Firestore (${r0}): ${r}`,...t)}}function ji(r,...e){if(Ku.logLevel<=zr.ERROR){const t=e.map(Dy);Ku.error(`Firestore (${r0}): ${r}`,...t)}}function Eo(r,...e){if(Ku.logLevel<=zr.WARN){const t=e.map(Dy);Ku.warn(`Firestore (${r0}): ${r}`,...t)}}function Dy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r="Unexpected state"){const e=`FIRESTORE (${r0}) INTERNAL ASSERTION FAILED: `+r;throw ji(e),new Error(e)}function Xt(r,e){r||jt()}function N8(r,e){r||jt()}function It(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends rc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ks.UNAUTHENTICATED)))}shutdown(){}}class P8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class R8{constructor(e){this.t=e,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,t(c)):Promise.resolve();let s=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cs,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cs)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xt(typeof n.accessToken=="string"),new eS(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string"),new ks(e)}}class L8{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class F8{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new L8(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ks.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xt(this.o===void 0);const n=s=>{s.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xt(typeof t.token=="string"),this.R=t.token,new rS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class O8{getToken(){return Promise.resolve(new rS(""))}invalidateToken(){}start(e,t){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=M8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%e.length))}return n}}function _r(r,e){return r<e?-1:r>e?1:0}function Fd(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}function nS(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new si(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_r(this.nanoseconds,e.nanoseconds):_r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.timestamp=e}static fromTimestamp(e){return new er(e)}static min(){return new er(new si(0,0))}static max(){return new er(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,n){t===void 0?t=0:t>e.length&&jt(),n===void 0?n=e.length-t:n>e.length-t&&jt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Op.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Op?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qr extends Op{construct(e,t,n){return new qr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new dt(Ze.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new qr(t)}static emptyPath(){return new qr([])}}const B8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Op{construct(e,t,n){return new $n(e,t,n)}static isValidIdentifier(e){return B8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new dt(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new dt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new dt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new dt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(t)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(qr.fromString(e))}static fromName(e){return new Nt(qr.fromString(e).popFirst(5))}static empty(){return new Nt(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new qr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function Rx(r){return r.fields.find((e=>e.kind===2))}function jf(r){return r.fields.filter((e=>e.kind!==2))}function V8(r,e){let t=_r(r.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let n=0;n<Math.min(r.fields.length,e.fields.length);++n)if(t=j8(r.fields[n],e.fields[n]),t!==0)return t;return _r(r.fields.length,e.fields.length)}Dd.UNKNOWN_ID=-1;class Qf{constructor(e,t){this.fieldPath=e,this.kind=t}}function j8(r,e){const t=$n.comparator(r.fieldPath,e.fieldPath);return t!==0?t:_r(r.kind,e.kind)}class Od{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Od(0,To.min())}}function iS(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=er.fromTimestamp(n===1e9?new si(t+1,0):new si(t,n));return new To(i,Nt.empty(),e)}function sS(r){return new To(r.readTime,r.key,-1)}class To{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new To(er.min(),Nt.empty(),-1)}static max(){return new To(er.max(),Nt.empty(),-1)}}function My(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Nt.comparator(r.documentKey,e.documentKey),t!==0?t:_r(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(r){if(r.code!==Ze.FAILED_PRECONDITION||r.message!==aS)throw r;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ue.reject(t)}static resolve(e){return new Ue(((t,n)=>{t(e)}))}static reject(e){return new Ue(((t,n)=>{n(e)}))}static waitFor(e){return new Ue(((t,n)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&t()}),(c=>n(c)))})),a=!0,s===i&&t()}))}static or(e){let t=Ue.resolve(!1);for(const n of e)t=t.next((i=>i?Ue.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,s)=>{n.push(t.call(this,i,s))})),this.waitFor(n)}static mapArray(e,t){return new Ue(((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const f=c;t(e[f]).next((h=>{a[f]=h,++o,o===s&&n(a)}),(h=>i(h)))}}))}static doWhile(e,t){return new Ue(((n,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):n()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Cs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new fp(e,t.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=By(n.target.error);this.V.reject(new fp(e,i))}}static open(e,t,n,i){try{return new rv(t,e.transaction(i,n))}catch(s){throw new fp(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new z8(t)}}class Yl{constructor(e,t,n){this.name=e,this.version=t,this.p=n,Yl.S(hs())===12.2&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pt("SimpleDb","Removing database:",e),zf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zA())return!1;if(Yl.v())return!0;const e=hs(),t=Yl.S(e),n=0<t&&t<10,i=lS(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(pt("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;t(a)},i.onblocked=()=>{n(new fp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new dt(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new dt(Ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new fp(e,a))},i.onupgradeneeded=s=>{pt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next((()=>{pt("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const s=t==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=rv.open(this.db,e,s?"readonly":"readwrite",n),c=i(o).next((f=>(o.g(),f))).catch((f=>(o.abort(f),Ue.reject(f)))).toPromise();return c.catch((()=>{})),await o.m,c}catch(o){const c=o,f=c.name!=="FirebaseError"&&a<3;if(pt("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function lS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class U8{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return zf(this.B.delete())}}class fp extends dt{constructor(e,t){super(Ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uf(r){return r.name==="IndexedDbTransactionError"}class z8{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(pt("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zf(n)}add(e){return pt("SimpleDb","ADD",this.store.name,e,e),zf(this.store.add(e))}get(e){return zf(this.store.get(e)).next((t=>(t===void 0&&(t=null),pt("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return pt("SimpleDb","DELETE",this.store.name,e),zf(this.store.delete(e))}count(){return pt("SimpleDb","COUNT",this.store.name),zf(this.store.count())}U(e,t){const n=this.options(e,t),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new Ue(((a,o)=>{s.onerror=c=>{o(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(n),a=[];return this.W(s,((o,c)=>{a.push(c)})).next((()=>a))}}G(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new Ue(((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}}))}j(e,t){pt("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const i=this.cursor(n);return this.W(i,((s,a,o)=>o.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.W(i,t)}Y(e){const t=this.cursor({});return new Ue(((n,i)=>{t.onerror=s=>{const a=By(s.target.error);i(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():n()})):n()}}))}W(e,t){const n=[];return new Ue(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const c=new U8(o),f=t(o.primaryKey,o.value,c);if(f instanceof Ue){const h=f.catch((p=>(c.done(),Ue.reject(p))));n.push(h)}c.isDone?i():c.K===null?o.continue():o.continue(c.K)}})).next((()=>Ue.waitFor(n)))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zf(r){return new Ue(((e,t)=>{r.onsuccess=n=>{const i=n.target.result;e(i)},r.onerror=n=>{const i=By(n.target.error);t(i)}}))}let lE=!1;function By(r){const e=Yl.S(hs());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lE||(lE=!0,setTimeout((()=>{throw n}),0)),n}}return r}class q8{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){pt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{pt("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){uf(t)?pt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await cf(t)}await this.X(6e4)}))}}class H8{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let i=t,s=!0;return Ue.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!n.has(a))return pt("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next((o=>{i-=o,n.add(a)}));s=!1})))).next((()=>t-i))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this.re(i,s))).next((o=>(pt("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,t,o)))).next((()=>a.size))}))))}re(e,t){let n=e;return t.changes.forEach(((i,s)=>{const a=sS(s);My(a,n)>0&&(n=a)})),new To(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qa.oe=-1;function u1(r){return r==null}function Mp(r){return r===0&&1/r==-1/0}function cS(r){return typeof r=="number"&&Number.isInteger(r)&&!Mp(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=cE(e)),e=W8(r.get(t),e);return cE(e)}function W8(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function cE(r){return r+""}function Wl(r){const e=r.length;if(Xt(e>=2),e===2)return Xt(r.charAt(0)===""&&r.charAt(1)===""),qr.emptyPath();const t=e-2,n=[];let i="";for(let s=0;s<e;){const a=r.indexOf("",s);switch((a<0||a>t)&&jt(),r.charAt(a+1)){case"":const o=r.substring(s,a);let c;i.length===0?c=o:(i+=o,c=i,i=""),n.push(c);break;case"":i+=r.substring(s,a),i+="\0";break;case"":i+=r.substring(s,a+1);break;default:jt()}s=a+2}return new qr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r,e){return[r,Ea(e)]}function uS(r,e,t){return[r,Ea(e),t]}const G8={},$8=["prefixPath","collectionGroup","readTime","documentId"],K8=["prefixPath","collectionGroup","documentId"],X8=["collectionGroup","readTime","prefixPath","documentId"],Y8=["canonicalId","targetId"],Q8=["targetId","path"],J8=["path","targetId"],Z8=["collectionId","parent"],eL=["indexId","uid"],tL=["uid","sequenceNumber"],rL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nL=["indexId","uid","orderedDocumentKey"],iL=["userId","collectionPath","documentId"],sL=["userId","collectionPath","largestBatchId"],aL=["userId","collectionGroup","largestBatchId"],fS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oL=[...fS,"documentOverlays"],hS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dS=hS,Vy=[...dS,"indexConfiguration","indexState","indexEntries"],lL=Vy,cL=[...Vy,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends oS{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function ds(r,e){const t=It(r);return Yl.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ff(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function pS(r,e){const t=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(e(r[n],n,r));return t}function mS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t){this.comparator=e,this.root=t||qs.EMPTY}insert(e,t){return new qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qs.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _m(this.root,e,this.comparator,!1)}getReverseIterator(){return new _m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _m(this.root,e,this.comparator,!0)}}class _m{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qs{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??qs.RED,this.left=i??qs.EMPTY,this.right=s??qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new qs(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return qs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const e=this.left.check();if(e!==this.right.check())throw jt();return e+(this.isRed()?0:1)}}qs.EMPTY=null,qs.RED=!0,qs.BLACK=!1;qs.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(e,t,n,i,s){return this}insert(e,t,n){return new qs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function td(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new Ja([])}unionWith(e){let t=new Nn($n.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ja(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gS("Invalid base64 string: "+s):s}})(e);return new gi(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mc(r){if(Xt(!!r),typeof r=="string"){let e=0;const t=fL.exec(r);if(Xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ri(r.seconds),nanos:ri(r.nanos)}}function ri(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Bc(r){return typeof r=="string"?gi.fromBase64String(r):gi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function iv(r){const e=r.mapValue.fields.__previous_value__;return nv(e)?iv(e):e}function Bp(r){const e=Mc(r.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,n,i,s,a,o,c,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=f}}class Xu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qm={nullValue:"NULL_VALUE"};function Yu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nv(r)?4:vS(r)?9007199254740991:sv(r)?10:11:jt()}function ec(r,e){if(r===e)return!0;const t=Yu(r);if(t!==Yu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bp(r).isEqual(Bp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Mc(i.timestampValue),o=Mc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,s){return Bc(i.bytesValue).isEqual(Bc(s.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,s){return ri(i.geoPointValue.latitude)===ri(s.geoPointValue.latitude)&&ri(i.geoPointValue.longitude)===ri(s.geoPointValue.longitude)})(r,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return ri(i.integerValue)===ri(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ri(i.doubleValue),o=ri(s.doubleValue);return a===o?Mp(a)===Mp(o):isNaN(a)&&isNaN(o)}return!1})(r,e);case 9:return Fd(r.arrayValue.values||[],e.arrayValue.values||[],ec);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(fE(a)!==fE(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!ec(a[c],o[c])))return!1;return!0})(r,e);default:return jt()}}function Vp(r,e){return(r.values||[]).find((t=>ec(t,e)))!==void 0}function Qu(r,e){if(r===e)return 0;const t=Yu(r),n=Yu(e);if(t!==n)return _r(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return _r(r.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=ri(s.integerValue||s.doubleValue),c=ri(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(r,e);case 3:return dE(r.timestampValue,e.timestampValue);case 4:return dE(Bp(r),Bp(e));case 5:return _r(r.stringValue,e.stringValue);case 6:return(function(s,a){const o=Bc(s),c=Bc(a);return o.compareTo(c)})(r.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),c=a.split("/");for(let f=0;f<o.length&&f<c.length;f++){const h=_r(o[f],c[f]);if(h!==0)return h}return _r(o.length,c.length)})(r.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=_r(ri(s.latitude),ri(a.latitude));return o!==0?o:_r(ri(s.longitude),ri(a.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return pE(r.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,c,f,h;const p=s.fields||{},x=a.fields||{},m=(o=p.value)===null||o===void 0?void 0:o.arrayValue,E=(c=x.value)===null||c===void 0?void 0:c.arrayValue,w=_r(((f=m?.values)===null||f===void 0?void 0:f.length)||0,((h=E?.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:pE(m,E)})(r.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Bu.mapValue&&a===Bu.mapValue)return 0;if(s===Bu.mapValue)return 1;if(a===Bu.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const x=_r(c[p],h[p]);if(x!==0)return x;const m=Qu(o[c[p]],f[h[p]]);if(m!==0)return m}return _r(c.length,h.length)})(r.mapValue,e.mapValue);default:throw jt()}}function dE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return _r(r,e);const t=Mc(r),n=Mc(e),i=_r(t.seconds,n.seconds);return i!==0?i:_r(t.nanos,n.nanos)}function pE(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=Qu(t[i],n[i]);if(s)return s}return _r(t.length,n.length)}function Md(r){return Fx(r)}function Fx(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Mc(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Bc(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Nt.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=Fx(s);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Fx(t.fields[a])}`;return i+"}"})(r.mapValue):jt()}function Jm(r){switch(Yu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=iv(r);return e?16+Jm(e):16;case 5:return 2*r.stringValue.length;case 6:return Bc(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+Jm(s)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return ff(n.fields,((s,a)=>{i+=s.length+Jm(a)})),i})(r.mapValue);default:throw jt()}}function nh(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dx(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function mE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zm(r){return!!r&&"mapValue"in r}function sv(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function hp(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ff(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=hp(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hp(r.arrayValue.values[t]);return e}return Object.assign({},r)}function vS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const xS={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function dL(r){return"nullValue"in r?Qm:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?nh(Xu.empty(),Nt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?sv(r)?xS:{mapValue:{}}:jt()}function pL(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?nh(Xu.empty(),Nt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?xS:"mapValue"in r?sv(r)?{mapValue:{}}:Bu:jt()}function vE(r,e){const t=Qu(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function xE(r,e){const t=Qu(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(t)}setAll(e){let t=$n.emptyPath(),n={},i=[];e.forEach(((a,o)=>{if(!t.isImmediateParentOf(o)){const c=this.getFieldsMap(t);this.applyChanges(c,n,i),n={},i=[],t=o.popLast()}a?n[o.lastSegment()]=hp(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ec(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){ff(t,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Ws(hp(this.value))}}function yS(r){const e=[];return ff(r.fields,((t,n)=>{const i=new $n([t]);if(Zm(n)){const s=yS(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Ja(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t,n,i,s,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Gn(e,0,er.min(),er.min(),er.min(),Ws.empty(),0)}static newFoundDocument(e,t,n,i){return new Gn(e,1,t,er.min(),n,i,0)}static newNoDocument(e,t){return new Gn(e,2,t,er.min(),er.min(),Ws.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,er.min(),er.min(),Ws.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(er.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=er.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t){this.position=e,this.inclusive=t}}function yE(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=Nt.comparator(Nt.fromName(a.referenceValue),t.key):n=Qu(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function _E(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ec(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t="asc"){this.field=e,this.dir=t}}function mL(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class Hr extends _S{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new gL(e,t,n):t==="array-contains"?new yL(e,n):t==="in"?new SS(e,n):t==="not-in"?new _L(e,n):t==="array-contains-any"?new wL(e,n):new Hr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new vL(e,n):new xL(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qu(t,this.value)):t!==null&&Yu(this.value)===Yu(t)&&this.matchesComparison(Qu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends _S{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new bn(e,t)}matches(e){return Bd(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bd(r){return r.op==="and"}function Ox(r){return r.op==="or"}function jy(r){return wS(r)&&Bd(r)}function wS(r){for(const e of r.filters)if(e instanceof bn)return!1;return!0}function Mx(r){if(r instanceof Hr)return r.field.canonicalString()+r.op.toString()+Md(r.value);if(jy(r))return r.filters.map((e=>Mx(e))).join(",");{const e=r.filters.map((t=>Mx(t))).join(",");return`${r.op}(${e})`}}function ES(r,e){return r instanceof Hr?(function(n,i){return i instanceof Hr&&n.op===i.op&&n.field.isEqual(i.field)&&ec(n.value,i.value)})(r,e):r instanceof bn?(function(n,i){return i instanceof bn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,o)=>s&&ES(a,i.filters[o])),!0):!1})(r,e):void jt()}function TS(r,e){const t=r.filters.concat(e);return bn.create(t,r.op)}function bS(r){return r instanceof Hr?(function(t){return`${t.field.canonicalString()} ${t.op} ${Md(t.value)}`})(r):r instanceof bn?(function(t){return t.op.toString()+" {"+t.getFilters().map(bS).join(" ,")+"}"})(r):"Filter"}class gL extends Hr{constructor(e,t,n){super(e,t,n),this.key=Nt.fromName(n.referenceValue)}matches(e){const t=Nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class vL extends Hr{constructor(e,t){super(e,"in",t),this.keys=AS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xL extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=AS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function AS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>Nt.fromName(n.referenceValue)))}class yL extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jp(t)&&Vp(t.arrayValue,this.value)}}class SS extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vp(this.value.arrayValue,t)}}class _L extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Vp(this.value.arrayValue,t)}}class wL extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Vp(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Bx(r,e=null,t=[],n=[],i=null,s=null,a=null){return new EL(r,e,t,n,i,s,a)}function ih(r){const e=It(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Mx(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),u1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Md(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Md(n))).join(",")),e.ue=t}return e.ue}function f1(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!mL(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ES(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_E(r.startAt,e.startAt)&&_E(r.endAt,e.endAt)}function xg(r){return Nt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function yg(r,e){return r.filters.filter((t=>t instanceof Hr&&t.field.isEqual(e)))}function wE(r,e,t){let n=Qm,i=!0;for(const s of yg(r,e)){let a=Qm,o=!0;switch(s.op){case"<":case"<=":a=dL(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Qm}vE({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(t!==null){for(let s=0;s<r.orderBy.length;++s)if(r.orderBy[s].field.isEqual(e)){const a=t.position[s];vE({value:n,inclusive:i},{value:a,inclusive:t.inclusive})<0&&(n=a,i=t.inclusive);break}}return{value:n,inclusive:i}}function EE(r,e,t){let n=Bu,i=!0;for(const s of yg(r,e)){let a=Bu,o=!0;switch(s.op){case">=":case">":a=pL(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Bu}xE({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(t!==null){for(let s=0;s<r.orderBy.length;++s)if(r.orderBy[s].field.isEqual(e)){const a=t.position[s];xE({value:n,inclusive:i},{value:a,inclusive:t.inclusive})>0&&(n=a,i=t.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t=null,n=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kS(r,e,t,n,i,s,a,o){return new qc(r,e,t,n,i,s,a,o)}function n0(r){return new qc(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Uy(r){return r.collectionGroup!==null}function _d(r){const e=It(r);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Nn($n.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(o=o.add(f.field))}))})),o})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Up(s,n))})),t.has($n.keyField().canonicalString())||e.ce.push(new Up($n.keyField(),n))}return e.ce}function Ta(r){const e=It(r);return e.le||(e.le=CS(e,_d(r))),e.le}function IS(r){const e=It(r);return e.he||(e.he=CS(e,r.explicitOrderBy)),e.he}function CS(r,e){if(r.limitType==="F")return Bx(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Up(i.field,s)}));const t=r.endAt?new Ju(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Ju(r.startAt.position,r.startAt.inclusive):null;return Bx(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Vx(r,e){const t=r.filters.concat([e]);return new qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function _g(r,e,t){return new qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function h1(r,e){return f1(Ta(r),Ta(e))&&r.limitType===e.limitType}function NS(r){return`${ih(Ta(r))}|lt:${r.limitType}`}function ud(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>bS(i))).join(", ")}]`),u1(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Md(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Md(i))).join(",")),`Target(${n})`})(Ta(r))}; limitType=${r.limitType})`}function d1(r,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Nt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(r,e)&&(function(n,i){for(const s of _d(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(a,o,c){const f=yE(a,o,c);return a.inclusive?f<=0:f<0})(n.startAt,_d(n),i)||n.endAt&&!(function(a,o,c){const f=yE(a,o,c);return a.inclusive?f>=0:f>0})(n.endAt,_d(n),i))})(r,e)}function PS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function RS(r){return(e,t)=>{let n=!1;for(const i of _d(r)){const s=TL(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function TL(r,e,t){const n=r.field.isKeyField()?Nt.comparator(e.key,t.key):(function(s,a,o){const c=a.data.field(s),f=o.data.field(s);return c!==null&&f!==null?Qu(c,f):jt()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return jt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ff(this.inner,((t,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return mS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new qn(Nt.comparator);function Za(){return bL}const LS=new qn(Nt.comparator);function ip(...r){let e=LS;for(const t of r)e=e.insert(t.key,t);return e}function FS(r){let e=LS;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Gl(){return dp()}function DS(){return dp()}function dp(){return new Hc((r=>r.toString()),((r,e)=>r.isEqual(e)))}const AL=new qn(Nt.comparator),SL=new Nn(Nt.comparator);function Cr(...r){let e=SL;for(const t of r)e=e.add(t);return e}const kL=new Nn(_r);function zy(){return kL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(e)?"-0":e}}function OS(r){return{integerValue:""+r}}function MS(r,e){return cS(e)?OS(e):qy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this._=void 0}}function IL(r,e,t){return r instanceof Vd?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nv(s)&&(s=iv(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(t,e):r instanceof sh?VS(r,e):r instanceof ah?jS(r,e):(function(i,s){const a=BS(i,s),o=bE(a)+bE(i.Pe);return Dx(a)&&Dx(i.Pe)?OS(o):qy(i.serializer,o)})(r,e)}function CL(r,e,t){return r instanceof sh?VS(r,e):r instanceof ah?jS(r,e):t}function BS(r,e){return r instanceof jd?(function(n){return Dx(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Vd extends av{}class sh extends av{constructor(e){super(),this.elements=e}}function VS(r,e){const t=US(e);for(const n of r.elements)t.some((i=>ec(i,n)))||t.push(n);return{arrayValue:{values:t}}}class ah extends av{constructor(e){super(),this.elements=e}}function jS(r,e){let t=US(e);for(const n of r.elements)t=t.filter((i=>!ec(i,n)));return{arrayValue:{values:t}}}class jd extends av{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function bE(r){return ri(r.integerValue||r.doubleValue)}function US(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.field=e,this.transform=t}}function NL(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof sh&&i instanceof sh||n instanceof ah&&i instanceof ah?Fd(n.elements,i.elements,ec):n instanceof jd&&i instanceof jd?ec(n.Pe,i.Pe):n instanceof Vd&&i instanceof Vd})(r.transform,e.transform)}class PL{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eg(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ov{}function zS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new s0(r.key,ii.none()):new i0(r.key,r.data,ii.none());{const t=r.data,n=Ws.empty();let i=new Nn($n.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Wc(r.key,n,new Ja(i.toArray()),ii.none())}}function RL(r,e,t){r instanceof i0?(function(i,s,a){const o=i.value.clone(),c=SE(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(r,e,t):r instanceof Wc?(function(i,s,a){if(!eg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=SE(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(qS(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function pp(r,e,t,n){return r instanceof i0?(function(s,a,o,c){if(!eg(s.precondition,a))return o;const f=s.value.clone(),h=kE(s.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(r,e,t,n):r instanceof Wc?(function(s,a,o,c){if(!eg(s.precondition,a))return o;const f=kE(s.fieldTransforms,c,a),h=a.data;return h.setAll(qS(s)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(r,e,t,n):(function(s,a,o){return eg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(r,e,t)}function LL(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=BS(n.transform,i||null);s!=null&&(t===null&&(t=Ws.empty()),t.set(n.field,s))}return t||null}function AE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Fd(n,i,((s,a)=>NL(s,a)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class i0 extends ov{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wc extends ov{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function SE(r,e,t){const n=new Map;Xt(r.length===t.length);for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,CL(a,o,t[i]))}return n}function kE(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,IL(s,a,e))}return n}class s0 extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hy extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RL(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=DS();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(i.key)?null:o;const c=zS(a,o);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(er.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Cr())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,((t,n)=>AE(t,n)))&&Fd(this.baseMutations,e.baseMutations,((t,n)=>AE(t,n)))}}class Gy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Xt(e.mutations.length===n.length);let i=(function(){return AL})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Gy(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi,Qr;function WS(r){switch(r){default:return jt();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}function GS(r){if(r===void 0)return ji("GRPC error has no .code"),Ze.UNKNOWN;switch(r){case Xi.OK:return Ze.OK;case Xi.CANCELLED:return Ze.CANCELLED;case Xi.UNKNOWN:return Ze.UNKNOWN;case Xi.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Xi.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Xi.INTERNAL:return Ze.INTERNAL;case Xi.UNAVAILABLE:return Ze.UNAVAILABLE;case Xi.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Xi.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Xi.NOT_FOUND:return Ze.NOT_FOUND;case Xi.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Xi.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Xi.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Xi.ABORTED:return Ze.ABORTED;case Xi.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Xi.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Xi.DATA_LOSS:return Ze.DATA_LOSS;default:return jt()}}(Qr=Xi||(Xi={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Yf([4294967295,4294967295],0);function IE(r){const e=$S().encode(r),t=new KA;return t.update(e),new Uint8Array(t.digest())}function CE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yf([t,n],0),new Yf([i,s],0)]}class Ky{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sp(`Invalid padding: ${t}`);if(n<0)throw new sp(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new sp(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new sp(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Yf.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(Yf.fromNumber(n)));return i.compare(DL)===1&&(i=new Yf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=IE(e),[n,i]=CE(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Ky(s,i,t);return n.forEach((o=>a.insert(o))),a}insert(e){if(this.Ie===0)return;const t=IE(e),[n,i]=CE(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,g1.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new m1(er.min(),i,new qn(_r),Za(),Cr())}}class g1{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new g1(n,t,Cr(),Cr(),Cr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class KS{constructor(e,t){this.targetId=e,this.me=t}}class XS{constructor(e,t,n=gi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class NE{constructor(){this.fe=0,this.ge=RE(),this.pe=gi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Cr(),t=Cr(),n=Cr();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:jt()}})),new g1(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=RE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Za(),this.qe=PE(),this.Qe=new qn(_r)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:jt()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const s=i.target;if(xg(s))if(n===0){const a=new Nt(s.path);this.Ue(t,a,Gn.newNoDocument(a,er.min()))}else Xt(n===1);else{const a=this.Ye(t);if(a!==n){const o=this.Ze(e),c=o?this.Xe(o,e,a):1;if(c!==0){this.je(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}wg?.et((function(h,p,x,m,E){var w,T,P,j,D,q;const se={localCacheCount:h,existenceFilterCount:p.count,databaseId:x.database,projectId:x.projectId},Q=p.unchangedNames;return Q&&(se.bloomFilter={applied:E===0,hashCount:(w=Q?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(j=(P=(T=Q?.bits)===null||T===void 0?void 0:T.bitmap)===null||P===void 0?void 0:P.length)!==null&&j!==void 0?j:0,padding:(q=(D=Q?.bits)===null||D===void 0?void 0:D.padding)!==null&&q!==void 0?q:0,mightContain:F=>{var A;return(A=m?.mightContain(F))!==null&&A!==void 0&&A}}),se})(a,e.me,this.Le.tt(),o,c))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,o;try{a=Bc(n).toUint8Array()}catch(c){if(c instanceof gS)return Eo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new Ky(a,i,s)}catch(c){return Eo(c instanceof sp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.Ie===0?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,s,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((s,a)=>{const o=this.Je(a);if(o){if(s.current&&xg(o.target)){const c=new Nt(o.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Gn.newNoDocument(c,e))}s.be&&(t.set(a,s.ve()),s.Ce())}}));let n=Cr();this.qe.forEach(((s,a)=>{let o=!0;a.forEachWhile((c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new m1(e,t,this.Qe,this.ke,n);return this.ke=Za(),this.qe=PE(),this.Qe=new qn(_r),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new NE,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Nn(_r),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||pt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new NE),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function PE(){return new qn(Nt.comparator)}function RE(){return new qn(Nt.comparator)}const ML={asc:"ASCENDING",desc:"DESCENDING"},BL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VL={and:"AND",or:"OR"};class jL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jx(r,e){return r.useProto3Json||u1(e)?e:{value:e}}function Ud(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function UL(r,e){return Ud(r,e.toTimestamp())}function Ui(r){return Xt(!!r),er.fromTimestamp((function(t){const n=Mc(t);return new si(n.seconds,n.nanos)})(r))}function Xy(r,e){return Ux(r,e).canonicalString()}function Ux(r,e){const t=(function(i){return new qr(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function QS(r){const e=qr.fromString(r);return Xt(ok(e)),e}function zp(r,e){return Xy(r.databaseId,e.path)}function Ql(r,e){const t=QS(e);if(t.get(1)!==r.databaseId.projectId)throw new dt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new dt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Nt(ek(t))}function JS(r,e){return Xy(r.databaseId,e)}function ZS(r){const e=QS(r);return e.length===4?qr.emptyPath():ek(e)}function zx(r){return new qr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ek(r){return Xt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function LE(r,e,t){return{name:zp(r,e),fields:t.value.mapValue.fields}}function tk(r,e,t){const n=Ql(r,e.name),i=Ui(e.updateTime),s=e.createTime?Ui(e.createTime):er.min(),a=new Ws({mapValue:{fields:e.fields}}),o=Gn.newFoundDocument(n,i,s,a);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function zL(r,e){return"found"in e?(function(n,i){Xt(!!i.found),i.found.name,i.found.updateTime;const s=Ql(n,i.found.name),a=Ui(i.found.updateTime),o=i.found.createTime?Ui(i.found.createTime):er.min(),c=new Ws({mapValue:{fields:i.found.fields}});return Gn.newFoundDocument(s,a,o,c)})(r,e):"missing"in e?(function(n,i){Xt(!!i.missing),Xt(!!i.readTime);const s=Ql(n,i.missing),a=Ui(i.readTime);return Gn.newNoDocument(s,a)})(r,e):jt()}function qL(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:jt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,h){return f.useProto3Json?(Xt(h===void 0||typeof h=="string"),gi.fromBase64String(h||"")):(Xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gi.fromUint8Array(h||new Uint8Array))})(r,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(f){const h=f.code===void 0?Ze.UNKNOWN:GS(f.code);return new dt(h,f.message||"")})(a);t=new XS(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ql(r,n.document.name),s=Ui(n.document.updateTime),a=n.document.createTime?Ui(n.document.createTime):er.min(),o=new Ws({mapValue:{fields:n.document.fields}}),c=Gn.newFoundDocument(i,s,a,o),f=n.targetIds||[],h=n.removedTargetIds||[];t=new tg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ql(r,n.document),s=n.readTime?Ui(n.readTime):er.min(),a=Gn.newNoDocument(i,s),o=n.removedTargetIds||[];t=new tg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ql(r,n.document),s=n.removedTargetIds||[];t=new tg([],s,i,null)}else{if(!("filter"in e))return jt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new FL(i,s),o=n.targetId;t=new KS(o,a)}}return t}function qp(r,e){let t;if(e instanceof i0)t={update:LE(r,e.key,e.value)};else if(e instanceof s0)t={delete:zp(r,e.key)};else if(e instanceof Wc)t={update:LE(r,e.key,e.data),updateMask:XL(e.fieldMask)};else{if(!(e instanceof Hy))return jt();t={verify:zp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const o=a.transform;if(o instanceof Vd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ah)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw jt()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:UL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:jt()})(r,e.precondition)),t}function qx(r,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?ii.updateTime(Ui(s.updateTime)):s.exists!==void 0?ii.exists(s.exists):ii.none()})(e.currentDocument):ii.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let c=null;if("setToServerValue"in o)Xt(o.setToServerValue==="REQUEST_TIME"),c=new Vd;else if("appendMissingElements"in o){const h=o.appendMissingElements.values||[];c=new sh(h)}else if("removeAllFromArray"in o){const h=o.removeAllFromArray.values||[];c=new ah(h)}else"increment"in o?c=new jd(a,o.increment):jt();const f=$n.fromServerFormat(o.fieldPath);return new p1(f,c)})(r,i))):[];if(e.update){e.update.name;const i=Ql(r,e.update.name),s=new Ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const f=c.fieldPaths||[];return new Ja(f.map((h=>$n.fromServerFormat(h))))})(e.updateMask);return new Wc(i,s,a,t,n)}return new i0(i,s,t,n)}if(e.delete){const i=Ql(r,e.delete);return new s0(i,t)}if(e.verify){const i=Ql(r,e.verify);return new Hy(i,t)}return jt()}function HL(r,e){return r&&r.length>0?(Xt(e!==void 0),r.map((t=>(function(i,s){let a=i.updateTime?Ui(i.updateTime):Ui(s);return a.isEqual(er.min())&&(a=Ui(s)),new PL(a,i.transformResults||[])})(t,e)))):[]}function rk(r,e){return{documents:[JS(r,e.path)]}}function lv(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=JS(r,i);const s=(function(f){if(f.length!==0)return ak(bn.create(f,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(f){if(f.length!==0)return f.map((h=>(function(x){return{field:Iu(x.field),direction:GL(x.dir)}})(h)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=jx(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:t,parent:i}}function nk(r,e,t,n){const{_t:i,parent:s}=lv(r,e),a={},o=[];let c=0;return t.forEach((f=>{const h=n?f.alias:"aggregate_"+c++;a[h]=f.alias,f.aggregateType==="count"?o.push({alias:h,count:{}}):f.aggregateType==="avg"?o.push({alias:h,avg:{field:Iu(f.fieldPath)}}):f.aggregateType==="sum"&&o.push({alias:h,sum:{field:Iu(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:s}}function ik(r){let e=ZS(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Xt(n===1);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(p){const x=sk(p);return x instanceof bn&&jy(x)?x.getFilters():[x]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((x=>(function(E){return new Up(fd(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(t.orderBy));let o=null;t.limit&&(o=(function(p){let x;return x=typeof p=="object"?p.value:p,u1(x)?null:x})(t.limit));let c=null;t.startAt&&(c=(function(p){const x=!!p.before,m=p.values||[];return new Ju(m,x)})(t.startAt));let f=null;return t.endAt&&(f=(function(p){const x=!p.before,m=p.values||[];return new Ju(m,x)})(t.endAt)),kS(e,i,a,s,o,"F",c,f)}function WL(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sk(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=fd(t.unaryFilter.field);return Hr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=fd(t.unaryFilter.field);return Hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fd(t.unaryFilter.field);return Hr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fd(t.unaryFilter.field);return Hr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return jt()}})(r):r.fieldFilter!==void 0?(function(t){return Hr.create(fd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return bn.create(t.compositeFilter.filters.map((n=>sk(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return jt()}})(t.compositeFilter.op))})(r):jt()}function GL(r){return ML[r]}function $L(r){return BL[r]}function KL(r){return VL[r]}function Iu(r){return{fieldPath:r.canonicalString()}}function fd(r){return $n.fromServerFormat(r.fieldPath)}function ak(r){return r instanceof Hr?(function(t){if(t.op==="=="){if(gE(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NAN"}};if(mE(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gE(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NOT_NAN"}};if(mE(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(t.field),op:$L(t.op),value:t.value}}})(r):r instanceof bn?(function(t){const n=t.getFilters().map((i=>ak(i)));return n.length===1?n[0]:{compositeFilter:{op:KL(t.op),filters:n}}})(r):jt()}function XL(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ok(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t,n,i,s=er.min(),a=er.min(),o=gi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.ct=e}}function YL(r,e){let t;if(e.document)t=tk(r.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Nt.fromSegments(e.noDocument.path),i=lh(e.noDocument.readTime);t=Gn.newNoDocument(n,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return jt();{const n=Nt.fromSegments(e.unknownDocument.path),i=lh(e.unknownDocument.version);t=Gn.newUnknownDocument(n,i)}}return e.readTime&&t.setReadTime((function(i){const s=new si(i[0],i[1]);return er.fromTimestamp(s)})(e.readTime)),t}function FE(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Eg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(s,a){return{name:zp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Ud(s,a.version.toTimestamp()),createTime:Ud(s,a.createTime.toTimestamp())}})(r.ct,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:oh(e.version)};else{if(!e.isUnknownDocument())return jt();n.unknownDocument={path:t.path.toArray(),version:oh(e.version)}}return n}function Eg(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function oh(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lh(r){const e=new si(r.seconds,r.nanoseconds);return er.fromTimestamp(e)}function qf(r,e){const t=(e.baseMutations||[]).map((s=>qx(r.ct,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map((s=>qx(r.ct,s))),i=si.fromMillis(e.localWriteTimeMs);return new Wy(e.batchId,i,t,n)}function ap(r){const e=lh(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?lh(r.lastLimboFreeSnapshotVersion):er.min();let n;return n=(function(s){return s.documents!==void 0})(r.query)?(function(s){return Xt(s.documents.length===1),Ta(n0(ZS(s.documents[0])))})(r.query):(function(s){return Ta(ik(s))})(r.query),new kc(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,gi.fromBase64String(r.resumeToken))}function ck(r,e){const t=oh(e.snapshotVersion),n=oh(e.lastLimboFreeSnapshotVersion);let i;i=xg(e.target)?rk(r.ct,e.target):lv(r.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ih(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function Yy(r){const e=ik({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_g(e,e.limit,"L"):e}function F2(r,e){return new $y(e.largestBatchId,qx(r.ct,e.overlayMutation))}function DE(r,e){const t=e.path.lastSegment();return[r,Ea(e.path.popLast()),t]}function OE(r,e,t,n){return{indexId:r,uid:e,sequenceNumber:t,readTime:oh(n.readTime),documentKey:Ea(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{getBundleMetadata(e,t){return ME(e).get(t).next((n=>{if(n)return(function(s){return{id:s.bundleId,createTime:lh(s.createTime),version:s.version}})(n)}))}saveBundleMetadata(e,t){return ME(e).put((function(i){return{bundleId:i.id,createTime:oh(Ui(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return BE(e).get(t).next((n=>{if(n)return(function(s){return{name:s.name,query:Yy(s.bundledQuery),readTime:lh(s.readTime)}})(n)}))}saveNamedQuery(e,t){return BE(e).put((function(i){return{name:i.name,readTime:oh(Ui(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function ME(r){return ds(r,"bundles")}function BE(r){return ds(r,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new cv(e,n)}getOverlay(e,t){return G0(e).get(DE(this.userId,t)).next((n=>n?F2(this.serializer,n):null))}getOverlays(e,t){const n=Gl();return Ue.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((s,a)=>{const o=new $y(t,a);i.push(this.ht(e,o))})),Ue.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((a=>i.add(Ea(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(G0(e).j("collectionPathOverlayIndex",o))})),Ue.waitFor(s)}getOverlaysForCollection(e,t,n){const i=Gl(),s=Ea(t),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return G0(e).U("collectionPathOverlayIndex",a).next((o=>{for(const c of o){const f=F2(this.serializer,c);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const s=Gl();let a;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return G0(e).J({index:"collectionGroupOverlayIndex",range:o},((c,f,h)=>{const p=F2(this.serializer,f);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):h.done()})).next((()=>s))}ht(e,t){return G0(e).put((function(i,s,a){const[o,c,f]=DE(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:f,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:qp(i.ct,a.mutation)}})(this.serializer,this.userId,t))}}function G0(r){return ds(r,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{Pt(e){return ds(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((t=>{const n=t?.value;return n?gi.fromUint8Array(n):gi.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ri(e.integerValue));else if("doubleValue"in e){const n=ri(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Mp(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),typeof n=="string"&&(n=Mc(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Bc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?vS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):sv(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):jt()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const i of Object.keys(n))this.Vt(i,t),this.Tt(n[i],t)}wt(e,t){var n,i;const s=e.fields||{};this.dt(t,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ri(o)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const i of n)this.Tt(i,t)}yt(e,t){this.dt(t,37),Nt.fromName(e).path.forEach((n=>{this.dt(t,60),this.Dt(n,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Hf.vt=new Hf;function ZL(r){if(r===0)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function VE(r){const e=64-(function(n){let i=0;for(let s=0;s<8;++s){const a=ZL(255&n[s]);if(i+=a,a!==8)break}return i})(r);return Math.ceil(e/8)}class eF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ot(n.value),n=t.next();this.Nt()}Lt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),n=VE(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),n=VE(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),n=(128&t[0])!=0;t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Ft(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class tF{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class rF{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class $0{constructor(){this.jt=new eF,this.Ht=new tF(this.jt),this.Jt=new rF(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Wf(this.indexId,this.documentKey,this.arrayValue,n)}}function Eu(r,e){let t=r.indexId-e.indexId;return t!==0?t:(t=jE(r.arrayValue,e.arrayValue),t!==0?t:(t=jE(r.directionalValue,e.directionalValue),t!==0?t:Nt.comparator(r.documentKey,e.documentKey)))}function jE(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(n!==0)return n}return r.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.Xt=new Nn(((t,n)=>$n.comparator(t.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const n=t;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(Xt(e.collectionGroup===this.collectionId),this.nn)return!1;const t=Rx(e);if(t!==void 0&&!this.sn(t))return!1;const n=jf(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const c=n[s];if(!this.on(o,c)||!this._n(this.en[a++],c))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new Nn($n.comparator);const t=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new Qf(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Qf(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Qf(n.field,n.dir==="asc"?0:1)));return new Dd(Dd.UNKNOWN_ID,this.collectionId,t,Od.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(r){var e,t;if(Xt(r instanceof Hr||r instanceof bn),r instanceof Hr){if(r instanceof SS){const i=((t=(e=r.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map((s=>Hr.create(r.field,"==",s))))||[];return bn.create(i,"or")}return r}const n=r.filters.map((i=>uk(i)));return bn.create(n,r.op)}function nF(r){if(r.getFilters().length===0)return[];const e=Gx(uk(r));return Xt(fk(e)),Hx(e)||Wx(e)?[e]:e.getFilters()}function Hx(r){return r instanceof Hr}function Wx(r){return r instanceof bn&&jy(r)}function fk(r){return Hx(r)||Wx(r)||(function(t){if(t instanceof bn&&Ox(t)){for(const n of t.getFilters())if(!Hx(n)&&!Wx(n))return!1;return!0}return!1})(r)}function Gx(r){if(Xt(r instanceof Hr||r instanceof bn),r instanceof Hr)return r;if(r.filters.length===1)return Gx(r.filters[0]);const e=r.filters.map((n=>Gx(n)));let t=bn.create(e,r.op);return t=Tg(t),fk(t)?t:(Xt(t instanceof bn),Xt(Bd(t)),Xt(t.filters.length>1),t.filters.reduce(((n,i)=>Qy(n,i))))}function Qy(r,e){let t;return Xt(r instanceof Hr||r instanceof bn),Xt(e instanceof Hr||e instanceof bn),t=r instanceof Hr?e instanceof Hr?(function(i,s){return bn.create([i,s],"and")})(r,e):zE(r,e):e instanceof Hr?zE(e,r):(function(i,s){if(Xt(i.filters.length>0&&s.filters.length>0),Bd(i)&&Bd(s))return TS(i,s.getFilters());const a=Ox(i)?i:s,o=Ox(i)?s:i,c=a.filters.map((f=>Qy(f,o)));return bn.create(c,"or")})(r,e),Tg(t)}function zE(r,e){if(Bd(e))return TS(e,r.getFilters());{const t=e.filters.map((n=>Qy(r,n)));return bn.create(t,"or")}}function Tg(r){if(Xt(r instanceof Hr||r instanceof bn),r instanceof Hr)return r;const e=r.getFilters();if(e.length===1)return Tg(e[0]);if(wS(r))return r;const t=e.map((i=>Tg(i))),n=[];return t.forEach((i=>{i instanceof Hr?n.push(i):i instanceof bn&&(i.op===r.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:bn.create(n,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.un=new Jy}addToCollectionParentIndex(e,t){return this.un.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(To.min())}updateCollectionGroup(e,t,n){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class Jy{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Nn(qr.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Nn(qr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Uint8Array(0);class sF{constructor(e,t){this.databaseId=t,this.cn=new Jy,this.ln=new Hc((n=>ih(n)),((n,i)=>f1(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.cn.add(t)}));const s={collectionId:n,parent:Ea(i)};return qE(e).put(s)}return Ue.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[nS(t),""],!1,!0);return qE(e).U(i).next((s=>{for(const a of s){if(a.collectionId!==t)break;n.push(Wl(a.parent))}return n}))}addFieldIndex(e,t){const n=K0(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(t);delete i.indexId;const s=n.add(i);if(t.indexState){const a=nd(e);return s.next((o=>{a.put(OE(o,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const n=K0(e),i=nd(e),s=rd(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=K0(e),n=rd(e),i=nd(e);return t.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,t){return Ue.forEach(this.hn(t),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const s=new UE(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const n=rd(e);let i=!0;const s=new Map;return Ue.forEach(this.hn(t),(a=>this.Pn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=Cr();const o=[];return Ue.forEach(s,((c,f)=>{pt("IndexedDbIndexManager",`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(c)} to execute ${ih(t)}`);const h=(function(D,q){const se=Rx(q);if(se===void 0)return null;for(const Q of yg(D,se.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null})(f,c),p=(function(D,q){const se=new Map;for(const Q of jf(q))for(const F of yg(D,Q.fieldPath))switch(F.op){case"==":case"in":se.set(Q.fieldPath.canonicalString(),F.value);break;case"not-in":case"!=":return se.set(Q.fieldPath.canonicalString(),F.value),Array.from(se.values())}return null})(f,c),x=(function(D,q){const se=[];let Q=!0;for(const F of jf(q)){const A=F.kind===0?wE(D,F.fieldPath,D.startAt):EE(D,F.fieldPath,D.startAt);se.push(A.value),Q&&(Q=A.inclusive)}return new Ju(se,Q)})(f,c),m=(function(D,q){const se=[];let Q=!0;for(const F of jf(q)){const A=F.kind===0?EE(D,F.fieldPath,D.endAt):wE(D,F.fieldPath,D.endAt);se.push(A.value),Q&&(Q=A.inclusive)}return new Ju(se,Q)})(f,c),E=this.In(c,f,x),w=this.In(c,f,m),T=this.Tn(c,f,p),P=this.En(c.indexId,h,E,x.inclusive,w,m.inclusive,T);return Ue.forEach(P,(j=>n.G(j,t.limit).next((D=>{D.forEach((q=>{const se=Nt.fromSegments(q.documentKey);a.has(se)||(a=a.add(se),o.push(se))}))}))))})).next((()=>o))}return Ue.resolve(null)}))}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=nF(bn.create(e.filters,"and")).map((n=>Bx(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,t),t)}En(e,t,n,i,s,a,o){const c=(t!=null?t.length:1)*Math.max(n.length,s.length),f=c/(t!=null?t.length:1),h=[];for(let p=0;p<c;++p){const x=t?this.dn(t[p/f]):wm,m=this.An(e,x,n[p%f],i),E=this.Rn(e,x,s[p%f],a),w=o.map((T=>this.An(e,x,T,!0)));h.push(...this.createRange(m,E,w))}return h}An(e,t,n,i){const s=new Wf(e,Nt.empty(),t,n);return i?s:s.Zt()}Rn(e,t,n,i){const s=new Wf(e,Nt.empty(),t,n);return i?s.Zt():s}Pn(e,t){const n=new UE(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,t){let n=2;const i=this.hn(t);return Ue.forEach(i,(s=>this.Pn(e,s).next((a=>{a?n!==0&&a.fields.length<(function(c){let f=new Nn($n.comparator),h=!1;for(const p of c.filters)for(const x of p.getFlattenedFilters())x.field.isKeyField()||(x.op==="array-contains"||x.op==="array-contains-any"?h=!0:f=f.add(x.field));for(const p of c.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(h?1:0)})(s)&&(n=1):n=0})))).next((()=>(function(a){return a.limit!==null})(t)&&i.length>1&&n===2?1:n))}Vn(e,t){const n=new $0;for(const i of jf(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Hf.vt.It(s,a)}return n.zt()}dn(e){const t=new $0;return Hf.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const n=new $0;return Hf.vt.It(nh(this.databaseId,t),n.Yt((function(s){const a=jf(s);return a.length===0?0:a[a.length-1].kind})(e))),n.zt()}Tn(e,t,n){if(n===null)return[];let i=[];i.push(new $0);let s=0;for(const a of jf(e)){const o=n[s++];for(const c of i)if(this.fn(t,a.fieldPath)&&jp(o))i=this.gn(i,a,o);else{const f=c.Yt(a.kind);Hf.vt.It(o,f)}}return this.pn(i)}In(e,t,n){return this.Tn(e,t,n.position)}pn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].zt();return t}gn(e,t,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const c=new $0;c.seed(o.zt()),Hf.vt.It(a,c.Yt(t.kind)),s.push(c)}return s}fn(e,t){return!!e.filters.find((n=>n instanceof Hr&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,t){const n=K0(e),i=nd(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((s=>{const a=[];return Ue.forEach(s,(o=>i.get([o.indexId,this.uid]).next((c=>{a.push((function(h,p){const x=p?new Od(p.sequenceNumber,new To(lh(p.readTime),new Nt(Wl(p.documentKey)),p.largestBatchId)):Od.empty(),m=h.fields.map((([E,w])=>new Qf($n.fromServerFormat(E),w)));return new Dd(h.indexId,h.collectionGroup,m,x)})(o,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:_r(n.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=K0(e),s=nd(e);return this.yn(e).next((a=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((o=>Ue.forEach(o,(c=>s.put(OE(c.indexId,this.uid,a,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ue.forEach(t,((i,s)=>{const a=n.get(i.collectionGroup);return(a?Ue.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(n.set(i.collectionGroup,o),Ue.forEach(o,(c=>this.wn(e,i,c).next((f=>{const h=this.Sn(s,c);return f.isEqual(h)?Ue.resolve():this.bn(e,s,c,f,h)})))))))}))}Dn(e,t,n,i){return rd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}vn(e,t,n,i){return rd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const i=rd(e);let s=new Nn(Eu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},((a,o)=>{s=s.add(new Wf(n.indexId,t,o.arrayValue,o.directionalValue))})).next((()=>s))}Sn(e,t){let n=new Nn(Eu);const i=this.Vn(t,e);if(i==null)return n;const s=Rx(t);if(s!=null){const a=e.data.field(s.fieldPath);if(jp(a))for(const o of a.arrayValue.values||[])n=n.add(new Wf(t.indexId,e.key,this.dn(o),i))}else n=n.add(new Wf(t.indexId,e.key,wm,i));return n}bn(e,t,n,i,s){pt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return(function(c,f,h,p,x){const m=c.getIterator(),E=f.getIterator();let w=td(m),T=td(E);for(;w||T;){let P=!1,j=!1;if(w&&T){const D=h(w,T);D<0?j=!0:D>0&&(P=!0)}else w!=null?j=!0:P=!0;P?(p(T),T=td(E)):j?(x(w),w=td(m)):(w=td(m),T=td(E))}})(i,s,Eu,(o=>{a.push(this.Dn(e,t,n,o))}),(o=>{a.push(this.vn(e,t,n,o))})),Ue.waitFor(a)}yn(e){let t=1;return nd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((a,o)=>Eu(a,o))).filter(((a,o,c)=>!o||Eu(a,c[o-1])!==0));const i=[];i.push(e);for(const a of n){const o=Eu(a,e),c=Eu(a,t);if(o===0)i[0]=e.Zt();else if(o>0&&c<0)i.push(a),i.push(a.Zt());else if(c>0)break}i.push(t);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,wm,[]],c=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,wm,[]];s.push(IDBKeyRange.bound(o,c))}return s}Cn(e,t){return Eu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(HE)}getMinOffset(e,t){return Ue.mapArray(this.hn(t),(n=>this.Pn(e,n).next((i=>i||jt())))).next(HE)}}function qE(r){return ds(r,"collectionParents")}function rd(r){return ds(r,"indexEntries")}function K0(r){return ds(r,"indexConfiguration")}function nd(r){return ds(r,"indexState")}function HE(r){Xt(r.length!==0);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const i=r[n].indexState.offset;My(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new To(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new xa(e,xa.DEFAULT_COLLECTION_PERCENTILE,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(r,e,t){const n=r.store("mutations"),i=r.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let o=0;const c=n.J({range:a},((h,p,x)=>(o++,x.delete())));s.push(c.next((()=>{Xt(o===1)})));const f=[];for(const h of t.mutations){const p=uS(e,h.key.path,t.batchId);s.push(i.delete(p)),f.push(h.key)}return Ue.waitFor(s).next((()=>f))}function bg(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw jt();e=r.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xa.DEFAULT_COLLECTION_PERCENTILE=10,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xa.DEFAULT=new xa(41943040,xa.DEFAULT_COLLECTION_PERCENTILE,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xa.DISABLED=new xa(-1,0,0);class uv{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,t,n,i){Xt(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new uv(s,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tu(e).J({index:"userMutationsIndex",range:n},((i,s,a)=>{t=!1,a.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const s=hd(e),a=Tu(e);return a.add({}).next((o=>{Xt(typeof o=="number");const c=new Wy(o,t,n,i),f=(function(m,E,w){const T=w.baseMutations.map((j=>qp(m.ct,j))),P=w.mutations.map((j=>qp(m.ct,j)));return{userId:E,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:T,mutations:P}})(this.serializer,this.userId,c),h=[];let p=new Nn(((x,m)=>_r(x.canonicalString(),m.canonicalString())));for(const x of i){const m=uS(this.userId,x.key.path,o);p=p.add(x.key.path.popLast()),h.push(a.put(f)),h.push(s.put(m,G8))}return p.forEach((x=>{h.push(this.indexManager.addToCollectionParentIndex(e,x))})),e.addOnCommittedListener((()=>{this.Fn[o]=c.keys()})),Ue.waitFor(h).next((()=>c))}))}lookupMutationBatch(e,t){return Tu(e).get(t).next((n=>n?(Xt(n.userId===this.userId),qf(this.serializer,n)):null))}Mn(e,t){return this.Fn[t]?Ue.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next((n=>{if(n){const i=n.keys();return this.Fn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Tu(e).J({index:"userMutationsIndex",range:i},((a,o,c)=>{o.userId===this.userId&&(Xt(o.batchId>=n),s=qf(this.serializer,o)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Tu(e).J({index:"userMutationsIndex",range:t,reverse:!0},((i,s,a)=>{n=s.batchId,a.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tu(e).U("userMutationsIndex",t).next((n=>n.map((i=>qf(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ym(this.userId,t.path),i=IDBKeyRange.lowerBound(n),s=[];return hd(e).J({range:i},((a,o,c)=>{const[f,h,p]=a,x=Wl(h);if(f===this.userId&&t.path.isEqual(x))return Tu(e).get(p).next((m=>{if(!m)throw jt();Xt(m.userId===this.userId),s.push(qf(this.serializer,m))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nn(_r);const i=[];return t.forEach((s=>{const a=Ym(this.userId,s.path),o=IDBKeyRange.lowerBound(a),c=hd(e).J({range:o},((f,h,p)=>{const[x,m,E]=f,w=Wl(m);x===this.userId&&s.path.isEqual(w)?n=n.add(E):p.done()}));i.push(c)})),Ue.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,s=Ym(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new Nn(_r);return hd(e).J({range:a},((c,f,h)=>{const[p,x,m]=c,E=Wl(x);p===this.userId&&n.isPrefixOf(E)?E.length===i&&(o=o.add(m)):h.done()})).next((()=>this.xn(e,o)))}xn(e,t){const n=[],i=[];return t.forEach((s=>{i.push(Tu(e).get(s).next((a=>{if(a===null)throw jt();Xt(a.userId===this.userId),n.push(qf(this.serializer,a))})))})),Ue.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return hk(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.On(t.batchId)})),Ue.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ue.resolve();const n=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return hd(e).J({range:n},((s,a,o)=>{if(s[0]===this.userId){const c=Wl(s[1]);i.push(c)}else o.done()})).next((()=>{Xt(i.length===0)}))}))}containsKey(e,t){return dk(e,this.userId,t)}Nn(e){return pk(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function dk(r,e,t){const n=Ym(e,t.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return hd(r).J({range:s,H:!0},((o,c,f)=>{const[h,p,x]=o;h===e&&p===i&&(a=!0),f.done()})).next((()=>a))}function Tu(r){return ds(r,"mutations")}function hd(r){return ds(r,"documentMutations")}function pk(r){return ds(r,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ch(0)}static kn(){return new ch(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next((t=>{const n=new ch(t.highestTargetId);return t.highestTargetId=n.next(),this.Qn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((t=>er.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i))))}addTargetData(e,t){return this.Kn(e,t).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(t,n),this.Qn(e,n))))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>id(e).delete(t.targetId))).next((()=>this.qn(e))).next((n=>(Xt(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,t,n){let i=0;const s=[];return id(e).J(((a,o)=>{const c=ap(o);c.sequenceNumber<=t&&n.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>Ue.waitFor(s))).next((()=>i))}forEachTarget(e,t){return id(e).J(((n,i)=>{const s=ap(i);t(s)}))}qn(e){return GE(e).get("targetGlobalKey").next((t=>(Xt(t!==null),t)))}Qn(e,t){return GE(e).put("targetGlobalKey",t)}Kn(e,t){return id(e).put(ck(this.serializer,t))}$n(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((t=>t.targetCount))}getTargetData(e,t){const n=ih(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return id(e).J({range:i,index:"queryTargetsIndex"},((a,o,c)=>{const f=ap(o);f1(t,f.target)&&(s=f,c.done())})).next((()=>s))}addMatchingKeys(e,t,n){const i=[],s=Cu(e);return t.forEach((a=>{const o=Ea(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))})),Ue.waitFor(i)}removeMatchingKeys(e,t,n){const i=Cu(e);return Ue.forEach(t,(s=>{const a=Ea(s.path);return Ue.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])}))}removeMatchingKeysForTargetId(e,t){const n=Cu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=Cu(e);let s=Cr();return i.J({range:n,H:!0},((a,o,c)=>{const f=Wl(a[1]),h=new Nt(f);s=s.add(h)})).next((()=>s))}containsKey(e,t){const n=Ea(t.path),i=IDBKeyRange.bound([n],[nS(n)],!1,!0);let s=0;return Cu(e).J({index:"documentTargetsIndex",H:!0,range:i},(([a,o],c,f)=>{a!==0&&(s++,f.done())})).next((()=>s>0))}ot(e,t){return id(e).get(t).next((n=>n?ap(n):null))}}function id(r){return ds(r,"targets")}function GE(r){return ds(r,"targetGlobal")}function Cu(r){return ds(r,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E([r,e],[t,n]){const i=_r(r,t);return i===0?_r(e,n):i}class oF{constructor(e){this.Un=e,this.buffer=new Nn($E),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();$E(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){uf(t)?pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await cf(t)}await this.Hn(3e5)}))}}class lF{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Ue.resolve(Qa.oe);const n=new oF(t);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(WE)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.Xn(e,t)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let n,i,s,a,o,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(e,n,t)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),cd()<=zr.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function gk(r,e){return new lF(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,t){this.db=e,this.garbageCollector=gk(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}er(e){let t=0;return this.Zn(e,(n=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,((n,i)=>t(i)))}addReference(e,t,n){return Em(e,n)}removeReference(e,t,n){return Em(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Em(e,t)}nr(e,t){return(function(i,s){let a=!1;return pk(i).Y((o=>dk(i,o,s).next((c=>(c&&(a=!0),Ue.resolve(!c)))))).next((()=>a))})(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,((a,o)=>{if(o<=t){const c=this.nr(e,a).next((f=>{if(!f)return s++,n.getEntry(e,a).next((()=>(n.removeEntry(a,er.min()),Cu(e).delete((function(p){return[0,Ea(p.path)]})(a)))))}));i.push(c)}})).next((()=>Ue.waitFor(i))).next((()=>n.apply(e))).next((()=>s))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Em(e,t)}tr(e,t){const n=Cu(e);let i,s=Qa.oe;return n.J({index:"documentTargetsIndex"},(([a,o],{path:c,sequenceNumber:f})=>{a===0?(s!==Qa.oe&&t(new Nt(Wl(i)),s),s=f,i=c):s=Qa.oe})).next((()=>{s!==Qa.oe&&t(new Nt(Wl(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Em(r,e){return Cu(r).put((function(n,i){return{targetId:0,path:Ea(n.path),sequenceNumber:i}})(e,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.changes=new Hc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Bf(e).put(n)}removeEntry(e,t,n){return Bf(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Eg(a),o[o.length-1]]})(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.rr(e,n))))}getEntry(e,t){let n=Gn.newInvalidDocument(t);return Bf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},((i,s)=>{n=this.ir(t,s)})).next((()=>n))}sr(e,t){let n={size:0,document:Gn.newInvalidDocument(t)};return Bf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},((i,s)=>{n={document:this.ir(t,s),size:bg(s)}})).next((()=>n))}getEntries(e,t){let n=Za();return this._r(e,t,((i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)})).next((()=>n))}ar(e,t){let n=Za(),i=new qn(Nt.comparator);return this._r(e,t,((s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,bg(a))})).next((()=>({documents:n,ur:i})))}_r(e,t,n){if(t.isEmpty())return Ue.resolve();let i=new Nn(YE);t.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(X0(i.first()),X0(i.last())),a=i.getIterator();let o=a.getNext();return Bf(e).J({index:"documentKeyIndex",range:s},((c,f,h)=>{const p=Nt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;o&&YE(o,p)<0;)n(o,null),o=a.getNext();o&&o.isEqual(p)&&(n(o,f),o=a.hasNext()?a.getNext():null),o?h.$(X0(o)):h.done()})).next((()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i,s){const a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Eg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bf(e).U(IDBKeyRange.bound(o,c,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let h=Za();for(const p of f){const x=this.ir(Nt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);x.isFoundDocument()&&(d1(t,x)||i.has(x.key))&&(h=h.insert(x.key,x))}return h}))}getAllFromCollectionGroup(e,t,n,i){let s=Za();const a=XE(t,n),o=XE(t,To.max());return Bf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},((c,f,h)=>{const p=this.ir(Nt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&h.done()})).next((()=>s))}newChangeBuffer(e){return new fF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return KE(e).get("remoteDocumentGlobalKey").next((t=>(Xt(!!t),t)))}rr(e,t){return KE(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const n=YL(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(er.min())))return n}return Gn.newInvalidDocument(e)}}function xk(r){return new uF(r)}class fF extends vk{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Hc((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const t=[];let n=0,i=new Nn(((s,a)=>_r(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const c=FE(this.cr.serializer,a);i=i.add(s.path.popLast());const f=bg(c);n+=f-o.size,t.push(this.cr.addEntry(e,s,c))}else if(n-=o.size,this.trackRemovals){const c=FE(this.cr.serializer,a.convertToNoDocument(er.min()));t.push(this.cr.addEntry(e,s,c))}})),i.forEach((s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.cr.updateMetadata(e,n)),Ue.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next((n=>(this.lr.set(t,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,t){return this.cr.ar(e,t).next((({documents:n,ur:i})=>(i.forEach(((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})})),n)))}}function KE(r){return ds(r,"remoteDocumentGlobal")}function Bf(r){return ds(r,"remoteDocumentsV14")}function X0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XE(r,e){const t=e.documentKey.path.toArray();return[r,Eg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function YE(r,e){const t=r.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<n.length-2;++s)if(i=_r(t[s],n[s]),i)return i;return i=_r(t.length,n.length),i||(i=_r(t[t.length-2],n[n.length-2]),i||_r(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&pp(n.mutation,i,Ja.empty(),si.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Cr()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Cr()){const i=Gl();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((s=>{let a=ip();return s.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const n=Gl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Cr())))}populateOverlays(e,t,n){const i=[];return n.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{t.set(a,o)}))}))}computeViews(e,t,n,i){let s=Za();const a=dp(),o=(function(){return dp()})();return t.forEach(((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Wc)?s=s.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),pp(h.mutation,f,h.mutation.getFieldMask(),si.now())):a.set(f.key,Ja.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((f,h)=>a.set(f,h))),t.forEach(((f,h)=>{var p;return o.set(f,new hF(h,(p=a.get(f))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=dp();let i=new qn(((a,o)=>a-o)),s=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const o of a)o.keys().forEach((c=>{const f=t.get(c);if(f===null)return;let h=n.get(c)||Ja.empty();h=o.applyToLocalView(f,h),n.set(c,h);const p=(i.get(o.batchId)||Cr()).add(c);i=i.insert(o.batchId,p)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),f=c.key,h=c.value,p=DS();h.forEach((x=>{if(!s.has(x)){const m=zS(t.get(x),n.get(x));m!==null&&p.set(x,m),s=s.add(x)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ue.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(a){return Nt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Uy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):Ue.resolve(Gl());let o=-1,c=s;return a.next((f=>Ue.forEach(f,((h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?Ue.resolve():this.remoteDocumentCache.getEntry(e,h).next((x=>{c=c.insert(h,x)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,c,f,Cr()))).next((h=>({batchId:o,changes:FS(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nt(t)).next((n=>{let i=ip();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=ip();return this.indexManager.getCollectionParents(e,s).next((o=>Ue.forEach(o,(c=>{const f=(function(p,x){return new qc(x,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((h=>{h.forEach(((p,x)=>{a=a.insert(p,x)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)))).next((a=>{s.forEach(((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,Gn.newInvalidDocument(h)))}));let o=ip();return a.forEach(((c,f)=>{const h=s.get(c);h!==void 0&&pp(h.mutation,f,Ja.empty(),si.now()),d1(t,f)&&(o=o.insert(c,f))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Ue.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}})(t)),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:Yy(i.bundledQuery),readTime:Ui(i.readTime)}})(t)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.overlays=new qn(Nt.comparator),this.Ir=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gl();return Ue.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,s)=>{this.ht(e,t,s)})),Ue.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),Ue.resolve()}getOverlaysForCollection(e,t,n){const i=Gl(),s=t.length+1,a=new Nt(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new qn(((f,h)=>f-h));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let h=s.get(f.largestBatchId);h===null&&(h=Gl(),s=s.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const o=Gl(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>o.set(f,h))),!(o.size()>=i)););return Ue.resolve(o)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new $y(t,n));let s=this.Ir.get(t);s===void 0&&(s=Cr(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.sessionToken=gi.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Tr=new Nn(As.Er),this.dr=new Nn(As.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new As(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new As(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new Nt(new qr([])),n=new As(t,e),i=new As(t,e+1),s=[];return this.dr.forEachInRange([n,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Nt(new qr([])),n=new As(t,e),i=new As(t,e+1);let s=Cr();return this.dr.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new As(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class As{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Nt.comparator(e.key,t.key)||_r(e.wr,t.wr)}static Ar(e,t){return _r(e.wr,t.wr)||Nt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Nn(As.Er)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Wy(s,t,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new As(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ue.resolve(a)}lookupMutationBatch(e,t){return Ue.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),s=i<0?0:i;return Ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new As(t,0),i=new As(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(a=>{const o=this.Dr(a.wr);s.push(o)})),Ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nn(_r);return t.forEach((i=>{const s=new As(i,0),a=new As(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(o=>{n=n.add(o.wr)}))})),Ue.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;Nt.isDocumentKey(s)||(s=s.child(""));const a=new As(new Nt(s),0);let o=new Nn(_r);return this.br.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(o=o.add(c.wr)),!0)}),a),Ue.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Xt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ue.forEach(t.mutations,(i=>{const s=new As(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new As(t,0),i=this.br.firstAfterOrEqual(n);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.Mr=e,this.docs=(function(){return new qn(Nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ue.resolve(n?n.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let n=Za();return t.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))})),Ue.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=Za();const a=t.path,o=new Nt(a.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||My(sS(h),n)<=0||(i.has(h.key)||d1(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Ue.resolve(s)}getAllFromCollectionGroup(e,t,n,i){jt()}Or(e,t){return Ue.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new xF(this)}getSize(e){return Ue.resolve(this.size)}}class xF extends vk{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),Ue.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.persistence=e,this.Nr=new Hc((t=>ih(t)),f1),this.lastRemoteSnapshotVersion=er.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zy,this.targetCount=0,this.kr=ch.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,i)=>t(i))),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Ue.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ch(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Kn(t),Ue.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Nr.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Ue.waitFor(s).next((()=>i))}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Ue.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Ue.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Ue.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Ue.resolve(n)}containsKey(e,t){return Ue.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Qa(0),this.Kr=!1,this.Kr=!0,this.$r=new mF,this.referenceDelegate=e(this),this.Ur=new yF(this),this.indexManager=new iF,this.remoteDocumentCache=(function(i){return new vF(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new lk(t),this.Gr=new dF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new gF(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){pt("MemoryPersistence","Starting transaction:",e);const i=new _F(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,t){return Ue.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class _F extends oS{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.Jr=new Zy,this.Yr=null}static Zr(e){return new fv(e)}get Xr(){if(this.Yr)return this.Yr;throw jt()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Ue.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Xr,(n=>{const i=Nt.fromPath(n);return this.ei(e,i).next((s=>{s||t.removeEntry(i,er.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Ue.or([()=>Ue.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ag{constructor(e,t){this.persistence=e,this.ti=new Hc((n=>Ea(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=gk(this,t)}static Zr(e,t){return new Ag(e,t)}zr(){}jr(e){return Ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}er(e){let t=0;return this.Zn(e,(n=>{t++})).next((()=>t))}Zn(e,t){return Ue.forEach(this.ti,((n,i)=>this.nr(e,n,i).next((s=>s?Ue.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,(a=>this.nr(e,a,t).next((o=>{o||(n++,s.removeEntry(a,er.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ti.set(n,e.currentSequenceNumber),Ue.resolve()}removeReference(e,t,n){return this.ti.set(n,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),Ue.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jm(e.data.value)),t}nr(e,t,n){return Ue.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ti.get(t);return Ue.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.serializer=e}O(e,t,n,i){const s=new rv("createOrUpgrade",t);n<1&&i>=1&&((function(c){c.createObjectStore("owner")})(e),(function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uE,{unique:!0}),c.createObjectStore("documentMutations")})(e),QE(e),(function(c){c.createObjectStore("remoteDocuments")})(e));let a=Ue.resolve();return n<3&&i>=3&&(n!==0&&((function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")})(e),QE(e)),a=a.next((()=>(function(c){const f=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:er.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",h)})(s)))),n<4&&i>=4&&(n!==0&&(a=a.next((()=>(function(c,f){return f.store("mutations").U().next((h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uE,{unique:!0});const p=f.store("mutations"),x=h.map((m=>p.put(m)));return Ue.waitFor(x)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(a=a.next((()=>this.ni(s)))),n<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore("remoteDocumentGlobal")})(e),this.ri(s))))),n<7&&i>=7&&(a=a.next((()=>this.ii(s)))),n<8&&i>=8&&(a=a.next((()=>this.si(e,s)))),n<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(a=a.next((()=>this.oi(s)))),n<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(c){c.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(a=a.next((()=>{(function(c){const f=c.createObjectStore("documentOverlays",{keyPath:iL});f.createIndex("collectionPathOverlayIndex",sL,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",aL,{unique:!1})})(e)}))),n<13&&i>=13&&(a=a.next((()=>(function(c){const f=c.createObjectStore("remoteDocumentsV14",{keyPath:$8});f.createIndex("documentKeyIndex",K8),f.createIndex("collectionGroupIndex",X8)})(e))).next((()=>this._i(e,s))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(a=a.next((()=>this.ai(e,s)))),n<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:eL}).createIndex("sequenceNumberIndex",tL,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:rL}).createIndex("documentKeyIndex",nL,{unique:!1})})(e)))),n<16&&i>=16&&(a=a.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)}))),a}ri(e){let t=0;return e.store("remoteDocuments").J(((n,i)=>{t+=bg(i)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((i=>Ue.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next((o=>Ue.forEach(o,(c=>{Xt(c.userId===s.userId);const f=qf(this.serializer,c);return hk(e,s.userId,f).next((()=>{}))}))))}))))}ii(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const s=[];return n.J(((a,o)=>{const c=new qr(a),f=(function(p){return[0,Ea(p)]})(c);s.push(t.get(f).next((h=>h?Ue.resolve():(p=>t.put({targetId:0,path:Ea(p),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>Ue.waitFor(s)))}))}si(e,t){e.createObjectStore("collectionParents",{keyPath:Z8});const n=t.store("collectionParents"),i=new Jy,s=a=>{if(i.add(a)){const o=a.lastSegment(),c=a.popLast();return n.put({collectionId:o,parent:Ea(c)})}};return t.store("remoteDocuments").J({H:!0},((a,o)=>{const c=new qr(a);return s(c.popLast())})).next((()=>t.store("documentMutations").J({H:!0},(([a,o,c],f)=>{const h=Wl(o);return s(h.popLast())}))))}oi(e){const t=e.store("targets");return t.J(((n,i)=>{const s=ap(i),a=ck(this.serializer,s);return t.put(a)}))}_i(e,t){const n=t.store("remoteDocuments"),i=[];return n.J(((s,a)=>{const o=t.store("remoteDocumentsV14"),c=(function(p){return p.document?new Nt(qr.fromString(p.document.name).popFirst(5)):p.noDocument?Nt.fromSegments(p.noDocument.path):p.unknownDocument?Nt.fromSegments(p.unknownDocument.path):jt()})(a).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(f))})).next((()=>Ue.waitFor(i)))}ai(e,t){const n=t.store("mutations"),i=xk(this.serializer),s=new e_(fv.Zr,this.serializer.ct);return n.U().next((a=>{const o=new Map;return a.forEach((c=>{var f;let h=(f=o.get(c.userId))!==null&&f!==void 0?f:Cr();qf(this.serializer,c).keys().forEach((p=>h=h.add(p))),o.set(c.userId,h)})),Ue.forEach(o,((c,f)=>{const h=new ks(f),p=cv.lt(this.serializer,h),x=s.getIndexManager(h),m=uv.lt(h,this.serializer,x,s.referenceDelegate);return new yk(i,m,p,x).recalculateAndSaveOverlaysForDocumentKeys(new Lx(t,Qa.oe),c).next()}))}))}}function QE(r){r.createObjectStore("targetDocuments",{keyPath:Q8}).createIndex("documentTargetsIndex",J8,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Y8,{unique:!0}),r.createObjectStore("targetGlobal")}const D2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class t_{constructor(e,t,n,i,s,a,o,c,f,h,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=f,this.li=h,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=x=>Promise.resolve(),!t_.D())throw new dt(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cF(this,i),this.Ai=t+"main",this.serializer=new lk(c),this.Ri=new Yl(this.Ai,this.hi,new wF(this.serializer)),this.$r=new JL,this.Ur=new aF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xk(this.serializer),this.Gr=new QL,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(Ze.FAILED_PRECONDITION,D2);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new Qa(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Tm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((t=>this.isPrimary&&!t?this.bi(e).next((()=>!1)):!!t&&this.Di(e).next((()=>!0)))))).catch((e=>{if(uf(e))return pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Y0(e).get("owner").next((t=>Ue.resolve(this.vi(t))))}Ci(e){return Tm(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const n=ds(t,"clientMetadata");return n.U().next((i=>{const s=this.xi(i,18e5),a=i.filter((o=>s.indexOf(o)===-1));return Ue.forEach(a,(o=>n.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ue.resolve(!0):Y0(e).get("owner").next((t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new dt(Ze.FAILED_PRECONDITION,D2);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tm(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&pt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Lx(e,Qa.oe);return this.bi(t).next((()=>this.Ci(t)))})),this.Ri.close(),this.qi()}xi(e,t){return e.filter((n=>this.Mi(n.updateTimeMs,t)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>Tm(e).U().next((t=>this.xi(t,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return uv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sF(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cv.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,n){pt("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(c){return c===17?cL:c===16?lL:c===15?Vy:c===14?dS:c===13?hS:c===12?oL:c===11?fS:void jt()})(this.hi);let a;return this.Ri.runTransaction(e,i,s,(o=>(a=new Lx(o,this.Qr?this.Qr.next():Qa.oe),t==="readwrite-primary"?this.wi(a).next((c=>!!c||this.Si(a))).next((c=>{if(!c)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new dt(Ze.FAILED_PRECONDITION,aS);return n(a)})).next((c=>this.Di(a).next((()=>c)))):this.Ki(a).next((()=>n(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Ki(e){return Y0(e).get("owner").next((t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new dt(Ze.FAILED_PRECONDITION,D2)}))}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Y0(e).put("owner",t)}static D(){return Yl.D()}bi(e){const t=Y0(e);return t.get("owner").next((n=>this.vi(n)?(pt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ue.resolve()))}Mi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ji(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;UA()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const n=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return pt("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ji("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){ji("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Y0(r){return ds(r,"owner")}function Tm(r){return ds(r,"clientMetadata")}function r_(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=Cr(),i=Cr();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n_(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return UA()?8:lS(hs())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.Yi(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,t,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new EF;return this.Xi(e,t,a).next((o=>{if(s.result=o,this.zi)return this.es(e,t,a,o.size)}))})).next((()=>s.result))}es(e,t,n,i){return n.documentReadCount<this.ji?(cd()<=zr.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",ud(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ue.resolve()):(cd()<=zr.DEBUG&&pt("QueryEngine","Query:",ud(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(cd()<=zr.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",ud(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ta(t))):Ue.resolve())}Yi(e,t){if(TE(t))return Ue.resolve(null);let n=Ta(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=_g(t,null,"F"),n=Ta(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=Cr(...s);return this.Ji.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.ts(t,o);return this.ns(t,f,a,c.readTime)?this.Yi(e,_g(t,null,"F")):this.rs(e,f,t,c)}))))})))))}Zi(e,t,n,i){return TE(t)||i.isEqual(er.min())?Ue.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const a=this.ts(t,s);return this.ns(t,a,n,i)?Ue.resolve(null):(cd()<=zr.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ud(t)),this.rs(e,a,t,iS(i,-1)).next((o=>o)))}))}ts(e,t){let n=new Nn(RS(e));return t.forEach(((i,s)=>{d1(e,s)&&(n=n.add(s))})),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,n){return cd()<=zr.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",ud(t)),this.Ji.getDocumentsMatchingQuery(e,t,To.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new qn(_r),this._s=new Hc((s=>ih(s)),f1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function wk(r,e,t,n){return new TF(r,e,t,n)}async function Ek(r,e){const t=It(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],o=[];let c=Cr();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of s){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(n,c).next((f=>({hs:f,removedBatchIds:a,addedBatchIds:o})))}))}))}function bF(r,e){const t=It(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return(function(o,c,f,h){const p=f.batch,x=p.keys();let m=Ue.resolve();return x.forEach((E=>{m=m.next((()=>h.getEntry(c,E))).next((w=>{const T=f.docVersions.get(E);Xt(T!==null),w.version.compareTo(T)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),m.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let c=Cr();for(let f=0;f<o.mutationResults.length;++f)o.mutationResults[f].transformResults.length>0&&(c=c.add(o.batch.mutations[f].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function Tk(r){const e=It(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function AF(r,e){const t=It(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const o=[];e.targetChanges.forEach(((h,p)=>{const x=i.get(p);if(!x)return;o.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next((()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p))));let m=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(gi.EMPTY_BYTE_STRING,er.min()).withLastLimboFreeSnapshotVersion(er.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),i=i.insert(p,m),(function(w,T,P){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(x,m,h)&&o.push(t.Ur.updateTargetData(s,m))}));let c=Za(),f=Cr();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))})),o.push(bk(s,a,e.documentUpdates).next((h=>{c=h.Ps,f=h.Is}))),!n.isEqual(er.min())){const h=t.Ur.getLastRemoteSnapshotVersion(s).next((p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));o.push(h)}return Ue.waitFor(o).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,f))).next((()=>c))})).then((s=>(t.os=i,s)))}function bk(r,e,t){let n=Cr(),i=Cr();return t.forEach((s=>n=n.add(s))),e.getEntries(r,n).next((s=>{let a=Za();return t.forEach(((o,c)=>{const f=s.get(o);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(er.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):pt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",f.version," Watch version:",c.version)})),{Ps:a,Is:i}}))}function SF(r,e){const t=It(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function zd(r,e){const t=It(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Ur.getTargetData(n,e).next((s=>s?(i=s,Ue.resolve(i)):t.Ur.allocateTargetId(n).next((a=>(i=new kc(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function qd(r,e,t){const n=It(r),i=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!uf(a))throw a;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Sg(r,e,t){const n=It(r);let i=er.min(),s=Cr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,h){const p=It(c),x=p._s.get(h);return x!==void 0?Ue.resolve(p.os.get(x)):p.Ur.getTargetData(f,h)})(n,a,Ta(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next((c=>{s=c}))})).next((()=>n.ss.getDocumentsMatchingQuery(a,e,t?i:er.min(),t?s:Cr()))).next((o=>(kk(n,PS(e),o),{documents:o,Ts:s})))))}function Ak(r,e){const t=It(r),n=It(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>n.ot(s,e).next((a=>a?a.target:null))))}function Sk(r,e){const t=It(r),n=t.us.get(e)||er.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.cs.getAllFromCollectionGroup(i,e,iS(n,-1),Number.MAX_SAFE_INTEGER))).then((i=>(kk(t,e,i),i)))}function kk(r,e,t){let n=r.us.get(e)||er.min();t.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),r.us.set(e,n)}async function kF(r,e,t,n){const i=It(r);let s=Cr(),a=Za();for(const f of t){const h=e.Es(f.metadata.name);f.document&&(s=s.add(h));const p=e.ds(f);p.setReadTime(e.As(f.metadata.readTime)),a=a.insert(h,p)}const o=i.cs.newChangeBuffer({trackRemovals:!0}),c=await zd(i,(function(h){return Ta(n0(qr.fromString(`__bundle__/docs/${h}`)))})(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>bk(f,o,a).next((h=>(o.apply(f),h))).next((h=>i.Ur.removeMatchingKeysForTargetId(f,c.targetId).next((()=>i.Ur.addMatchingKeys(f,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,h.Ps,h.Is))).next((()=>h.Ps))))))}async function IF(r,e,t=Cr()){const n=await zd(r,Ta(Yy(e.bundledQuery))),i=It(r);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Ui(e.readTime);if(n.snapshotVersion.compareTo(a)>=0)return i.Gr.saveNamedQuery(s,e);const o=n.withResumeToken(gi.EMPTY_BYTE_STRING,a);return i.os=i.os.insert(o.targetId,o),i.Ur.updateTargetData(s,o).next((()=>i.Ur.removeMatchingKeysForTargetId(s,n.targetId))).next((()=>i.Ur.addMatchingKeys(s,t,n.targetId))).next((()=>i.Gr.saveNamedQuery(s,e)))}))}function JE(r,e){return`firestore_clients_${r}_${e}`}function ZE(r,e,t){let n=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function O2(r,e){return`firestore_targets_${r}_${e}`}class kg{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Rs(e,t,n){const i=JSON.parse(n);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new dt(i.error.code,i.error.message))),a?new kg(e,t,i.state,s):(ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Rs(e,t){const n=JSON.parse(t);let i,s=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return s&&n.error&&(s=typeof n.error.message=="string"&&typeof n.error.code=="string",s&&(i=new dt(n.error.code,n.error.message))),s?new mp(e,n.state,i):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ig{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const n=JSON.parse(t);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,s=zy();for(let a=0;i&&a<n.activeTargetIds.length;++a)i=cS(n.activeTargetIds[a]),s=s.add(n.activeTargetIds[a]);return i?new Ig(e,s):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class i_{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new i_(t.clientId,t.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $x{constructor(){this.activeTargetIds=zy()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M2{constructor(e,t,n,i,s){this.window=e,this.ui=t,this.persistenceKey=n,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new qn(_r),this.started=!1,this.bs=[];const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=JE(this.persistenceKey,this.ps),this.vs=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new $x),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.Os=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const i=this.getItem(JE(this.persistenceKey,n));if(i){const s=Ig.Rs(n,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const t=this.storage.getItem(this.xs);if(t){const n=this.Ls(t);n&&this.Bs(n)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,n){this.qs(e,t,n),this.Qs(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(O2(this.persistenceKey,e));if(i){const s=mp.Rs(e,i);s&&(n=s.state)}}return t&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(O2(this.persistenceKey,e))}updateQueryState(e,t,n){this.$s(e,t,n)}handleUserChange(e,t,n){t.forEach((i=>{this.Qs(i)})),this.currentUser=e,n.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pt("SharedClientState","READ",e,t),t}setItem(e,t){pt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const t=e;if(t.storageArea===this.storage){if(pt("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){const n=this.Gs(t.key);return this.zs(n,null)}{const n=this.js(t.key,t.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){const n=this.Hs(t.key,t.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){const n=this.Ys(t.key,t.newValue);if(n)return this.Zs(n)}}else if(t.key===this.xs){if(t.newValue!==null){const n=this.Ls(t.newValue);if(n)return this.Bs(n)}}else if(t.key===this.vs){const n=(function(s){let a=Qa.oe;if(s!=null)try{const o=JSON.parse(s);Xt(typeof o=="number"),a=o}catch(o){ji("SharedClientState","Failed to read sequence number from WebStorage",o)}return a})(t.newValue);n!==Qa.oe&&this.sequenceNumberHandler(n)}else if(t.key===this.Os){const n=this.Xs(t.newValue);await Promise.all(n.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,n){const i=new kg(this.currentUser,e,t,n),s=ZE(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const t=ZE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){const t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,n){const i=O2(this.persistenceKey,e),s=new mp(e,t,n);this.setItem(i,s.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const n=this.Gs(e);return Ig.Rs(n,t)}Hs(e,t){const n=this.Fs.exec(e),i=Number(n[1]),s=n[2]!==void 0?n[2]:null;return kg.Rs(new ks(s),i,t)}Ys(e,t){const n=this.Ms.exec(e),i=Number(n[1]);return mp.Rs(i,t)}Ls(e){return i_.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const n=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(n),a=[],o=[];return s.forEach((c=>{i.has(c)||a.push(c)})),i.forEach((c=>{s.has(c)||o.push(c)})),this.syncEngine.io(a,o).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=zy();return e.forEach(((n,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class Ik{constructor(){this.so=new $x,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $x,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=null;function B2(){return bm===null?bm=(function(){return 268435456+Math.round(2147483648*Math.random())})():bm++,"0x"+bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="WebChannelConnection";class RF extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,n,i,s,a){const o=B2(),c=this.xo(t,n.toUriEncodedString());pt("RestConnection",`Sending RPC '${t}' ${o}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(t,c,f,i).then((h=>(pt("RestConnection",`Received RPC '${t}' ${o}: `,h),h)),(h=>{throw Eo("RestConnection",`RPC '${t}' ${o} failed with error: `,h,"url: ",c,"request:",i),h}))}Lo(t,n,i,s,a,o){return this.Mo(t,n,i,s,a)}Oo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+r0})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>t[a]=s)),i&&i.headers.forEach(((s,a)=>t[a]=s))}xo(t,n){const i=NF[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const s=B2();return new Promise(((a,o)=>{const c=new XA;c.setWithCredentials(!0),c.listenOnce(YA.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case Xm.NO_ERROR:const h=c.getResponseJson();pt(ha,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Xm.TIMEOUT:pt(ha,`RPC '${e}' ${s} timed out`),o(new dt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case Xm.HTTP_ERROR:const p=c.getStatus();if(pt(ha,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let x=c.getResponseJson();Array.isArray(x)&&(x=x[0]);const m=x?.error;if(m&&m.status&&m.message){const E=(function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(P)>=0?P:Ze.UNKNOWN})(m.status);o(new dt(E,m.message))}else o(new dt(Ze.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new dt(Ze.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{pt(ha,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);pt(ha,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",f,n,15)}))}Bo(e,t,n){const i=B2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZA(),o=JA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const h=s.join("");pt(ha,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);let x=!1,m=!1;const E=new PF({Io:T=>{m?pt(ha,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(x||(pt(ha,`Opening RPC '${e}' stream ${i} transport.`),p.open(),x=!0),pt(ha,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},To:()=>p.close()}),w=(T,P,j)=>{T.listen(P,(D=>{try{j(D)}catch(q){setTimeout((()=>{throw q}),0)}}))};return w(p,np.EventType.OPEN,(()=>{m||(pt(ha,`RPC '${e}' stream ${i} transport opened.`),E.yo())})),w(p,np.EventType.CLOSE,(()=>{m||(m=!0,pt(ha,`RPC '${e}' stream ${i} transport closed`),E.So())})),w(p,np.EventType.ERROR,(T=>{m||(m=!0,Eo(ha,`RPC '${e}' stream ${i} transport errored:`,T),E.So(new dt(Ze.UNAVAILABLE,"The operation could not be completed")))})),w(p,np.EventType.MESSAGE,(T=>{var P;if(!m){const j=T.data[0];Xt(!!j);const D=j,q=D.error||((P=D[0])===null||P===void 0?void 0:P.error);if(q){pt(ha,`RPC '${e}' stream ${i} received error:`,q);const se=q.status;let Q=(function(b){const M=Xi[b];if(M!==void 0)return GS(M)})(se),F=q.message;Q===void 0&&(Q=Ze.INTERNAL,F="Unknown error status: "+se+" with message "+q.message),m=!0,E.So(new dt(Q,F)),p.close()}else pt(ha,`RPC '${e}' stream ${i} received:`,j),E.bo(j)}})),w(o,QA.STAT_EVENT,(T=>{T.stat===Px.PROXY?pt(ha,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Px.NOPROXY&&pt(ha,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.wo()}),0),E}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){return typeof window<"u"?window:null}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){return new jL(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,n,i,s,a,o,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new s_(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Ze.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===t&&this.P_(n,i)}),(n=>{e((()=>{const i=new dt(Ze.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LF extends Nk{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=qL(this.serializer,e),n=(function(s){if(!("targetChange"in s))return er.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?er.min():a.readTime?Ui(a.readTime):er.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=zx(this.serializer),t.addTarget=(function(s,a){let o;const c=a.target;if(o=xg(c)?{documents:rk(s,c)}:{query:lv(s,c)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=YS(s,a.resumeToken);const f=jx(s,a.expectedCount);f!==null&&(o.expectedCount=f)}else if(a.snapshotVersion.compareTo(er.min())>0){o.readTime=Ud(s,a.snapshotVersion.toTimestamp());const f=jx(s,a.expectedCount);f!==null&&(o.expectedCount=f)}return o})(this.serializer,e);const n=WL(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=zx(this.serializer),t.removeTarget=e,this.a_(t)}}class FF extends Nk{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=HL(e.writeResults,e.commitTime),n=Ui(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=zx(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>qp(this.serializer,n)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new dt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,Ux(t,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(Ze.UNKNOWN,s.toString())}))}Lo(e,t,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Lo(e,Ux(t,n),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new dt(Ze.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class OF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ji(t),this.D_=!1):pt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{n.enqueueAndForget((async()=>{hf(this)&&(pt("RemoteStore","Restarting streams for network reachability change."),await(async function(c){const f=It(c);f.L_.add(4),await a0(f),f.q_.set("Unknown"),f.L_.delete(4),await x1(f)})(this))}))})),this.q_=new OF(n,i)}}async function x1(r){if(hf(r))for(const e of r.B_)await e(!0)}async function a0(r){for(const e of r.B_)await e(!1)}function hv(r,e){const t=It(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),l_(t)?o_(t):l0(t).r_()&&a_(t,e))}function Hd(r,e){const t=It(r),n=l0(t);t.N_.delete(e),n.r_()&&Pk(t,e),t.N_.size===0&&(n.r_()?n.o_():hf(t)&&t.q_.set("Unknown"))}function a_(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(er.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}l0(r).A_(e)}function Pk(r,e){r.Q_.xe(e),l0(r).R_(e)}function o_(r){r.Q_=new OL({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),l0(r).start(),r.q_.v_()}function l_(r){return hf(r)&&!l0(r).n_()&&r.N_.size>0}function hf(r){return It(r).L_.size===0}function Rk(r){r.Q_=void 0}async function BF(r){r.q_.set("Online")}async function VF(r){r.N_.forEach(((e,t)=>{a_(r,e)}))}async function jF(r,e){Rk(r),l_(r)?(r.q_.M_(e),o_(r)):r.q_.set("Unknown")}async function UF(r,e,t){if(r.q_.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))})(r,e)}catch(n){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Cg(r,n)}else if(e instanceof tg?r.Q_.Ke(e):e instanceof KS?r.Q_.He(e):r.Q_.We(e),!t.isEqual(er.min()))try{const n=await Tk(r.localStore);t.compareTo(n)>=0&&await(function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.N_.get(f);h&&s.N_.set(f,h.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,f)=>{const h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(gi.EMPTY_BYTE_STRING,h.snapshotVersion)),Pk(s,c);const p=new kc(h.target,c,f,h.sequenceNumber);a_(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(r,t)}catch(n){pt("RemoteStore","Failed to raise snapshot:",n),await Cg(r,n)}}async function Cg(r,e,t){if(!uf(e))throw e;r.L_.add(1),await a0(r),r.q_.set("Offline"),t||(t=()=>Tk(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pt("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await x1(r)}))}function Lk(r,e){return e().catch((t=>Cg(r,t,e)))}async function o0(r){const e=It(r),t=Zu(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zF(e);)try{const i=await SF(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,qF(e,i)}catch(i){await Cg(e,i)}Fk(e)&&Dk(e)}function zF(r){return hf(r)&&r.O_.length<10}function qF(r,e){r.O_.push(e);const t=Zu(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Fk(r){return hf(r)&&!Zu(r).n_()&&r.O_.length>0}function Dk(r){Zu(r).start()}async function HF(r){Zu(r).p_()}async function WF(r){const e=Zu(r);for(const t of r.O_)e.m_(t.mutations)}async function GF(r,e,t){const n=r.O_.shift(),i=Gy.from(n,e,t);await Lk(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await o0(r)}async function $F(r,e){e&&Zu(r).V_&&await(async function(n,i){if((function(a){return WS(a)&&a!==Ze.ABORTED})(i.code)){const s=n.O_.shift();Zu(n).s_(),await Lk(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await o0(n)}})(r,e),Fk(r)&&Dk(r)}async function tT(r,e){const t=It(r);t.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const n=hf(t);t.L_.add(3),await a0(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await x1(t)}async function Kx(r,e){const t=It(r);e?(t.L_.delete(2),await x1(t)):e||(t.L_.add(2),await a0(t),t.q_.set("Unknown"))}function l0(r){return r.K_||(r.K_=(function(t,n,i){const s=It(t);return s.w_(),new LF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:BF.bind(null,r),Ro:VF.bind(null,r),mo:jF.bind(null,r),d_:UF.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),l_(r)?o_(r):r.q_.set("Unknown")):(await r.K_.stop(),Rk(r))}))),r.K_}function Zu(r){return r.U_||(r.U_=(function(t,n,i){const s=It(t);return s.w_(),new FF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HF.bind(null,r),mo:$F.bind(null,r),f_:WF.bind(null,r),g_:GF.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await o0(r)):(await r.U_.stop(),r.O_.length>0&&(pt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,o=new c_(e,t,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c0(r,e){if(ji("AsyncQueue",`${e}: ${r}`),uf(r))return new dt(Ze.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Nt.comparator(t.key,n.key):(t,n)=>Nt.comparator(t.key,n.key),this.keyedMap=ip(),this.sortedSet=new qn(this.comparator)}static emptySet(e){return new wd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new wd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.W_=new qn(Nt.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):jt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Wd{constructor(e,t,n,i,s,a,o,c,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach((o=>{a.push({type:0,doc:o})})),new Wd(e,t,wd.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class XF{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=It(t),s=i.queries;i.queries=nT(),s.forEach(((a,o)=>{for(const c of o.j_)c.onError(n)}))})(this,new dt(Ze.ABORTED,"Firestore shutting down"))}}function nT(){return new Hc((r=>NS(r)),h1)}async function u_(r,e){const t=It(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new KF,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const o=c0(a,`Initialization of query '${ud(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&h_(t)}async function f_(r,e){const t=It(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function YF(r,e){const t=It(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&h_(t)}function QF(r,e,t){const n=It(r),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(t);n.queries.delete(e)}function h_(r){r.Y_.forEach((e=>{e.next()}))}var Xx,iT;(iT=Xx||(Xx={})).ea="default",iT.Cache="cache";class d_{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Wd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xx.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.serializer=e}Es(e){return Ql(this.serializer,e)}ds(e){return e.metadata.exists?tk(this.serializer,e.document,!1):Gn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ui(e)}}class ZF{constructor(e,t,n){this.ca=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ok(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const n=qr.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,n=new sT(this.serializer);for(const i of e)if(i.metadata.queries){const s=n.Es(i.metadata.name);for(const a of i.metadata.queries){const o=(t.get(a)||Cr()).add(s);t.set(a,o)}}return t}async complete(){const e=await kF(this.localStore,new sT(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(const n of this.queries)await IF(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function Ok(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.key=e}}class Bk{constructor(e){this.key=e}}class Vk{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Cr(),this.mutatedKeys=Cr(),this.Aa=RS(e),this.Ra=new wd(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new rT,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const x=i.get(h),m=d1(this.query,p)?p:null,E=!!x&&this.mutatedKeys.has(x.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;x&&m?x.data.isEqual(m.data)?E!==w&&(n.track({type:3,doc:m}),T=!0):this.ga(x,m)||(n.track({type:2,doc:m}),T=!0,(c&&this.Aa(m,c)>0||f&&this.Aa(m,f)<0)&&(o=!0)):!x&&m?(n.track({type:0,doc:m}),T=!0):x&&!m&&(n.track({type:1,doc:x}),T=!0,(c||f)&&(o=!0)),T&&(m?(a=a.add(m),s=w?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),n.track({type:1,doc:h})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((h,p)=>(function(m,E){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return w(m)-w(E)})(h.type,p.type)||this.Aa(h.doc,p.doc))),this.pa(n),i=i!=null&&i;const o=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new Wd(this.query,e.Ra,s,a,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Cr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new Bk(n))})),this.da.forEach((n=>{e.has(n)||t.push(new Mk(n))})),t}ba(e){this.Ta=e.Ts,this.da=Cr();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Wd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eD{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tD{constructor(e){this.key=e,this.va=!1}}class rD{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Hc((o=>NS(o)),h1),this.Ma=new Map,this.xa=new Set,this.Oa=new qn(Nt.comparator),this.Na=new Map,this.La=new Zy,this.Ba={},this.ka=new Map,this.qa=ch.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nD(r,e,t=!0){const n=dv(r);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await jk(n,e,t,!0),i}async function iD(r,e){const t=dv(r);await jk(t,e,!0,!1)}async function jk(r,e,t,n){const i=await zd(r.localStore,Ta(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let o;return n&&(o=await p_(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&hv(r.remoteStore,i),o}async function p_(r,e,t,n,i){r.Ka=(p,x,m)=>(async function(w,T,P,j){let D=T.view.ma(P);D.ns&&(D=await Sg(w.localStore,T.query,!1).then((({documents:F})=>T.view.ma(F,D))));const q=j&&j.targetChanges.get(T.targetId),se=j&&j.targetMismatches.get(T.targetId)!=null,Q=T.view.applyChanges(D,w.isPrimaryClient,q,se);return Yx(w,T.targetId,Q.wa),Q.snapshot})(r,p,x,m);const s=await Sg(r.localStore,e,!0),a=new Vk(e,s.Ts),o=a.ma(s.documents),c=g1.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),f=a.applyChanges(o,r.isPrimaryClient,c);Yx(r,t,f.wa);const h=new eD(e,t,a);return r.Fa.set(e,h),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),f.snapshot}async function sD(r,e,t){const n=It(r),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((a=>!h1(a,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await qd(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Hd(n.remoteStore,i.targetId),Gd(n,i.targetId)})).catch(cf)):(Gd(n,i.targetId),await qd(n.localStore,i.targetId,!0))}async function aD(r,e){const t=It(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Hd(t.remoteStore,n.targetId))}async function oD(r,e,t){const n=x_(r);try{const i=await(function(a,o){const c=It(a),f=si.now(),h=o.reduce(((m,E)=>m.add(E.key)),Cr());let p,x;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let E=Za(),w=Cr();return c.cs.getEntries(m,h).next((T=>{E=T,E.forEach(((P,j)=>{j.isValidDocument()||(w=w.add(P))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,E))).next((T=>{p=T;const P=[];for(const j of o){const D=LL(j,p.get(j.key).overlayedDocument);D!=null&&P.push(new Wc(j.key,D,yS(D.value.mapValue),ii.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,P,o)})).next((T=>{x=T;const P=T.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(m,T.batchId,P)}))})).then((()=>({batchId:x.batchId,changes:FS(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,o,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new qn(_r)),f=f.insert(o,c),a.Ba[a.currentUser.toKey()]=f})(n,i.batchId,t),await Gc(n,i.changes),await o0(n.remoteStore)}catch(i){const s=c0(i,"Failed to persist write");t.reject(s)}}async function Uk(r,e){const t=It(r);try{const n=await AF(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Na.get(s);a&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Xt(a.va):i.removedDocuments.size>0&&(Xt(a.va),a.va=!1))})),await Gc(t,n,e)}catch(n){await cf(n)}}function aT(r,e,t){const n=It(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach(((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const c=It(a);c.onlineState=o;let f=!1;c.queries.forEach(((h,p)=>{for(const x of p.j_)x.Z_(o)&&(f=!0)})),f&&h_(c)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lD(r,e,t){const n=It(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new qn(Nt.comparator);a=a.insert(s,Gn.newNoDocument(s,er.min()));const o=Cr().add(s),c=new m1(er.min(),new Map,new qn(_r),a,o);await Uk(n,c),n.Oa=n.Oa.remove(s),n.Na.delete(e),v_(n)}else await qd(n.localStore,e,!1).then((()=>Gd(n,e,t))).catch(cf)}async function cD(r,e){const t=It(r),n=e.batch.batchId;try{const i=await bF(t.localStore,e);g_(t,n,null),m_(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Gc(t,i)}catch(i){await cf(i)}}async function uD(r,e,t){const n=It(r);try{const i=await(function(a,o){const c=It(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,o).next((p=>(Xt(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(n.localStore,e);g_(n,e,t),m_(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Gc(n,i)}catch(i){await cf(i)}}async function fD(r,e){const t=It(r);hf(t.remoteStore)||pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await(function(a){const o=It(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>o.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(t.localStore);if(n===-1)return void e.resolve();const i=t.ka.get(n)||[];i.push(e),t.ka.set(n,i)}catch(n){const i=c0(n,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function m_(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function g_(r,e,t){const n=It(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Gd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||zk(r,n)}))}function zk(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Hd(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),v_(r))}function Yx(r,e,t){for(const n of t)n instanceof Mk?(r.La.addReference(n.key,e),hD(r,n)):n instanceof Bk?(pt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||zk(r,n.key)):jt()}function hD(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(pt("SyncEngine","New document in limbo: "+t),r.xa.add(n),v_(r))}function v_(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Nt(qr.fromString(e)),n=r.qa.next();r.Na.set(n,new tD(t)),r.Oa=r.Oa.insert(t,n),hv(r.remoteStore,new kc(Ta(n0(t.path)),n,"TargetPurposeLimboResolution",Qa.oe))}}async function Gc(r,e,t){const n=It(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach(((o,c)=>{a.push(n.Ka(c,e,t).then((f=>{var h;if((f||t)&&n.isPrimaryClient){const p=f?!f.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=n_.Wi(c.targetId,f);s.push(p)}})))})),await Promise.all(a),n.Ca.d_(i),await(async function(c,f){const h=It(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ue.forEach(f,(x=>Ue.forEach(x.$i,(m=>h.persistence.referenceDelegate.addReference(p,x.targetId,m))).next((()=>Ue.forEach(x.Ui,(m=>h.persistence.referenceDelegate.removeReference(p,x.targetId,m)))))))))}catch(p){if(!uf(p))throw p;pt("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const x=p.targetId;if(!p.fromCache){const m=h.os.get(x),E=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(x,w)}}})(n.localStore,s))}async function dD(r,e){const t=It(r);if(!t.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const n=await Ek(t.localStore,e);t.currentUser=e,(function(s,a){s.ka.forEach((o=>{o.forEach((c=>{c.reject(new dt(Ze.CANCELLED,a))}))})),s.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Gc(t,n.hs)}}function pD(r,e){const t=It(r),n=t.Na.get(e);if(n&&n.va)return Cr().add(n.key);{let i=Cr();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const o=t.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}async function mD(r,e){const t=It(r),n=await Sg(t.localStore,e.query,!0),i=e.view.ba(n);return t.isPrimaryClient&&Yx(t,e.targetId,i.wa),i}async function gD(r,e){const t=It(r);return Sk(t.localStore,e).then((n=>Gc(t,n)))}async function vD(r,e,t,n){const i=It(r),s=await(function(o,c){const f=It(o),h=It(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>h.Mn(p,c).next((x=>x?f.localDocuments.getDocuments(p,x):Ue.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await o0(i.remoteStore):t==="acknowledged"||t==="rejected"?(g_(i,e,n||null),m_(i,e),(function(o,c){It(It(o).mutationQueue).On(c)})(i.localStore,e)):jt(),await Gc(i,s)):pt("SyncEngine","Cannot apply mutation batch with id: "+e)}async function xD(r,e){const t=It(r);if(dv(t),x_(t),e===!0&&t.Qa!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),i=await oT(t,n.toArray());t.Qa=!0,await Kx(t.remoteStore,!0);for(const s of i)hv(t.remoteStore,s)}else if(e===!1&&t.Qa!==!1){const n=[];let i=Promise.resolve();t.Ma.forEach(((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?n.push(a):i=i.then((()=>(Gd(t,a),qd(t.localStore,a,!0)))),Hd(t.remoteStore,a)})),await i,await oT(t,n),(function(a){const o=It(a);o.Na.forEach(((c,f)=>{Hd(o.remoteStore,f)})),o.La.pr(),o.Na=new Map,o.Oa=new qn(Nt.comparator)})(t),t.Qa=!1,await Kx(t.remoteStore,!1)}}async function oT(r,e,t){const n=It(r),i=[],s=[];for(const a of e){let o;const c=n.Ma.get(a);if(c&&c.length!==0){o=await zd(n.localStore,Ta(c[0]));for(const f of c){const h=n.Fa.get(f),p=await mD(n,h);p.snapshot&&s.push(p.snapshot)}}else{const f=await Ak(n.localStore,a);o=await zd(n.localStore,f),await p_(n,qk(f),a,!1,o.resumeToken)}i.push(o)}return n.Ca.d_(s),i}function qk(r){return kS(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function yD(r){return(function(t){return It(It(t).persistence).Qi()})(It(r).localStore)}async function _D(r,e,t,n){const i=It(r);if(i.Qa)return void pt("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=await Sk(i.localStore,PS(s[0])),o=m1.createSynthesizedRemoteEventForCurrentChange(e,t==="current",gi.EMPTY_BYTE_STRING);await Gc(i,a,o);break}case"rejected":await qd(i.localStore,e,!0),Gd(i,e,n);break;default:jt()}}async function wD(r,e,t){const n=dv(r);if(n.Qa){for(const i of e){if(n.Ma.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){pt("SyncEngine","Adding an already active target "+i);continue}const s=await Ak(n.localStore,i),a=await zd(n.localStore,s);await p_(n,qk(s),a.targetId,!1,a.resumeToken),hv(n.remoteStore,a)}for(const i of t)n.Ma.has(i)&&await qd(n.localStore,i,!1).then((()=>{Hd(n.remoteStore,i),Gd(n,i)})).catch(cf)}}function dv(r){const e=It(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lD.bind(null,e),e.Ca.d_=YF.bind(null,e.eventManager),e.Ca.$a=QF.bind(null,e.eventManager),e}function x_(r){const e=It(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,e),e}function ED(r,e,t){const n=It(r);(async function(s,a,o){try{const c=await a.getMetadata();if(await(function(m,E){const w=It(m),T=Ui(E.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",(P=>w.Gr.getBundleMetadata(P,E.id))).then((P=>!!P&&P.createTime.compareTo(T)>=0))})(s.localStore,c))return await a.close(),o._completeWith((function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}})(c)),Promise.resolve(new Set);o._updateProgress(Ok(c));const f=new ZF(c,s.localStore,a.serializer);let h=await a.Ua();for(;h;){const x=await f.la(h);x&&o._updateProgress(x),h=await a.Ua()}const p=await f.complete();return await Gc(s,p.Ia,void 0),await(function(m,E){const w=It(m);return w.persistence.runTransaction("Save bundle","readwrite",(T=>w.Gr.saveBundleMetadata(T,E)))})(s.localStore,c),o._completeWith(p.progress),Promise.resolve(p.Pa)}catch(c){return Eo("SyncEngine",`Loading bundle failed with ${c}`),o._failWith(c),Promise.resolve(new Set)}})(n,e,t).then((i=>{n.sharedClientState.notifyBundleLoaded(i)}))}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=v1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return wk(this.persistence,new _k,e.initialUser,this.serializer)}Ga(e){return new e_(fv.Zr,this.serializer)}Wa(e){return new Ik}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class TD extends ef{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){Xt(this.persistence.referenceDelegate instanceof Ag);const n=this.persistence.referenceDelegate.garbageCollector;return new mk(n,e.asyncQueue,t)}Ga(e){const t=this.cacheSizeBytes!==void 0?xa.withCacheSize(this.cacheSizeBytes):xa.DEFAULT;return new e_((n=>Ag.Zr(n,t)),this.serializer)}}class y_ extends ef{constructor(e,t,n){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await x_(this.Ja.syncEngine),await o0(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return wk(this.persistence,new _k,e.initialUser,this.serializer)}ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new mk(n,e.asyncQueue,t)}Ha(e,t){const n=new H8(t,this.persistence);return new q8(e.asyncQueue,n)}Ga(e){const t=r_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?xa.withCacheSize(this.cacheSizeBytes):xa.DEFAULT;return new t_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ck(),rg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new Ik}}class Hk extends y_{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ja.syncEngine;this.sharedClientState instanceof M2&&(this.sharedClientState.syncEngine={no:vD.bind(null,t),ro:_D.bind(null,t),io:wD.bind(null,t),Qi:yD.bind(null,t),eo:gD.bind(null,t)},await this.sharedClientState.start()),await this.persistence.yi((async n=>{await xD(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Wa(e){const t=Ck();if(!M2.D(t))throw new dt(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=r_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new M2(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class tf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>aT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),await Kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XF})()}createDatastore(e){const t=v1(e.databaseInfo.databaseId),n=(function(s){return new RF(s)})(e.databaseInfo);return(function(s,a,o,c){return new DF(s,a,o,c)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,s,a,o){return new MF(n,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(t=>aT(this.syncEngine,t,0)),(function(){return eT.D()?new eT:new CF})())}createSyncEngine(e,t){return(function(i,s,a,o,c,f,h){const p=new rD(i,s,a,o,c,f);return h&&(p.Qa=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=It(i);pt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await a0(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tf.provider={build:()=>new tf};function lT(r,e=10240){let t=0;return{async read(){if(t<r.byteLength){const n={value:r.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Cs,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.aa)}`))}),(n=>this.metadata.reject(n)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const t=this.eu.decode(e),n=Number(t);isNaN(n)&&this.ru(`length string (${t}) is not valid number`);const i=await this.iu(n);return new JF(JSON.parse(i),e.length+n)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new dt(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,s){const a=It(i),o={documents:s.map((p=>zp(a.serializer,p)))},c=await a.Lo("BatchGetDocuments",a.serializer.databaseId,qr.emptyPath(),o,s.length),f=new Map;c.forEach((p=>{const x=zL(a.serializer,p);f.set(x.key.toString(),x)}));const h=[];return s.forEach((p=>{const x=f.get(p.toString());Xt(!!x),h.push(x)})),h})(this.datastore,e);return t.forEach((n=>this.recordVersion(n))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new s0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,n)=>{const i=Nt.fromPath(n);this.mutations.push(new Hy(i,this.precondition(i)))})),await(async function(n,i){const s=It(n),a={writes:i.map((o=>qp(s.serializer,o)))};await s.Mo("Commit",s.serializer.databaseId,qr.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jt();t=er.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dt(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(er.min())?ii.exists(!1):ii.updateTime(t):ii.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(er.min()))throw new dt(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ii.updateTime(t)}return ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,n,i,s){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=s,this._u=n.maxAttempts,this.t_=new s_(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new AD(this.datastore),t=this.cu(e);t&&t.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.lu(i)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{const t=this.updateFunction(e);return!u1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!WS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ks.UNAUTHENTICATED,this.clientId=Oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{pt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(pt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=c0(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function V2(r,e){r.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await Ek(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function cT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await __(r);pt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>tT(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>tT(e.remoteStore,i))),r._onlineComponents=e}async function __(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{await V2(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ze.FAILED_PRECONDITION||i.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Eo("Error using user provided cache. Falling back to memory cache: "+t),await V2(r,new ef)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),await V2(r,new ef);return r._offlineComponents}async function mv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),await cT(r,r._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),await cT(r,new tf))),r._onlineComponents}function Wk(r){return __(r).then((e=>e.persistence))}function u0(r){return __(r).then((e=>e.localStore))}function Gk(r){return mv(r).then((e=>e.remoteStore))}function w_(r){return mv(r).then((e=>e.syncEngine))}function $k(r){return mv(r).then((e=>e.datastore))}async function $d(r){const e=await mv(r),t=e.eventManager;return t.onListen=nD.bind(null,e.syncEngine),t.onUnlisten=sD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aD.bind(null,e.syncEngine),t}function ID(r){return r.asyncQueue.enqueue((async()=>{const e=await Wk(r),t=await Gk(r);return e.setNetworkEnabled(!0),(function(i){const s=It(i);return s.L_.delete(0),x1(s)})(t)}))}function CD(r){return r.asyncQueue.enqueue((async()=>{const e=await Wk(r),t=await Gk(r);return e.setNetworkEnabled(!1),(async function(i){const s=It(i);s.L_.add(0),await a0(s),s.q_.set("Offline")})(t)}))}function ND(r,e){const t=new Cs;return r.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(f,h){const p=It(f);return p.persistence.runTransaction("read document","readonly",(x=>p.localDocuments.getDocument(x,h)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new dt(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const c=c0(o,`Failed to get document '${s} from cache`);a.reject(c)}})(await u0(r),e,t))),t.promise}function Kk(r,e,t={}){const n=new Cs;return r.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,f){const h=new pv({next:x=>{h.Za(),a.enqueueAndForget((()=>f_(s,p)));const m=x.docs.has(o);!m&&x.fromCache?f.reject(new dt(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&x.fromCache&&c&&c.source==="server"?f.reject(new dt(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),p=new d_(n0(o.path),h,{includeMetadataChanges:!0,_a:!0});return u_(s,p)})(await $d(r),r.asyncQueue,e,t,n))),n.promise}function PD(r,e){const t=new Cs;return r.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await Sg(i,s,!0),c=new Vk(s,o.Ts),f=c.ma(o.documents),h=c.applyChanges(f,!1);a.resolve(h.snapshot)}catch(o){const c=c0(o,`Failed to execute query '${s} against cache`);a.reject(c)}})(await u0(r),e,t))),t.promise}function Xk(r,e,t={}){const n=new Cs;return r.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,f){const h=new pv({next:x=>{h.Za(),a.enqueueAndForget((()=>f_(s,p))),x.fromCache&&c.source==="server"?f.reject(new dt(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),p=new d_(o,h,{includeMetadataChanges:!0,_a:!0});return u_(s,p)})(await $d(r),r.asyncQueue,e,t,n))),n.promise}function RD(r,e,t){const n=new Cs;return r.asyncQueue.enqueueAndForget((async()=>{try{const i=await $k(r);n.resolve((async function(a,o,c){var f;const h=It(a),{request:p,ut:x,parent:m}=nk(h.serializer,IS(o),c);h.connection.Fo||delete p.parent;const E=(await h.Lo("RunAggregationQuery",h.serializer.databaseId,m,p,1)).filter((T=>!!T.result));Xt(E.length===1);const w=(f=E[0].result)===null||f===void 0?void 0:f.aggregateFields;return Object.keys(w).reduce(((T,P)=>(T[x[P]]=w[P],T)),{})})(i,e,t))}catch(i){n.reject(i)}})),n.promise}function LD(r,e){const t=new pv(e);return r.asyncQueue.enqueueAndForget((async()=>(function(i,s){It(i).Y_.add(s),s.next()})(await $d(r),t))),()=>{t.Za(),r.asyncQueue.enqueueAndForget((async()=>(function(i,s){It(i).Y_.delete(s)})(await $d(r),t)))}}function FD(r,e,t,n){const i=(function(a,o){let c;return c=typeof a=="string"?$S().encode(a):a,(function(h,p){return new bD(h,p)})((function(h,p){if(h instanceof Uint8Array)return lT(h,p);if(h instanceof ArrayBuffer)return lT(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),o)})(t,v1(e));r.asyncQueue.enqueueAndForget((async()=>{ED(await w_(r),i,n)}))}function DD(r,e){return r.asyncQueue.enqueue((async()=>(function(n,i){const s=It(n);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Gr.getNamedQuery(a,i)))})(await u0(r),e)))}function OD(r,e){return r.asyncQueue.enqueue((async()=>(async function(n,i){const s=It(n),a=s.indexManager,o=[];return s.persistence.runTransaction("Configure indexes","readwrite",(c=>a.getFieldIndexes(c).next((f=>(function(p,x,m,E,w){p=[...p],x=[...x],p.sort(m),x.sort(m);const T=p.length,P=x.length;let j=0,D=0;for(;j<P&&D<T;){const q=m(p[D],x[j]);q<0?w(p[D++]):q>0?E(x[j++]):(j++,D++)}for(;j<P;)E(x[j++]);for(;D<T;)w(p[D++])})(f,i,V8,(h=>{o.push(a.addFieldIndex(c,h))}),(h=>{o.push(a.deleteFieldIndex(c,h))})))).next((()=>Ue.waitFor(o)))))})(await u0(r),e)))}function MD(r,e){return r.asyncQueue.enqueue((async()=>(function(n,i){It(n).ss.zi=i})(await u0(r),e)))}function BD(r){return r.asyncQueue.enqueue((async()=>(function(t){const n=It(t),i=n.indexManager;return n.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await u0(r))))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(r,e,t){if(!t)throw new dt(Ze.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Qk(r,e,t,n){if(e===!0&&n===!0)throw new dt(Ze.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function fT(r){if(!Nt.isDocumentKey(r))throw new dt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hT(r){if(Nt.isDocumentKey(r))throw new dt(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":jt()}function Br(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new dt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gv(r);throw new dt(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Jk(r,e){if(e<=0)throw new dt(Ze.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new dt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yk((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y1{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new tS;switch(n.type){case"firstParty":return new F8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new dt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=uT.get(t);n&&(pt("ComponentProvider","Removing Datastore"),uT.delete(t),n.terminate())})(this),Promise.resolve()}}function Zk(r,e,t,n={}){var i;const s=(r=Br(r,y1))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,c;if(typeof n.mockUserToken=="string")o=n.mockUserToken,c=ks.MOCK_USER;else{o=jA(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new dt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ks(f)}r._authCredentials=new P8(new eS(o,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Si{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class xl extends Ps{constructor(e,t,n){super(e,t,n0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new Nt(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function mi(r,e,...t){if(r=ln(r),E_("collection","path",e),r instanceof y1){const n=qr.fromString(e,...t);return hT(n),new xl(r,null,n)}{if(!(r instanceof Si||r instanceof xl))throw new dt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(qr.fromString(e,...t));return hT(n),new xl(r.firestore,null,n)}}function VD(r,e){if(r=Br(r,y1),E_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(Ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ps(r,null,(function(n){return new qc(qr.emptyPath(),n)})(e))}function an(r,e,...t){if(r=ln(r),arguments.length===1&&(e=Oy.newId()),E_("doc","path",e),r instanceof y1){const n=qr.fromString(e,...t);return fT(n),new Si(r,null,new Nt(n))}{if(!(r instanceof Si||r instanceof xl))throw new dt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(qr.fromString(e,...t));return fT(n),new Si(r.firestore,r instanceof xl?r.converter:null,new Nt(n))}}function jD(r,e){return r=ln(r),e=ln(e),(r instanceof Si||r instanceof xl)&&(e instanceof Si||e instanceof xl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function T_(r,e){return r=ln(r),e=ln(e),r instanceof Ps&&e instanceof Ps&&r.firestore===e.firestore&&h1(r._query,e._query)&&r.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new s_(this,"async_queue_retry"),this.Vu=()=>{const n=rg();n&&pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=rg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=rg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Cs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!uf(e))throw e;pt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o})(n);throw ji("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=c_.createAndSchedule(this,e,t,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&jt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Qx(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(r,["next","error","complete"])}class e3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=-1;class Pn extends y1{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new pT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pT(e),this._firestoreClient=void 0,await e}}}function zD(r,e,t){t||(t="(default)");const n=t0(r,"firestore");if(n.isInitialized(t)){const i=n.getImmediate({identifier:t}),s=n.getOptions(t);if(Gu(s,e))return i;throw new dt(Ze.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new dt(Ze.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new dt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:t})}function t3(r,e){const t=typeof r=="object"?r:Fy(),n=typeof r=="string"?r:e||"(default)",i=t0(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=MA("firestore");s&&Zk(i,...s)}return i}function ai(r){if(r._terminated)throw new dt(Ze.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||r3(r),r._firestoreClient}function r3(r){var e,t,n;const i=r._freezeSettings(),s=(function(o,c,f,h){return new hL(o,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Yk(h.experimentalLongPollingOptions),h.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new kD(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}function qD(r,e){Eo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return n3(r,tf.provider,{build:n=>new y_(n,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function HD(r){Eo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();n3(r,tf.provider,{build:t=>new Hk(t,e.cacheSizeBytes)})}function n3(r,e,t){if((r=Br(r,Pn))._firestoreClient||r._terminated)throw new dt(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new dt(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},r3(r)}function WD(r){if(r._initialized&&!r._terminated)throw new dt(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cs;return r._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(n){if(!Yl.D())return Promise.resolve();const i=n+"main";await Yl.delete(i)})(r_(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function GD(r){return(function(t){const n=new Cs;return t.asyncQueue.enqueueAndForget((async()=>fD(await w_(t),n))),n.promise})(ai(r=Br(r,Pn)))}function $D(r){return ID(ai(r=Br(r,Pn)))}function KD(r){return CD(ai(r=Br(r,Pn)))}function XD(r){return v8(r.app,"firestore",r._databaseId.database),r._delete()}function YD(r,e){const t=ai(r=Br(r,Pn)),n=new e3;return FD(t,r._databaseId,e,n),n}function QD(r,e){return DD(ai(r=Br(r,Pn)),e).then((t=>t?new Ps(r,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class i3{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rf(gi.fromBase64String(e))}catch(t){throw new dt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rf(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new dt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function JD(){return new df("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _r(this._lat,e._lat)||_r(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^__.*__$/;class eO{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new i0(e,this.data,t,this.fieldTransforms)}}class s3{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function a3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class xv{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ng(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(a3(this.Cu)&&ZD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tO{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||v1(e)}Qu(e,t,n,i=!1){return new xv({Cu:e,methodName:t,qu:n,path:$n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(r){const e=r._freezeSettings(),t=v1(r._databaseId);return new tO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function yv(r,e,t,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,e,t,i);N_("Data must be an object, but it was:",a,n);const o=c3(n,a);let c,f;if(s.merge)c=new Ja(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const x=Hp(e,p,t);if(!a.contains(x))throw new dt(Ze.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);f3(h,x)||h.push(x)}c=new Ja(h),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new eO(new Ws(o),c,f)}class w1 extends pf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof w1}}function o3(r,e,t){return new xv({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class b_ extends pf{_toFieldTransform(e){return new p1(e.path,new Vd)}isEqual(e){return e instanceof b_}}class A_ extends pf{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=o3(this,e,!0),n=this.Ku.map((s=>Eh(s,t))),i=new sh(n);return new p1(e.path,i)}isEqual(e){return e instanceof A_&&Gu(this.Ku,e.Ku)}}class S_ extends pf{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=o3(this,e,!0),n=this.Ku.map((s=>Eh(s,t))),i=new ah(n);return new p1(e.path,i)}isEqual(e){return e instanceof S_&&Gu(this.Ku,e.Ku)}}class k_ extends pf{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new jd(e.serializer,MS(e.serializer,this.$u));return new p1(e.path,t)}isEqual(e){return e instanceof k_&&this.$u===e.$u}}function I_(r,e,t,n){const i=r.Qu(1,e,t);N_("Data must be an object, but it was:",i,n);const s=[],a=Ws.empty();ff(n,((c,f)=>{const h=_v(e,c,t);f=ln(f);const p=i.Nu(h);if(f instanceof w1)s.push(h);else{const x=Eh(f,p);x!=null&&(s.push(h),a.set(h,x))}}));const o=new Ja(s);return new s3(a,o,i.fieldTransforms)}function C_(r,e,t,n,i,s){const a=r.Qu(1,e,t),o=[Hp(e,n,t)],c=[i];if(s.length%2!=0)throw new dt(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)o.push(Hp(e,s[x])),c.push(s[x+1]);const f=[],h=Ws.empty();for(let x=o.length-1;x>=0;--x)if(!f3(f,o[x])){const m=o[x];let E=c[x];E=ln(E);const w=a.Nu(m);if(E instanceof w1)f.push(m);else{const T=Eh(E,w);T!=null&&(f.push(m),h.set(m,T))}}const p=new Ja(f);return new s3(h,p,a.fieldTransforms)}function l3(r,e,t,n=!1){return Eh(t,r.Qu(n?4:3,e))}function Eh(r,e){if(u3(r=ln(r)))return N_("Unsupported field value:",e,r),c3(r,e);if(r instanceof pf)return(function(n,i){if(!a3(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const o of n){let c=Eh(o,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(r,e)}return(function(n,i){if((n=ln(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return MS(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=si.fromDate(n);return{timestampValue:Ud(i.serializer,s)}}if(n instanceof si){const s=new si(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ud(i.serializer,s)}}if(n instanceof vv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rf)return{bytesValue:YS(i.serializer,n._byteString)};if(n instanceof Si){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof _1)return(function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Bu("VectorValues must only contain numeric values.");return qy(o.serializer,c)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${gv(n)}`)})(r,e)}function c3(r,e){const t={};return mS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ff(r,((n,i)=>{const s=Eh(i,e.Mu(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function u3(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof si||r instanceof vv||r instanceof rf||r instanceof Si||r instanceof pf||r instanceof _1)}function N_(r,e,t){if(!u3(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const n=gv(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Hp(r,e,t){if((e=ln(e))instanceof df)return e._internalPath;if(typeof e=="string")return _v(r,e);throw Ng("Field path arguments must be of type string or ",r,!1,void 0,t)}const rO=new RegExp("[~\\*/\\[\\]]");function _v(r,e,t){if(e.search(rO)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new df(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ng(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new dt(Ze.INVALID_ARGUMENT,o+r+c)}function f3(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nO extends Wp{data(){return super.data()}}function wv(r,e){return typeof e=="string"?_v(r,e):e instanceof df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class f0 extends P_{}function _l(r,e,...t){let n=[];e instanceof P_&&n.push(e),n=n.concat(t),(function(s){const a=s.filter((c=>c instanceof Th)).length,o=s.filter((c=>c instanceof h0)).length;if(a>1||a>0&&o>0)throw new dt(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class h0 extends f0{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new h0(e,t,n)}_apply(e){const t=this._parse(e);return p3(e._query,t),new Ps(e.firestore,e.converter,Vx(e._query,t))}_parse(e){const t=wh(e.firestore);return(function(s,a,o,c,f,h,p){let x;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new dt(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gT(p,h);const m=[];for(const E of p)m.push(mT(c,s,E));x={arrayValue:{values:m}}}else x=mT(c,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gT(p,h),x=l3(o,a,p,h==="in"||h==="not-in");return Hr.create(f,h,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nf(r,e,t){const n=e,i=wv("where",r);return h0._create(i,n,t)}class Th extends P_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Th(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const c of o)p3(a,c),a=Vx(a,c)})(e._query,t),new Ps(e.firestore,e.converter,Vx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iO(...r){return r.forEach((e=>m3("or",e))),Th._create("or",r)}function sO(...r){return r.forEach((e=>m3("and",e))),Th._create("and",r)}class Ev extends f0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ev(e,t)}_apply(e){const t=(function(i,s,a){if(i.startAt!==null)throw new dt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new dt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Up(s,a)})(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new qc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Jx(r,e="asc"){const t=e,n=wv("orderBy",r);return Ev._create(n,t)}class E1 extends f0{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new E1(e,t,n)}_apply(e){return new Ps(e.firestore,e.converter,_g(e._query,this._limit,this._limitType))}}function Zx(r){return Jk("limit",r),E1._create("limit",r,"F")}function aO(r){return Jk("limitToLast",r),E1._create("limitToLast",r,"L")}class T1 extends f0{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new T1(e,t,n)}_apply(e){const t=d3(e,this.type,this._docOrFields,this._inclusive);return new Ps(e.firestore,e.converter,(function(i,s){return new qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,t))}}function oO(...r){return T1._create("startAt",r,!0)}function lO(...r){return T1._create("startAfter",r,!1)}class b1 extends f0{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new b1(e,t,n)}_apply(e){const t=d3(e,this.type,this._docOrFields,this._inclusive);return new Ps(e.firestore,e.converter,(function(i,s){return new qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,t))}}function cO(...r){return b1._create("endBefore",r,!1)}function uO(...r){return b1._create("endAt",r,!0)}function d3(r,e,t,n){if(t[0]=ln(t[0]),t[0]instanceof Wp)return(function(s,a,o,c,f){if(!c)throw new dt(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const h=[];for(const p of _d(s))if(p.field.isKeyField())h.push(nh(a,c.key));else{const x=c.data.field(p.field);if(nv(x))throw new dt(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const m=p.field.canonicalString();throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}h.push(x)}return new Ju(h,f)})(r._query,r.firestore._databaseId,e,t[0]._document,n);{const i=wh(r.firestore);return(function(a,o,c,f,h,p){const x=a.explicitOrderBy;if(h.length>x.length)throw new dt(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let E=0;E<h.length;E++){const w=h[E];if(x[E].field.isKeyField()){if(typeof w!="string")throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof w}`);if(!Uy(a)&&w.indexOf("/")!==-1)throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${w}' contains a slash.`);const T=a.path.child(qr.fromString(w));if(!Nt.isDocumentKey(T))throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const P=new Nt(T);m.push(nh(o,P))}else{const T=l3(c,f,w);m.push(T)}}return new Ju(m,p)})(r._query,r.firestore._databaseId,i,e,t,n)}}function mT(r,e,t){if(typeof(t=ln(t))=="string"){if(t==="")throw new dt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uy(e)&&t.indexOf("/")!==-1)throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(qr.fromString(t));if(!Nt.isDocumentKey(n))throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return nh(r,new Nt(n))}if(t instanceof Si)return nh(r,t._key);throw new dt(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gv(t)}.`)}function gT(r,e){if(!Array.isArray(r)||r.length===0)throw new dt(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p3(r,e){const t=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new dt(Ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(Ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function m3(r,e){if(!(e instanceof h0||e instanceof Th))throw new dt(Ze.INVALID_ARGUMENT,`Function ${r}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class R_{convertValue(e,t="none"){switch(Yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw jt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ff(e,((i,s)=>{n[i]=this.convertValue(s,t)})),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>ri(a.doubleValue)));return new _1(s)}convertGeoPoint(e){return new vv(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=iv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bp(e));default:return null}}convertTimestamp(e){const t=Mc(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qr.fromString(e);Xt(ok(n));const i=new Xu(n.get(1),n.get(3)),s=new Nt(n.popFirst(5));return i.isEqual(t)||ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class fO extends R_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r){return new Kd("sum",Hp("sum",r))}function dO(r){return new Kd("avg",Hp("average",r))}function g3(){return new Kd("count")}function pO(r,e){var t,n;return r instanceof Kd&&e instanceof Kd&&r.aggregateType===e.aggregateType&&((t=r._internalFieldPath)===null||t===void 0?void 0:t.canonicalString())===((n=e._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())}function mO(r,e){return T_(r.query,e.query)&&Gu(r.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends Wp{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class gp extends uh{data(e={}){return super.data(e)}}class fh{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new gp(this._firestore,this._userDataWriter,n.key,n,new Vu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const c=new gp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Vu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const c=new gp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Vu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return o.type!==0&&(f=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:gO(o.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function vO(r,e){return r instanceof uh&&e instanceof uh?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(r._document===null?e._document===null:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof fh&&e instanceof fh&&r._firestore===e._firestore&&T_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r){r=Br(r,Si);const e=Br(r.firestore,Pn);return Kk(ai(e),r._key).then((t=>L_(e,r,t)))}class mf extends R_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}function xO(r){r=Br(r,Si);const e=Br(r.firestore,Pn),t=ai(e),n=new mf(e);return ND(t,r._key).then((i=>new uh(e,n,r._key,i,new Vu(i!==null&&i.hasLocalMutations,!0),r.converter)))}function yO(r){r=Br(r,Si);const e=Br(r.firestore,Pn);return Kk(ai(e),r._key,{source:"server"}).then((t=>L_(e,r,t)))}function Xd(r){r=Br(r,Ps);const e=Br(r.firestore,Pn),t=ai(e),n=new mf(e);return h3(r._query),Xk(t,r._query).then((i=>new fh(e,n,r,i)))}function _O(r){r=Br(r,Ps);const e=Br(r.firestore,Pn),t=ai(e),n=new mf(e);return PD(t,r._query).then((i=>new fh(e,n,r,i)))}function wO(r){r=Br(r,Ps);const e=Br(r.firestore,Pn),t=ai(e),n=new mf(e);return Xk(t,r._query,{source:"server"}).then((i=>new fh(e,n,r,i)))}function vp(r,e,t){r=Br(r,Si);const n=Br(r.firestore,Pn),i=Tv(r.converter,e,t);return d0(n,[yv(wh(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,ii.none())])}function pl(r,e,t,...n){r=Br(r,Si);const i=Br(r.firestore,Pn),s=wh(i);let a;return a=typeof(e=ln(e))=="string"||e instanceof df?C_(s,"updateDoc",r._key,e,t,n):I_(s,"updateDoc",r._key,e),d0(i,[a.toMutation(r._key,ii.exists(!0))])}function Ho(r){return d0(Br(r.firestore,Pn),[new s0(r._key,ii.none())])}function bv(r,e){const t=Br(r.firestore,Pn),n=an(r),i=Tv(r.converter,e);return d0(t,[yv(wh(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ii.exists(!1))]).then((()=>n))}function Wo(r,...e){var t,n,i;r=ln(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Qx(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Qx(e[a])){const p=e[a];e[a]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[a+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(r instanceof Si)f=Br(r.firestore,Pn),h=n0(r._key.path),c={next:p=>{e[a]&&e[a](L_(f,r,p))},error:e[a+1],complete:e[a+2]};else{const p=Br(r,Ps);f=Br(p.firestore,Pn),h=p._query;const x=new mf(f);c={next:m=>{e[a]&&e[a](new fh(f,x,p,m))},error:e[a+1],complete:e[a+2]},h3(r._query)}return(function(x,m,E,w){const T=new pv(w),P=new d_(m,T,E);return x.asyncQueue.enqueueAndForget((async()=>u_(await $d(x),P))),()=>{T.Za(),x.asyncQueue.enqueueAndForget((async()=>f_(await $d(x),P)))}})(ai(f),h,o,c)}function EO(r,e){return LD(ai(r=Br(r,Pn)),Qx(e)?e:{next:e})}function d0(r,e){return(function(n,i){const s=new Cs;return n.asyncQueue.enqueueAndForget((async()=>oD(await w_(n),i,s))),s.promise})(ai(r),e)}function L_(r,e,t){const n=t.docs.get(e._key),i=new mf(r);return new uh(r,i,e._key,n,new Vu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(r){return v3(r,{count:g3()})}function v3(r,e){const t=Br(r.firestore,Pn),n=ai(t),i=pS(e,((s,a)=>new HS(a,s.aggregateType,s._internalFieldPath)));return RD(n,r._query,i).then((s=>(function(o,c,f){const h=new mf(o);return new i3(c,h,f)})(t,r,s)))}class bO{constructor(e){this.kind="memory",this._onlineComponentProvider=tf.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=ef.provider}toJSON(){return{kind:this.kind}}}class AO{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=x3(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class SO{constructor(){this.kind="memoryEager",this._offlineComponentProvider=ef.provider}toJSON(){return{kind:this.kind}}}class kO{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new TD(e)}}toJSON(){return{kind:this.kind}}}function IO(){return new SO}function CO(r){return new kO(r?.cacheSizeBytes)}function NO(r){return new bO(r)}function PO(r){return new AO(r)}class RO{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=tf.provider,this._offlineComponentProvider={build:t=>new y_(t,e?.cacheSizeBytes,this.forceOwnership)}}}class LO{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=tf.provider,this._offlineComponentProvider={build:t=>new Hk(t,e?.cacheSizeBytes)}}}function x3(r){return new RO(r?.forceOwnership)}function FO(){return new LO}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wh(e)}set(e,t,n){this._verifyNotCommitted();const i=Nu(e,this._firestore),s=Tv(i.converter,t,n),a=yv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,ii.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=Nu(e,this._firestore);let a;return a=typeof(t=ln(t))=="string"||t instanceof df?C_(this._dataReader,"WriteBatch.update",s._key,t,n,i):I_(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nu(e,this._firestore);return this._mutations=this._mutations.concat(new s0(t._key,ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nu(r,e){if((r=ln(r)).firestore!==e)throw new dt(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 extends class{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=wh(t)}get(t){const n=Nu(t,this._firestore),i=new fO(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return jt();const a=s[0];if(a.isFoundDocument())return new Wp(this._firestore,i,a.key,a,n.converter);if(a.isNoDocument())return new Wp(this._firestore,i,n._key,null,n.converter);throw jt()}))}set(t,n,i){const s=Nu(t,this._firestore),a=Tv(s.converter,n,i),o=yv(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,i);return this._transaction.set(s._key,o),this}update(t,n,i,...s){const a=Nu(t,this._firestore);let o;return o=typeof(n=ln(n))=="string"||n instanceof df?C_(this._dataReader,"Transaction.update",a._key,n,i,s):I_(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(t){const n=Nu(t,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nu(e,this._firestore),n=new mf(this._firestore);return super.get(e).then((i=>new uh(this._firestore,n,t._key,i._document,new Vu(!1,!1),t.converter)))}}function OO(r,e,t){r=Br(r,Pn);const n=Object.assign(Object.assign({},DO),t);return(function(s){if(s.maxAttempts<1)throw new dt(Ze.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(s,a,o){const c=new Cs;return s.asyncQueue.enqueueAndForget((async()=>{const f=await $k(s);new SD(s.asyncQueue,f,o,a,c).au()})),c.promise})(ai(r),(i=>e(new _3(r,i))),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return new w1("deleteField")}function Av(){return new b_("serverTimestamp")}function BO(...r){return new A_("arrayUnion",r)}function VO(...r){return new S_("arrayRemove",r)}function F_(r){return new k_("increment",r)}function jO(r){return new _1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(r){return ai(r=Br(r,Pn)),new y3(r,(e=>d0(r,e)))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(r,e){const t=ai(r=Br(r,Pn));if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return Eo("Cannot enable indexes when persistence is disabled"),Promise.resolve();const n=(function(s){const a=typeof s=="string"?(function(f){try{return JSON.parse(f)}catch(h){throw new dt(Ze.INVALID_ARGUMENT,"Failed to parse JSON: "+h?.message)}})(s):s,o=[];if(Array.isArray(a.indexes))for(const c of a.indexes){const f=vT(c,"collectionGroup"),h=[];if(Array.isArray(c.fields))for(const p of c.fields){const x=_v("setIndexConfiguration",vT(p,"fieldPath"));p.arrayConfig==="CONTAINS"?h.push(new Qf(x,2)):p.order==="ASCENDING"?h.push(new Qf(x,0)):p.order==="DESCENDING"&&h.push(new Qf(x,1))}o.push(new Dd(Dd.UNKNOWN_ID,f,h,Od.empty()))}return o})(e);return OD(t,n)}function vT(r,e){if(typeof r[e]!="string")throw new dt(Ze.INVALID_ARGUMENT,"Missing string value for: "+e);return r[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function zO(r){var e;r=Br(r,Pn);const t=xT.get(r);if(t)return t;if(((e=ai(r)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const n=new E3(r);return xT.set(r,n),n}function qO(r){T3(r,!0)}function HO(r){T3(r,!1)}function WO(r){BD(ai(r._firestore)).then((e=>pt("deleting all persistent cache indexes succeeded"))).catch((e=>Eo("deleting all persistent cache indexes failed",e)))}function T3(r,e){MD(ai(r._firestore),e).then((t=>pt(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((t=>Eo(`setting persistent cache index auto creation isEnabled=${e} failed`,t)))}const xT=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(r){var e;const t=(e=ai(Br(r.firestore,Pn))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return t===void 0?null:lv(t,Ta(r._query))._t}function $O(r,e){var t;const n=pS(e,((s,a)=>new HS(a,s.aggregateType,s._internalFieldPath))),i=(t=ai(Br(r.firestore,Pn))._onlineComponents)===null||t===void 0?void 0:t.datastore.serializer;return i===void 0?null:nk(i,IS(r._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return D_.instance.onExistenceFilterMismatch(e)}}class D_{constructor(){this.Uu=new Map}static get instance(){return Am||(Am=new D_,(function(t){if(wg)throw new Error("a TestingHooksSpi instance is already set");wg=t})(Am)),Am}et(e){this.Uu.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Uu;return n.set(t,e),()=>n.delete(t)}}let Am=null;(function(e,t=!0){(function(i){r0=i})(_h),rh(new $u("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Pn(new R8(n.getProvider("auth-internal")),new D8(n.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new dt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(f.options.projectId,h)})(a,i),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Xl(oE,"4.7.3",e),Xl(oE,"4.7.3","esm2017")})();const XO=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:R_,AggregateField:Kd,AggregateQuerySnapshot:i3,Bytes:rf,CACHE_SIZE_UNLIMITED:UD,CollectionReference:xl,DocumentReference:Si,DocumentSnapshot:uh,FieldPath:df,FieldValue:pf,Firestore:Pn,FirestoreError:dt,GeoPoint:vv,LoadBundleTask:e3,PersistentCacheIndexManager:E3,Query:Ps,QueryCompositeFilterConstraint:Th,QueryConstraint:f0,QueryDocumentSnapshot:gp,QueryEndAtConstraint:b1,QueryFieldFilterConstraint:h0,QueryLimitConstraint:E1,QueryOrderByConstraint:Ev,QuerySnapshot:fh,QueryStartAtConstraint:T1,SnapshotMetadata:Vu,Timestamp:si,Transaction:_3,VectorValue:_1,WriteBatch:y3,_AutoId:Oy,_ByteString:gi,_DatabaseId:Xu,_DocumentKey:Nt,_EmptyAppCheckTokenProvider:O8,_EmptyAuthCredentialsProvider:tS,_FieldPath:$n,_TestingHooks:KO,_cast:Br,_debugAssert:N8,_internalAggregationQueryToProtoRunAggregationQueryRequest:$O,_internalQueryToProtoQueryTarget:GO,_isBase64Available:uL,_logWarn:Eo,_validateIsNotUsedTogether:Qk,addDoc:bv,aggregateFieldEqual:pO,aggregateQuerySnapshotEqual:mO,and:sO,arrayRemove:VO,arrayUnion:BO,average:dO,clearIndexedDbPersistence:WD,collection:mi,collectionGroup:VD,connectFirestoreEmulator:Zk,count:g3,deleteAllPersistentCacheIndexes:WO,deleteDoc:Ho,deleteField:MO,disableNetwork:KD,disablePersistentCacheIndexAutoCreation:HO,doc:an,documentId:JD,enableIndexedDbPersistence:qD,enableMultiTabIndexedDbPersistence:HD,enableNetwork:$D,enablePersistentCacheIndexAutoCreation:qO,endAt:uO,endBefore:cO,ensureFirestoreConfigured:ai,executeWrite:d0,getAggregateFromServer:v3,getCountFromServer:TO,getDoc:Gp,getDocFromCache:xO,getDocFromServer:yO,getDocs:Xd,getDocsFromCache:_O,getDocsFromServer:wO,getFirestore:t3,getPersistentCacheIndexManager:zO,increment:F_,initializeFirestore:zD,limit:Zx,limitToLast:aO,loadBundle:YD,memoryEagerGarbageCollector:IO,memoryLocalCache:NO,memoryLruGarbageCollector:CO,namedQuery:QD,onSnapshot:Wo,onSnapshotsInSync:EO,or:iO,orderBy:Jx,persistentLocalCache:PO,persistentMultipleTabManager:FO,persistentSingleTabManager:x3,query:_l,queryEqual:T_,refEqual:jD,runTransaction:OO,serverTimestamp:Av,setDoc:vp,setIndexConfiguration:UO,setLogLevel:C8,snapshotEqual:vO,startAfter:lO,startAt:oO,sum:hO,terminate:XD,updateDoc:pl,vector:jO,waitForPendingWrites:GD,where:nf,writeBatch:w3},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b3=(...r)=>r.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Xe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},c)=>Xe.createElement("svg",{ref:c,...QO,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:b3("lucide",i),...o},[...a.map(([f,h])=>Xe.createElement(f,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=(r,e)=>{const t=Xe.forwardRef(({className:n,...i},s)=>Xe.createElement(JO,{ref:s,iconNode:e,className:b3(`lucide-${YO(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=$c("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=$c("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=$c("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=$c("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=$c("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=$c("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=$c("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=$c("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=$c("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var o7="firebase",l7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xl(o7,l7,"app");function O_(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function S3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c7=S3,k3=new l1("auth","Firebase",S3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=new Ry("@firebase/auth");function u7(r,...e){Pg.logLevel<=zr.WARN&&Pg.warn(`Auth (${_h}): ${r}`,...e)}function ng(r,...e){Pg.logLevel<=zr.ERROR&&Pg.error(`Auth (${_h}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(r,...e){throw M_(r,...e)}function Jl(r,...e){return M_(r,...e)}function I3(r,e,t){const n=Object.assign(Object.assign({},c7()),{[e]:t});return new l1("auth","Firebase",n).create(e,{appName:r.name})}function Lc(r){return I3(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M_(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return k3.create(r,...e)}function vr(r,e,...t){if(!r)throw M_(e,...t)}function Ic(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ng(e),new Error(e)}function Vc(r,e){r||Ic(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function f7(){return yT()==="http:"||yT()==="https:"}function yT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f7()||uR()||"connection"in navigator)?navigator.onLine:!0}function d7(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vc(t>e,"Short delay should be less than long delay!"),this.isMobile=oR()||fR()}get(){return h7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r,e){Vc(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new A1(3e4,6e4);function Kc(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function nc(r,e,t,n,i={}){return N3(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=c1(Object.assign({key:r.config.apiKey},a)).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const f=Object.assign({method:e,headers:c},s);return cR()||(f.referrerPolicy="no-referrer"),C3.fetch()(P3(r,r.config.apiHost,t,o),f)})}async function N3(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},p7),e);try{const i=new v7(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sm(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,f]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sm(r,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Sm(r,"email-already-in-use",a);if(c==="USER_DISABLED")throw Sm(r,"user-disabled",a);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw I3(r,h,f);wl(r,h)}}catch(i){if(i instanceof rc)throw i;wl(r,"network-request-failed",{message:String(i)})}}async function S1(r,e,t,n,i={}){const s=await nc(r,e,t,n,i);return"mfaPendingCredential"in s&&wl(r,"multi-factor-auth-required",{_serverResponse:s}),s}function P3(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?B_(r.config,i):`${r.config.apiScheme}://${i}`}function g7(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Jl(this.auth,"network-request-failed")),m7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sm(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Jl(r,e,n);return i.customData._tokenResponse=t,i}function _T(r){return r!==void 0&&r.enterprise!==void 0}class x7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return g7(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function y7(r,e){return nc(r,"GET","/v2/recaptchaConfig",Kc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(r,e){return nc(r,"POST","/v1/accounts:delete",e)}async function R3(r,e){return nc(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w7(r,e=!1){const t=ln(r),n=await t.getIdToken(e),i=V_(n);vr(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:xp(j2(i.auth_time)),issuedAtTime:xp(j2(i.iat)),expirationTime:xp(j2(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function j2(r){return Number(r)*1e3}function V_(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const i=DA(t);return i?JSON.parse(i):(ng("Failed to decode base64 JWT payload"),null)}catch(i){return ng("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wT(r){const e=V_(r);return vr(e,"internal-error"),vr(typeof e.exp<"u","internal-error"),vr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof rc&&E7(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function E7({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xp(this.lastLoginAt),this.creationTime=xp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Yd(r,R3(t,{idToken:n}));vr(i?.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?L3(s.providerUserInfo):[],o=A7(r.providerData,a),c=r.isAnonymous,f=!(r.email&&s.passwordHash)&&!o?.length,h=c?f:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ty(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(r,p)}async function b7(r){const e=ln(r);await Rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A7(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function L3(r){return r.map(e=>{var{providerId:t}=e,n=O_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(r,e){const t=await N3(r,{},async()=>{const n=c1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=P3(r,i,"/v1/token",`key=${s}`),o=await r._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",C3.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function k7(r,e){return nc(r,"POST","/v2/accounts:revokeToken",Kc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vr(e.idToken,"internal-error"),vr(typeof e.idToken<"u","internal-error"),vr(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vr(e.length!==0,"internal-error");const t=wT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(vr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await S7(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new Ed;return n&&(vr(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(vr(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(vr(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r,e){vr(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Cc{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=O_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ty(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Yd(this,this.stsTokenManager.getToken(this.auth,e));return vr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return w7(this,e)}reload(){return b7(this)}_assign(e){this!==e&&(vr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Rg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hl(this.auth.app))return Promise.reject(Lc(this.auth));const e=await this.getIdToken();return await Yd(this,_7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,o,c,f,h;const p=(n=t.displayName)!==null&&n!==void 0?n:void 0,x=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=t.photoURL)!==null&&a!==void 0?a:void 0,w=(o=t.tenantId)!==null&&o!==void 0?o:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,P=(f=t.createdAt)!==null&&f!==void 0?f:void 0,j=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:D,emailVerified:q,isAnonymous:se,providerData:Q,stsTokenManager:F}=t;vr(D&&F,e,"internal-error");const A=Ed.fromJSON(this.name,F);vr(typeof D=="string",e,"internal-error"),bu(p,e.name),bu(x,e.name),vr(typeof q=="boolean",e,"internal-error"),vr(typeof se=="boolean",e,"internal-error"),bu(m,e.name),bu(E,e.name),bu(w,e.name),bu(T,e.name),bu(P,e.name),bu(j,e.name);const b=new Cc({uid:D,auth:e,email:x,emailVerified:q,displayName:p,isAnonymous:se,photoURL:E,phoneNumber:m,tenantId:w,stsTokenManager:A,createdAt:P,lastLoginAt:j});return Q&&Array.isArray(Q)&&(b.providerData=Q.map(M=>Object.assign({},M))),T&&(b._redirectEventId=T),b}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ed;i.updateFromServerResponse(t);const s=new Cc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Rg(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];vr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?L3(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new Ed;o.updateFromIdToken(n);const c=new Cc({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ty(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;function Nc(r){Vc(r instanceof Function,"Expected a class definition");let e=ET.get(r);return e?(Vc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ET.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}F3.type="NONE";const TT=F3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e,t){return`firebase:${r}:${e}:${t}`}class Td{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=ig(this.userKey,i.apiKey,s),this.fullPersistenceKey=ig("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Td(Nc(TT),e,n);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Nc(TT);const a=ig(n,e.config.apiKey,e.name);let o=null;for(const f of t)try{const h=await f._get(a);if(h){const p=Cc._fromJSON(e,h);f!==s&&(o=p),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Td(s,e,n):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Td(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j3(e))return"Blackberry";if(U3(e))return"Webos";if(O3(e))return"Safari";if((e.includes("chrome/")||M3(e))&&!e.includes("edge/"))return"Chrome";if(V3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function D3(r=hs()){return/firefox\//i.test(r)}function O3(r=hs()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M3(r=hs()){return/crios\//i.test(r)}function B3(r=hs()){return/iemobile/i.test(r)}function V3(r=hs()){return/android/i.test(r)}function j3(r=hs()){return/blackberry/i.test(r)}function U3(r=hs()){return/webos/i.test(r)}function j_(r=hs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function I7(r=hs()){var e;return j_(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C7(){return hR()&&document.documentMode===10}function z3(r=hs()){return j_(r)||V3(r)||U3(r)||j3(r)||/windows phone/i.test(r)||B3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(r,e=[]){let t;switch(r){case"Browser":t=bT(hs());break;case"Worker":t=`${bT(hs())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_h}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(r,e={}){return nc(r,"GET","/v2/passwordPolicy",Kc(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=6;class L7{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:R7,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AT(this),this.idTokenSubscription=new AT(this),this.beforeStateQueue=new N7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nc(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Td.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await R3(this,{idToken:e}),n=await Cc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hl(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hl(this.app))return Promise.reject(Lc(this));const t=e?ln(e):null;return t&&vr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hl(this.app)?Promise.reject(Lc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hl(this.app)?Promise.reject(Lc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P7(this),t=new L7(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new l1("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await k7(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nc(e)||this._popupRedirectResolver;vr(t,this,"argument-error"),this.redirectPersistenceManager=await Td.create(this,[Nc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(vr(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,n,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&u7(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gf(r){return ln(r)}class AT{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(t=>this.observer=t)}get next(){return vr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D7(r){Sv=r}function H3(r){return Sv.loadJS(r)}function O7(){return Sv.recaptchaEnterpriseScript}function M7(){return Sv.gapiScript}function B7(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const V7="recaptcha-enterprise",j7="NO_RECAPTCHA";class U7{constructor(e){this.type=V7,this.auth=gf(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{y7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const f=new x7(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{o(c)})})}function i(s,a,o){const c=window.grecaptcha;_T(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(j7)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!t&&_T(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=O7();c.length!==0&&(c+=o),H3(c).then(()=>{i(o,s,a)}).catch(f=>{a(f)})}}).catch(o=>{a(o)})})}}async function ST(r,e,t,n=!1){const i=new U7(r);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Lg(r,e,t,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ST(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ST(r,e,t,t==="getOobCode");return n(r,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(r,e){const t=t0(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Gu(s,e??{}))return i;wl(i,"already-initialized")}return t.initialize({options:e})}function q7(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Nc);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function H7(r,e,t){const n=gf(r);vr(n._canInitEmulator,n,"emulator-config-failed"),vr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=W3(e),{host:a,port:o}=W7(e),c=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),G7()}function W3(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function W7(r){const e=W3(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:kT(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:kT(a)}}}function kT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function G7(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ic("not implemented")}_getIdTokenResponse(e){return Ic("not implemented")}_linkToIdToken(e,t){return Ic("not implemented")}_getReauthenticationResolver(e){return Ic("not implemented")}}async function $7(r,e){return nc(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(r,e){return S1(r,"POST","/v1/accounts:signInWithPassword",Kc(r,e))}async function G3(r,e){return nc(r,"POST","/v1/accounts:sendOobCode",Kc(r,e))}async function X7(r,e){return G3(r,e)}async function Y7(r,e){return G3(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(r,e){return S1(r,"POST","/v1/accounts:signInWithEmailLink",Kc(r,e))}async function J7(r,e){return S1(r,"POST","/v1/accounts:signInWithEmailLink",Kc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends U_{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $p(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new $p(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,t,"signInWithPassword",K7);case"emailLink":return Q7(e,{email:this._email,oobCode:this._password});default:wl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,n,"signUpPassword",$7);case"emailLink":return J7(e,{idToken:t,email:this._email,oobCode:this._password});default:wl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(r,e){return S1(r,"POST","/v1/accounts:signInWithIdp",Kc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="http://localhost";class hh extends U_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=O_(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new hh(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return bd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bd(e,t)}buildRequest(){const e={requestUri:Z7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=c1(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tM(r){const e=tp(rp(r)).link,t=e?tp(rp(e)).deep_link_id:null,n=tp(rp(r)).deep_link_id;return(n?tp(rp(n)).link:null)||n||t||e||r}class z_{constructor(e){var t,n,i,s,a,o;const c=tp(rp(e)),f=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,p=eM((i=c.mode)!==null&&i!==void 0?i:null);vr(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=c.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=tM(e);try{return new z_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.providerId=p0.PROVIDER_ID}static credential(e,t){return $p._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=z_.parseLink(t);return vr(n,"argument-error"),$p._fromEmailAndCode(e,n.code,n.tenantId)}}p0.PROVIDER_ID="password";p0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";p0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends $3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends k1{constructor(){super("facebook.com")}static credential(e){return hh._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}}Pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends k1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hh._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ru.credentialFromTaggedObject(e)}static credentialFromError(e){return Ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ru.credential(t,n)}catch{return null}}}Ru.GOOGLE_SIGN_IN_METHOD="google.com";Ru.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends k1{constructor(){super("github.com")}static credential(e){return hh._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lu.credential(e.oauthAccessToken)}catch{return null}}}Lu.GITHUB_SIGN_IN_METHOD="github.com";Lu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends k1{constructor(){super("twitter.com")}static credential(e,t){return hh._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Fu.credential(t,n)}catch{return null}}}Fu.TWITTER_SIGN_IN_METHOD="twitter.com";Fu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(r,e){return S1(r,"POST","/v1/accounts:signUp",Kc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Cc._fromIdTokenResponse(e,n,i),a=IT(n);return new dh({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=IT(n);return new dh({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function IT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends rc{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Fg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Fg(e,t,n,i)}}function K3(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fg._fromErrorAndOperation(r,s,e,n):s})}async function nM(r,e,t=!1){const n=await Yd(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return dh._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(r,e,t=!1){const{auth:n}=r;if(Hl(n.app))return Promise.reject(Lc(n));const i="reauthenticate";try{const s=await Yd(r,K3(n,i,e,r),t);vr(s.idToken,n,"internal-error");const a=V_(s.idToken);vr(a,n,"internal-error");const{sub:o}=a;return vr(r.uid===o,n,"user-mismatch"),dh._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wl(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(r,e,t=!1){if(Hl(r.app))return Promise.reject(Lc(r));const n="signIn",i=await K3(r,n,e),s=await dh._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function sM(r,e){return X3(gf(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(r){const e=gf(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aM(r,e,t){const n=gf(r);await Lg(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Y7)}async function Q3(r,e,t){if(Hl(r.app))return Promise.reject(Lc(r));const n=gf(r),a=await Lg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rM).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Y3(r),c}),o=await dh._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function oM(r,e,t){return Hl(r.app)?Promise.reject(Lc(r)):sM(ln(r),p0.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Y3(r),n})}async function lM(r,e){const t=ln(r),i={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:s}=await X7(t.auth,i);s!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(r,e){return nc(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=ln(r),s={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await Yd(n,cM(n.auth,s));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const o=n.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function fM(r,e,t,n){return ln(r).onIdTokenChanged(e,t,n)}function hM(r,e,t){return ln(r).beforeAuthStateChanged(e,t)}function dM(r,e,t,n){return ln(r).onAuthStateChanged(e,t,n)}function pM(r){return ln(r).signOut()}const Dg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dg,"1"),this.storage.removeItem(Dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=1e3,gM=10;class Z3 extends J3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);C7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gM):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z3.type="LOCAL";const vM=Z3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends J3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new kv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async f=>f(t.origin,s)),c=await xM(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const f=q_("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(p){const x=p;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(x.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(){return window}function _M(r){Zl().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof Zl().WorkerGlobalScope<"u"&&typeof Zl().importScripts=="function"}async function wM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EM(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function TM(){return rI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebaseLocalStorageDb",bM=1,Og="firebaseLocalStorage",iI="fbase_key";class I1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Iv(r,e){return r.transaction([Og],e?"readwrite":"readonly").objectStore(Og)}function AM(){const r=indexedDB.deleteDatabase(nI);return new I1(r).toPromise()}function ry(){const r=indexedDB.open(nI,bM);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Og,{keyPath:iI})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Og)?e(n):(n.close(),await AM(),e(await ry()))})})}async function CT(r,e,t){const n=Iv(r,!0).put({[iI]:e,value:t});return new I1(n).toPromise()}async function SM(r,e){const t=Iv(r,!1).get(e),n=await new I1(t).toPromise();return n===void 0?null:n.value}function NT(r,e){const t=Iv(r,!0).delete(e);return new I1(t).toPromise()}const kM=800,IM=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>IM)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kv._getInstance(TM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wM(),!this.activeServiceWorker)return;this.sender=new yM(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await CT(e,Dg,"1"),await NT(e,Dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>CT(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>SM(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iv(i,!1).getAll();return new I1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const CM=sI;new A1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(r,e){return e?Nc(e):(vr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends U_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PM(r){return X3(r.auth,new H_(r),r.bypassAuthState)}function RM(r){const{auth:e,user:t}=r;return vr(t,e,"internal-error"),iM(t,new H_(r),r.bypassAuthState)}async function LM(r){const{auth:e,user:t}=r;return vr(t,e,"internal-error"),nM(t,new H_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PM;case"linkViaPopup":case"linkViaRedirect":return LM;case"reauthViaPopup":case"reauthViaRedirect":return RM;default:wl(this.auth,"internal-error")}}resolve(e){Vc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new A1(2e3,1e4);class vd extends aI{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,vd.currentPopupAction&&vd.currentPopupAction.cancel(),vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vr(e,this.auth,"internal-error"),e}async onExecution(){Vc(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FM.get())};e()}}vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="pendingRedirect",sg=new Map;class OM extends aI{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=sg.get(this.auth._key());if(!e){try{const n=await MM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}sg.set(this.auth._key(),e)}return this.bypassAuthState||sg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MM(r,e){const t=jM(e),n=VM(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function BM(r,e){sg.set(r._key(),e)}function VM(r){return Nc(r._redirectPersistence)}function jM(r){return ig(DM,r.config.apiKey,r.name)}async function UM(r,e,t=!1){if(Hl(r.app))return Promise.reject(Lc(r));const n=gf(r),i=NM(n,e),a=await new OM(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=600*1e3;class qM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!oI(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Jl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zM&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}saveEventToCache(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}function PT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function oI({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function HM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oI(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(r,e={}){return nc(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$M=/^https?/;async function KM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await WM(r);for(const t of e)try{if(XM(t))return}catch{}wl(r,"unauthorized-domain")}function XM(r){const e=ey(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!$M.test(t))return!1;if(GM.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new A1(3e4,6e4);function RT(){const r=Zl().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function QM(r){return new Promise((e,t)=>{var n,i,s;function a(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),t(Jl(r,"network-request-failed"))},timeout:YM.get()})}if(!((i=(n=Zl().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zl().gapi)===null||s===void 0)&&s.load)a();else{const o=B7("iframefcb");return Zl()[o]=()=>{gapi.load?a():t(Jl(r,"network-request-failed"))},H3(`${M7()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw ag=null,e})}let ag=null;function JM(r){return ag=ag||QM(r),ag}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new A1(5e3,15e3),e9="__/auth/iframe",t9="emulator/auth/iframe",r9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i9(r){const e=r.config;vr(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?B_(e,t9):`https://${r.config.authDomain}/${e9}`,n={apiKey:e.apiKey,appName:r.name,v:_h},i=n9.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${c1(n).slice(1)}`}async function s9(r){const e=await JM(r),t=Zl().gapi;return vr(t,r,"internal-error"),e.open({where:document.body,url:i9(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r9,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Jl(r,"network-request-failed"),o=Zl().setTimeout(()=>{s(a)},ZM.get());function c(){Zl().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o9=500,l9=600,c9="_blank",u9="http://localhost";class LT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f9(r,e,t,n=o9,i=l9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c=Object.assign(Object.assign({},a9),{width:n.toString(),height:i.toString(),top:s,left:a}),f=hs().toLowerCase();t&&(o=M3(f)?c9:t),D3(f)&&(e=e||u9,c.scrollbars="yes");const h=Object.entries(c).reduce((x,[m,E])=>`${x}${m}=${E},`,"");if(I7(f)&&o!=="_self")return h9(e||"",o),new LT(null);const p=window.open(e||"",o,h);vr(p,r,"popup-blocked");try{p.focus()}catch{}return new LT(p)}function h9(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="__/auth/handler",p9="emulator/auth/handler",m9=encodeURIComponent("fac");async function FT(r,e,t,n,i,s){vr(r.config.authDomain,r,"auth-domain-config-required"),vr(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:_h,eventId:i};if(e instanceof $3){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",vR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof k1){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const c=await r._getAppCheckToken(),f=c?`#${m9}=${encodeURIComponent(c)}`:"";return`${g9(r)}?${c1(o).slice(1)}${f}`}function g9({config:r}){return r.emulator?B_(r,p9):`https://${r.authDomain}/${d9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="webStorageSupport";class v9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=UM,this._overrideRedirectResult=BM}async _openPopup(e,t,n,i){var s;Vc((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await FT(e,t,n,ey(),i);return f9(e,a,q_())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await FT(e,t,n,ey(),i);return _M(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Vc(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await s9(e),n=new qM(e);return t.register("authEvent",i=>(vr(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(U2,{type:U2},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[U2];a!==void 0&&t(!!a),wl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return z3()||O3()||j_()}}const x9=v9;var DT="@firebase/auth",OT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w9(r){rh(new $u("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;vr(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q3(r)},f=new F7(n,i,s,c);return q7(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),rh(new $u("auth-internal",e=>{const t=gf(e.getProvider("auth").getImmediate());return(n=>new y9(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xl(DT,OT,_9(r)),Xl(DT,OT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=300,T9=VA("authIdTokenMaxAge")||E9;let MT=null;const b9=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>T9)return;const i=t?.token;MT!==i&&(MT=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lI(r=Fy()){const e=t0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=z7(r,{popupRedirectResolver:x9,persistence:[CM,vM,tI]}),n=VA("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=b9(s.toString());hM(t,a,()=>a(t.currentUser)),fM(t,o=>a(o))}}const i=OA("auth");return i&&H7(t,`http://${i}`),t}function A9(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}D7({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=Jl("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",A9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebasestorage.googleapis.com",uI="storageBucket",S9=120*1e3,k9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends rc{constructor(e,t,n=0){super(z2(e),`Firebase Storage: ${t} (${z2(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return z2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function z2(r){return"storage/"+r}function W_(){const r="An unknown error occurred, please check the error payload for server response.";return new Ci(ki.UNKNOWN,r)}function I9(r){return new Ci(ki.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function C9(r){return new Ci(ki.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function N9(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ci(ki.UNAUTHENTICATED,r)}function P9(){return new Ci(ki.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function R9(r){return new Ci(ki.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function L9(){return new Ci(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F9(){return new Ci(ki.CANCELED,"User canceled the upload/download.")}function D9(r){return new Ci(ki.INVALID_URL,"Invalid URL '"+r+"'.")}function O9(r){return new Ci(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function M9(){return new Ci(ki.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uI+"' property when initializing the app?")}function B9(){return new Ci(ki.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V9(){return new Ci(ki.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function j9(r){return new Ci(ki.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ny(r){return new Ci(ki.INVALID_ARGUMENT,r)}function fI(){return new Ci(ki.APP_DELETED,"The Firebase app was deleted.")}function U9(r){return new Ci(ki.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yp(r,e){return new Ci(ki.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Q0(r){throw new Ci(ki.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_o.makeFromUrl(e,t)}catch{return new _o(e,"")}if(n.path==="")return n;throw O9(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const h="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${h}/b/${i}/o${x}`,"i"),E={bucket:1,path:3},w=t===cI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",P=new RegExp(`^https?://${w}/${i}/${T}`,"i"),D=[{regex:o,indices:c,postModify:s},{regex:m,indices:E,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<D.length;q++){const se=D[q],Q=se.regex.exec(e);if(Q){const F=Q[se.indices.bucket];let A=Q[se.indices.path];A||(A=""),n=new _o(F,A),se.postModify(n);break}}if(n==null)throw D9(e);return n}}class z9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(r,e,t){let n=1,i=null,s=null,a=!1,o=0;function c(){return o===2}let f=!1;function h(...T){f||(f=!0,e.apply(null,T))}function p(T){i=setTimeout(()=>{i=null,r(m,c())},T)}function x(){s&&clearTimeout(s)}function m(T,...P){if(f){x();return}if(T){x(),h.call(null,T,...P);return}if(c()||a){x(),h.call(null,T,...P);return}n<64&&(n*=2);let D;o===1?(o=2,D=0):D=(n+Math.random())*1e3,p(D)}let E=!1;function w(T){E||(E=!0,x(),!f&&(i!==null?(T||(o=2),clearTimeout(i),p(0)):T||(o=1)))}return p(0),s=setTimeout(()=>{a=!0,w(!0)},t),w}function H9(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(r){return r!==void 0}function G9(r){return typeof r=="object"&&!Array.isArray(r)}function G_(r){return typeof r=="string"||r instanceof String}function BT(r){return $_()&&r instanceof Blob}function $_(){return typeof Blob<"u"}function VT(r,e,t,n){if(n<e)throw ny(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw ny(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function hI(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var Jf;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Jf||(Jf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,s=e.indexOf(r)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,t,n,i,s,a,o,c,f,h,p,x=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,E)=>{this.resolve_=m,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new km(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const c=o.loaded,f=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Jf.NO_ERROR,c=s.getStatus();if(!o||$9(c,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Jf.ABORT;n(!1,new km(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new km(f,s))})},t=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());W9(c)?s(c):s()}catch(c){a(c)}else if(o!==null){const c=W_();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(i.canceled){const c=this.appDelete_?fI():F9();a(c)}else{const c=L9();a(c)}};this.canceled_?t(!1,new km(!1,null,!0)):this.backoffId_=q9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class km{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function X9(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Y9(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q9(r,e){e&&(r["X-Firebase-GMPID"]=e)}function J9(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Z9(r,e,t,n,i,s,a=!0){const o=hI(r.urlParams),c=r.url+o,f=Object.assign({},r.headers);return Q9(f,e),X9(f,t),Y9(f,s),J9(f,n),new K9(c,r.method,f,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tB(...r){const e=eB();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if($_())return new Blob(r);throw new Ci(ki.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rB(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(r){if(typeof atob>"u")throw j9("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class q2{constructor(e,t){this.data=e,this.contentType=t||null}}function iB(r,e){switch(r){case $l.RAW:return new q2(dI(e));case $l.BASE64:case $l.BASE64URL:return new q2(pI(r,e));case $l.DATA_URL:return new q2(aB(e),oB(e))}throw W_()}function dI(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=n,a=r.charCodeAt(++t);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function sB(r){let e;try{e=decodeURIComponent(r)}catch{throw yp($l.DATA_URL,"Malformed data URL.")}return dI(e)}function pI(r,e){switch(r){case $l.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yp(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $l.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yp(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=nB(e)}catch(i){throw i.message.includes("polyfill")?i:yp(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class mI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yp($l.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=lB(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function aB(r){const e=new mI(r);return e.base64?pI($l.BASE64,e.rest):sB(e.rest)}function oB(r){return new mI(r).contentType}function lB(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){let n=0,i="";BT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(BT(this.data_)){const n=this.data_,i=rB(n,e,t);return i===null?null:new Du(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Du(n,!0)}}static getBlob(...e){if($_()){const t=e.map(n=>n instanceof Du?n.data_:n);return new Du(tB.apply(null,t))}else{const t=e.map(a=>G_(a)?iB($l.RAW,a).data:a.data_);let n=0;t.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return t.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new Du(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){let e;try{e=JSON.parse(r)}catch{return null}return G9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function uB(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function vI(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(r,e){return e}class La{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||fB}}let Im=null;function hB(r){return!G_(r)||r.length<2?r:vI(r)}function xI(){if(Im)return Im;const r=[];r.push(new La("bucket")),r.push(new La("generation")),r.push(new La("metageneration")),r.push(new La("name","fullPath",!0));function e(s,a){return hB(a)}const t=new La("name");t.xform=e,r.push(t);function n(s,a){return a!==void 0?Number(a):a}const i=new La("size");return i.xform=n,r.push(i),r.push(new La("timeCreated")),r.push(new La("updated")),r.push(new La("md5Hash",null,!0)),r.push(new La("cacheControl",null,!0)),r.push(new La("contentDisposition",null,!0)),r.push(new La("contentEncoding",null,!0)),r.push(new La("contentLanguage",null,!0)),r.push(new La("contentType",null,!0)),r.push(new La("metadata","customMetadata",!0)),Im=r,Im}function dB(r,e){function t(){const n=r.bucket,i=r.fullPath,s=new _o(n,i);return e._makeStorageReference(s)}Object.defineProperty(r,"ref",{get:t})}function pB(r,e,t){const n={};n.type="file";const i=t.length;for(let s=0;s<i;s++){const a=t[s];n[a.local]=a.xform(n,e[a.server])}return dB(n,r),n}function yI(r,e,t){const n=gI(e);return n===null?null:pB(r,n,t)}function mB(r,e,t,n){const i=gI(e);if(i===null||!G_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const h=r.bucket,p=r.fullPath,x="/b/"+a(h)+"/o/"+a(p),m=K_(x,t,n),E=hI({alt:"media",token:f});return m+E})[0]}function gB(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(t[s.server]=r[s.local])}return JSON.stringify(t)}class _I{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){if(!r)throw W_()}function vB(r,e){function t(n,i){const s=yI(r,i,e);return wI(s!==null),s}return t}function xB(r,e){function t(n,i){const s=yI(r,i,e);return wI(s!==null),mB(s,i,r.host,r._protocol)}return t}function EI(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=P9():i=N9():t.getStatus()===402?i=C9(r.bucket):t.getStatus()===403?i=R9(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function yB(r){const e=EI(r);function t(n,i){let s=e(n,i);return n.getStatus()===404&&(s=I9(r.path)),s.serverResponse=i.serverResponse,s}return t}function _B(r,e,t){const n=e.fullServerUrl(),i=K_(n,r.host,r._protocol),s="GET",a=r.maxOperationRetryTime,o=new _I(i,s,xB(r,t),a);return o.errorHandler=yB(e),o}function wB(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function EB(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=wB(null,e)),n}function TB(r,e,t,n,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let D="";for(let q=0;q<2;q++)D=D+Math.random().toString().slice(2);return D}const c=o();a["Content-Type"]="multipart/related; boundary="+c;const f=EB(e,n,i),h=gB(f,t),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,x=`\r
--`+c+"--",m=Du.getBlob(p,n,x);if(m===null)throw B9();const E={name:f.fullPath},w=K_(s,r.host,r._protocol),T="POST",P=r.maxUploadRetryTime,j=new _I(w,T,vB(r,t),P);return j.urlParams=E,j.headers=a,j.body=m.uploadData(),j.errorHandler=EI(e),j}class bB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i){if(this.sent_)throw Q0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Q0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Q0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Q0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Q0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AB extends bB{initXhr(){this.xhr_.responseType="text"}}function TI(){return new AB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this._service=e,t instanceof _o?this._location=t:this._location=_o.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ph(e,t)}get root(){const e=new _o(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vI(this._location.path)}get storage(){return this._service}get parent(){const e=cB(this._location.path);if(e===null)return null;const t=new _o(this._location.bucket,e);return new ph(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw U9(e)}}function SB(r,e,t){r._throwIfRoot("uploadBytes");const n=TB(r.storage,r._location,xI(),new Du(e,!0),t);return r.storage.makeRequestWithTokens(n,TI).then(i=>({metadata:i,ref:r}))}function kB(r){r._throwIfRoot("getDownloadURL");const e=_B(r.storage,r._location,xI());return r.storage.makeRequestWithTokens(e,TI).then(t=>{if(t===null)throw V9();return t})}function IB(r,e){const t=uB(r._location.path,e),n=new _o(r._location.bucket,t);return new ph(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(r){return/^[A-Za-z]+:\/\//.test(r)}function NB(r,e){return new ph(r,e)}function bI(r,e){if(r instanceof X_){const t=r;if(t._bucket==null)throw M9();const n=new ph(t,t._bucket);return e!=null?bI(n,e):n}else return e!==void 0?IB(r,e):r}function PB(r,e){if(e&&CB(e)){if(r instanceof X_)return NB(r,e);throw ny("To use ref(service, url), the first argument must be a Storage instance.")}else return bI(r,e)}function jT(r,e){const t=e?.[uI];return t==null?null:_o.makeFromBucketSpec(t,r)}function RB(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:jA(i,r.app.options.projectId))}class X_{constructor(e,t,n,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=cI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=S9,this._maxUploadRetryTime=k9,this._requests=new Set,i!=null?this._bucket=_o.makeFromBucketSpec(i,this._host):this._bucket=jT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_o.makeFromBucketSpec(this._url,e):this._bucket=jT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ph(this,e)}_makeRequest(e,t,n,i,s=!0){if(this._deleted)return new z9(fI());{const a=Z9(e,this._appId,n,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const UT="@firebase/storage",zT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="storage";function LB(r,e,t){return r=ln(r),SB(r,e,t)}function FB(r){return r=ln(r),kB(r)}function DB(r,e){return r=ln(r),PB(r,e)}function OB(r=Fy(),e){r=ln(r);const n=t0(r,AI).getImmediate({identifier:e}),i=MA("storage");return i&&MB(n,...i),n}function MB(r,e,t,n={}){RB(r,e,t,n)}function BB(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new X_(t,n,i,e,_h)}function VB(){rh(new $u(AI,BB,"PUBLIC").setMultipleInstances(!0)),Xl(UT,zT,""),Xl(UT,zT,"esm2017")}VB();const jB={apiKey:"AIzaSyBvYcCf63rbPaAHv8PTy4ROjvzOEXNabIw",authDomain:"pd-app-1461f.firebaseapp.com",projectId:"pd-app-1461f",storageBucket:"pd-app-1461f.firebasestorage.app",messagingSenderId:"340265078237",appId:"1:340265078237:web:0e7aa738a145b99e56fa34"},Y_=WA(jB),dd=lI(Y_),ur=t3(Y_),UB=OB(Y_);async function SI(r){r&&await lM(r)}async function zB(r){await aM(dd,r)}const kI=Xe.createContext(),Ao=()=>Xe.useContext(kI);function qB({children:r}){const[e,t]=Xe.useState(null),[n,i]=Xe.useState(null),[s,a]=Xe.useState(!0);Xe.useEffect(()=>dM(dd,async h=>{if(t(h),!h||!h.uid){i(null),a(!1);return}try{console.log("Fetching user doc for UID:",h.uid,"Current auth UID:",dd.currentUser?.uid);const p=an(ur,"users",h.uid),x=await Gp(p);if(x.exists())i(x.data());else{const m={uid:h.uid,email:h.email,displayName:h.displayName,role:"customer"};await vp(p,m),i(m)}}catch(p){console.error("Error fetching user profile:",p),i(null)}a(!1)}),[]);const o=(h,p)=>oM(dd,h,p),c=async({email:h,password:p,displayName:x,role:m,address:E,lat:w,lon:T})=>{const{user:P}=await Q3(dd,h,p);x&&await uM(P,{displayName:x});const j={uid:P.uid,email:h,displayName:x,role:m||"customer"};return E&&(j.address=E),w&&(j.lat=w),T&&(j.lon=T),await vp(an(ur,"users",P.uid),j),j.role==="pharmacy"&&await vp(an(ur,"pharmacies",P.uid),{id:P.uid,name:x||"Pharmacy",email:h,address:E||"",etaMins:30,phone:""}),await SI(P),{user:P,verificationSent:!0}},f=()=>pM(dd);return z.jsx(kI.Provider,{value:{user:e,profile:n,loading:s,signIn:o,signUp:c,logout:f},children:r})}function HB({tab:r,setTab:e,cartCount:t=0}){const{profile:n}=Ao(),i=n&&n.role==="pharmacy",s=[i?{key:"/",label:"Dashboard",icon:t7}:{key:"/",label:"Home",icon:e7},...i?[]:[{key:"/cart",label:"Cart",icon:a7}],{key:"/profile",label:"Profile",icon:A3}];return z.jsx("div",{className:"fixed bottom-0 left-0 right-0 flex justify-center z-40",children:z.jsx("div",{className:"mx-auto max-w-md w-full px-2 py-2 shadow-sm flex-1 bg-white border border-brand-primary rounded-[3px]",children:z.jsx("div",{className:"flex items-center justify-between",children:s.map(a=>{const o=r===a.key,c=a.icon,f=o?"text-brand-primary":"text-zinc-400",h=a.key==="/cart";return z.jsxs("button",{onClick:()=>e(a.key),className:`relative flex flex-col items-center text-xs ${o?"text-brand-primary":"text-zinc-400"} focus:outline-none w-full`,children:[z.jsx(c,{className:`h-6 w-6 mb-1 ${f}`}),h&&t>0?z.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-primary text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow",children:t}):null,z.jsx("span",{className:"font-medium",children:a.label})]},a.key)})})})})}const II=(r,e=null,t=50)=>{const n=mi(ur,"products"),i=e?_l(n,nf("pharmacyId","==",e),Jx("createdAt","desc"),Zx(t)):_l(n,Jx("createdAt","desc"),Zx(t));return Wo(i,s=>r(s.docs.map(a=>({id:a.id,...a.data()}))),s=>console.error("listenProducts error:",s))},CI=async r=>{const e=mi(ur,"products");await bv(e,{...r,createdAt:Av()})},NI=async(r,e)=>{const t=w3(ur);r.forEach(n=>{const i=an(mi(ur,"products"));t.set(i,{...n,pharmacyId:e,price:Number(n.price),stock:Number(n.stock||0),createdAt:Av()})}),await t.commit()},Q_=async(r,e,t=1)=>{const n=an(ur,"users",r,"cart",e);await vp(n,{productId:e,qty:F_(t)},{merge:!0})},og=(r,e)=>Ho(an(ur,"users",r,"cart",e)),PI=async({customerId:r,pharmacyId:e,items:t,total:n})=>await runTransaction(ur,async i=>{for(const o of t){const c=an(ur,"products",o.productId),f=await i.get(c);if(!f.exists())throw new Error("Product not found");const h=Number(f.data().stock||0);if(h<o.quantity)throw new Error("Insufficient stock for "+(f.data().name||o.productId));i.update(c,{stock:h-o.quantity,sold:F_(o.quantity)})}const s=an(mi(ur,"orders"));return i.set(s,{customerId:r,pharmacyId:e,items:t,total:n,status:"placed",createdAt:Av()}),(await Xd(mi(ur,"users",r,"cart"))).forEach(o=>i.delete(o.ref)),{id:s.id}}),WB=Object.freeze(Object.defineProperty({__proto__:null,addProduct:CI,addToCart:Q_,bulkAddProducts:NI,listenProducts:II,placeOrder:PI,removeFromCart:og},Symbol.toStringTag,{value:"Module"}));function GB({className:r="",children:e,...t}){return z.jsx("div",{className:`rounded-3xl border border-zinc-200 bg-white ${r}`,...t,children:e})}function $B({product:r,vendorName:e,onOpen:t,onAdd:n,cardWidth:i="172px",cardHeight:s="199px",nameSize:a="15.54px",nameWeight:o="medium",priceSize:c="14.43px",priceColor:f="#BDBDBD",priceWeight:h="medium",addColor:p="#36A5FF",borderRadius:x}){return z.jsxs(GB,{className:"p-3 cursor-pointer relative flex flex-col justify-between",onClick:t,style:{width:i,height:s,borderRadius:x||"10px"},children:[z.jsx("div",{className:"overflow-hidden flex items-center justify-center bg-white",style:{height:`calc(${s} * 0.6)`,borderRadius:x||"3px"},children:z.jsx("img",{src:r.image,alt:r.name,className:"object-contain h-full"})}),z.jsx("div",{className:"mt-1 text-xs text-zinc-500 font-poppins font-light",style:{fontSize:"10px"},children:e}),z.jsx("div",{className:"mt-1 font-poppins",style:{fontSize:a,fontWeight:o},children:r.name}),z.jsxs("div",{className:"font-poppins",style:{fontSize:c,color:f,fontWeight:h},children:["₦",Number(r.price).toLocaleString()]}),z.jsx("button",{onClick:m=>{m.stopPropagation(),n()},className:"absolute bottom-3 right-3 h-7 w-7 flex items-center justify-center border border-solid",style:{borderColor:p,borderRadius:x||"3px",background:"transparent"},children:z.jsx(i7,{color:p,size:18})})]})}function Qd({className:r="",style:e={},lines:t=3}){return z.jsx("div",{className:r,style:e,children:[...Array(t)].map((n,i)=>z.jsx("div",{className:"animate-pulse bg-zinc-200 rounded h-4 mb-2 last:mb-0",style:{width:`${80+Math.random()*20}%`,height:16}},i))})}function KB(){const[r,e]=Xe.useState([]),[t,n]=Xe.useState(""),{user:i}=Ao(),s=lf();Xe.useEffect(()=>II(e),[]);const a=Xe.useMemo(()=>{const f=t.toLowerCase();return r.filter(h=>{const p=((h.name||"")+" "+(h.category||"")).toLowerCase(),x=Array.isArray(h.tags)&&h.tags.some(m=>(m||"").toLowerCase().includes(f));return p.includes(f)||x})},[r,t]),o=Xe.useMemo(()=>[...a].filter(f=>f.stock===void 0||f.stock>0).sort((f,h)=>(h.viewCount||0)+(h.sold||0)-((f.viewCount||0)+(f.sold||0))),[a]),c=f=>s(`/product/${f}`);return r.length?z.jsxs("div",{className:"min-h-screen w-full px-0 pb-28",children:[z.jsx("div",{className:"sticky top-0 z-30 w-full bg-white border-b px-3",children:z.jsx("div",{className:"w-full mx-auto py-4",children:z.jsx("div",{className:"text-[18px] md:text-[22px] font-medium text-brand-primary",children:i?`Welcome, ${i.displayName?.split(" ")[0]||"Friend"}`:"Welcome"})})}),z.jsxs("div",{className:"flex-1 overflow-y-auto w-full mx-auto flex flex-col pt-3 pb-28 px-3",children:[z.jsxs("div",{className:"flex items-center gap-3 border-b border-zinc-300 pb-2",children:[z.jsx(s7,{className:"h-5 w-5 md:h-6 md:w-6 text-zinc-400"}),z.jsx("input",{value:t,onChange:f=>n(f.target.value),placeholder:"Search medicines",className:"w-full outline-none placeholder:text-[13px] md:placeholder:text-[14px] placeholder:text-zinc-400"})]}),z.jsxs("div",{className:"mt-6",children:[z.jsx("div",{className:"flex items-center justify-between mb-3",children:z.jsx("div",{className:"text-[16px] md:text-[20px] font-semibold text-brand-primary",children:"Popular Products"})}),z.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6",children:o.map(f=>z.jsx("div",{className:"flex justify-center relative",children:z.jsx($B,{product:f,onOpen:()=>c(f.id),onAdd:()=>i?Q_(i.uid,f.id,1):alert("Please sign in"),cardWidth:"128px",cardHeight:"120px",nameSize:"12px",nameWeight:"semibold",nameTracking:"-0.5px",priceSize:"11px",priceColor:"#6B7280",priceWeight:"medium",addColor:"#10B981",addSize:"10px",borderRadius:"12px"})},f.id||f.sku))})]})]})]}):z.jsx(Qd,{lines:6,className:"my-8"})}function XB({product:r,pharmacy:e}){const{user:t}=Ao(),n=lf();if(!r)return z.jsx(Qd,{lines:5,className:"my-8"});const i=Number(r.price||0);return t?z.jsxs("div",{className:"min-h-screen bg-white",children:[z.jsxs("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-5 md:px-8 lg:px-12 xl:px-0",children:[z.jsx("div",{className:"pt-6 sticky top-0 z-20 bg-white border-b border-brand-primary/10 pb-2",children:z.jsxs("button",{onClick:()=>n(-1),className:"w-[90px] h-[34px] font-poppins font-light tracking-tight text-[15px] flex items-center justify-center rounded-full bg-white border border-brand-primary/20 text-brand-primary",children:[z.jsx(ZO,{className:"h-4 w-4 mr-1"})," Back"]})}),z.jsx("div",{className:"mt-6 flex items-center justify-center",children:z.jsx("div",{className:"relative w-full",style:{height:"260px"},children:z.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:z.jsx("img",{src:r.image,alt:r.name,className:"h-44 md:h-56 lg:h-64 object-contain mx-auto rounded-2xl border border-brand-primary/10 bg-brand-primary/5"})})})})]}),z.jsx("div",{className:"mt-8 bg-[#F8FAF9] rounded-t-3xl border-t border-brand-primary/10 shadow-[0_-8px_24px_rgba(0,0,0,0.04)]",children:z.jsxs("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-5 md:px-8 lg:px-12 xl:px-0 pt-6 pb-36",children:[z.jsxs("div",{className:"flex items-start justify-between",children:[z.jsx("h1",{className:"text-[22px] leading-none font-poppins font-bold tracking-tight text-brand-primary",children:r.name}),z.jsxs("div",{className:"text-[19px] font-poppins font-semibold text-brand-accent",children:["₦",i.toLocaleString()]})]}),z.jsxs("div",{className:"mt-8",children:[z.jsx("div",{className:"text-[15px] font-poppins font-semibold text-brand-primary",children:"Product Description"}),z.jsx("p",{className:"mt-1 text-zinc-600 leading-7 font-poppins text-[14px] font-light",children:r.description})]})]})}),z.jsx("div",{className:"fixed left-0 right-0 bottom-24 z-30",children:z.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-5 md:px-8 lg:px-12 xl:px-0",children:z.jsxs("div",{className:"flex gap-4",children:[z.jsx("button",{onClick:async()=>{if(!t)return alert("Please sign in");if(!r.id)return alert("Product unavailable. Please try again.");try{await Q_(t.uid,r.id,1)}catch{alert("Failed to add to cart.")}},className:"flex-1 h-[38px] rounded-full bg-brand-primary text-white text-[15px] font-poppins font-semibold shadow-sm active:scale-[0.99] hover:bg-brand-primary/90 transition",children:"Add to Cart"}),z.jsxs("a",{href:`tel:${e?.phone||""}`,className:"flex-1 h-[38px] rounded-full border border-brand-accent text-brand-accent text-[15px] font-poppins font-semibold flex items-center justify-center gap-2 bg-white active:scale-95 hover:bg-brand-accent/10 transition",children:[z.jsx(n7,{className:"h-4 w-4"})," Call to Order"]})]})})})]}):z.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[z.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),z.jsx("button",{className:"rounded-full bg-sky-600 text-white px-6 py-2 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>n("/auth/landing"),children:"Sign In / Sign Up"})]})}const YB="modulepreload",QB=function(r){return"/"+r},qT={},_p=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=c(t.map(f=>{if(f=QB(f),f in qT)return;qT[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":YB,h||(x.as="script"),x.crossOrigin="",x.href=f,o&&x.setAttribute("nonce",o),document.head.appendChild(x),h)return new Promise((m,E)=>{x.addEventListener("load",m),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function JB(r){return z.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:z.jsxs("g",{children:[z.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"#fd9292"}),z.jsx("path",{d:"M5.5 5.5L10.5 10.5M10.5 5.5L5.5 10.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})})}function ZB(){const{user:r}=Ao(),e=lf(),[t,n]=Xe.useState([]);Xe.useEffect(()=>{if(!r)return;const o=_l(mi(ur,"users",r.uid,"cart"));return Wo(o,async c=>{const f=await Promise.all(c.docs.map(async h=>{const p=h.data(),x=await Gp(an(ur,"products",p.productId));return{id:h.id,...p,product:{id:x.id,...x.data()}}}));n(f)})},[r]);const i=Xe.useMemo(()=>t.reduce((o,c)=>o+(c.product?.price||0)*c.qty,0),[t]),s=async()=>{if(!r||!t.length)return;const c=t[0].product?.pharmacyId;await PI({customerId:r.uid,pharmacyId:c,items:t.map(f=>({productId:f.productId,qty:f.qty})),total:i});for(const f of t)await og(r.uid,f.id);alert("Checkout successful")},a=Xe.useMemo(()=>{const o=new Map;for(const c of t){const f=c.product?.id;if(f)if(o.has(f)){const h=o.get(f);o.set(f,{...h,qty:h.qty+c.qty,ids:[...h.ids||[h.id],c.id]})}else o.set(f,{...c,ids:[c.id]})}return Array.from(o.values())},[t]);return r?r&&t.length===0?z.jsx(Qd,{lines:3,className:"my-8"}):z.jsxs("div",{className:"pt-10 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col",children:[z.jsx("div",{className:"sticky top-0 z-20 bg-white pb-2 pt-4 -mx-4 sm:-mx-5 md:-mx-8 lg:-mx-12 xl:-mx-0 px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 border-b border-brand-primary/10",children:z.jsx("div",{className:"text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-bold font-poppins text-brand-primary tracking-tight",children:"Cart"})}),z.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[a.map(o=>z.jsxs("div",{className:"relative rounded-2xl border border-brand-primary/10 bg-white p-3 flex items-center gap-4 min-w-0 shadow-sm",children:[z.jsx("button",{onClick:()=>o.ids.forEach(c=>og(r.uid,c)),className:"absolute top-2 right-2 z-10 p-1 rounded-full hover:bg-brand-accent/10 transition","aria-label":"Remove",children:z.jsx(JB,{className:"w-5 h-5 text-brand-accent"})}),z.jsx("img",{src:o.product?.image,className:"h-14 w-14 object-cover rounded-xl border border-brand-primary/10 bg-brand-primary/5"}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("div",{className:"font-semibold text-[13px] sm:text-[14px] md:text-[15px] lg:text-[16px] truncate text-brand-primary font-poppins",children:o.product?.name}),z.jsxs("div",{className:"text-brand-accent text-[11px] sm:text-[12px] md:text-[13px] lg:text-[14px] font-poppins",children:["₦",Number(o.product?.price||0).toLocaleString()]}),z.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.jsx("button",{className:"w-7 h-7 rounded-[3px] border border-brand-primary/20 flex items-center justify-center text-[18px] font-light bg-brand-primary/5 text-brand-primary disabled:opacity-40 font-poppins",onClick:async()=>{o.qty>1&&await og(r.uid,o.ids[0])},disabled:o.qty<=1,"aria-label":"Decrease quantity",children:"-"}),z.jsx("span",{className:"text-[14px] font-poppins w-7 text-center text-brand-primary",children:o.qty}),z.jsx("button",{className:"w-7 h-7 rounded-[3px] border border-brand-primary/20 flex items-center justify-center text-[18px] font-light bg-brand-primary/5 text-brand-primary font-poppins",onClick:async()=>{if(o.product?.id){const{addToCart:c}=await _p(async()=>{const{addToCart:f}=await Promise.resolve().then(()=>WB);return{addToCart:f}},void 0);await c(r.uid,o.product.id,1)}},"aria-label":"Increase quantity",children:"+"})]})]})]},o.product?.id)),a.length===0&&z.jsx("div",{className:"text-brand-primary/40 font-extralight text-[15px] sm:text-[16px] md:text-[18px] lg:text-[20px] font-poppins text-center",children:"Your cart is empty."})]}),a.length>0&&z.jsxs("div",{className:"mt-6 rounded-2xl border border-brand-accent bg-brand-accent/5 p-4 shadow-sm",children:[z.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between text-[15px] sm:text-[17px] md:text-[20px] lg:text-[24px] font-poppins",children:[z.jsx("span",{className:"text-brand-primary font-semibold",children:"Total"}),z.jsxs("span",{className:"font-bold text-brand-accent text-[15px] sm:text-[18px]",children:["₦",Number(i).toLocaleString()]})]}),z.jsx("button",{onClick:s,className:"mt-4 w-full rounded-full border-none bg-brand-primary text-white py-3 text-[15px] sm:text-[17px] lg:text-[19px] font-semibold font-poppins shadow hover:bg-brand-primary/90 transition",children:"Proceed to Checkout"})]})]}):z.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[z.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),z.jsx("button",{className:"rounded-full bg-brand-primary text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-brand-primary/90 transition",onClick:()=>e("/auth/landing"),children:"Sign In / Sign Up"})]})}function iy({className:r="",children:e,...t}){return z.jsx("button",{className:`inline-flex items-center justify-center rounded-full px-4 py-2 font-medium transition border border-transparent bg-sky-600 text-white hover:opacity-95 disabled:opacity-50 ${r}`,...t,children:e})}function Ad({className:r="",...e}){return z.jsx("input",{className:`w-full rounded-2xl border px-3 py-2 outline-none ${r}`,...e})}function eV({className:r="",...e}){return z.jsx("textarea",{className:`w-full rounded-2xl border px-3 py-2 outline-none ${r}`,...e})}function tV({pharmacyId:r,onClose:e}){const[t,n]=Xe.useState({name:"",price:"",category:"Over‑the‑Counter",stock:0,sku:"",image:"",description:""}),[i,s]=Xe.useState(null),[a,o]=Xe.useState(!1),c=async()=>{if(!t.name||!t.price)return alert("Name and price required");o(!0);try{let f=t.image;if(!f&&i){const x=`products/${r}/${Date.now()}_${i.name}`,m=DB(UB,x);await LB(m,i),f=await FB(m)}const h=(t.tags||"").split(",").map(x=>x.trim()).filter(Boolean),p={...t,image:f,price:Number(t.price),pharmacyId:r,tags:h};console.log("Submitting product:",p),await CI(p),e()}catch(f){alert(f.message)}finally{o(!1)}};return z.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 backdrop-blur-sm",children:z.jsxs("div",{className:"bg-white rounded-3xl p-6 w-[90vw] max-w-sm shadow-xl border border-[#9ED3FF]",children:[z.jsx("div",{className:"text-lg font-light font-poppins mb-4 text-black",children:"Add Product"}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none",placeholder:"Name",value:t.name,onChange:f=>n({...t,name:f.target.value})}),z.jsxs("select",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none bg-white",value:t.category,onChange:f=>n({...t,category:f.target.value}),children:[z.jsx("option",{value:"Prescription",children:"Prescription"}),z.jsx("option",{value:"Over-the-counter",children:"Over-the-counter"}),z.jsx("option",{value:"Syrup",children:"Syrup"}),z.jsx("option",{value:"Therapeutic",children:"Therapeutic"}),z.jsx("option",{value:"Controlled",children:"Controlled"}),z.jsx("option",{value:"Target System",children:"Target System"}),z.jsx("option",{value:"Others",children:"Others"})]}),z.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none",placeholder:"Stock",type:"number",value:t.stock,onChange:f=>n({...t,stock:f.target.value})}),z.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none",placeholder:"SKU",value:t.sku,onChange:f=>n({...t,sku:f.target.value})}),z.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none",placeholder:"Price",type:"number",value:t.price,onChange:f=>n({...t,price:f.target.value})}),z.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none",placeholder:"Tags (comma separated, e.g. pain relief, children)",value:t.tags||"",onChange:f=>n({...t,tags:f.target.value})}),z.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[z.jsx("label",{className:"text-[13px] font-light text-zinc-500",children:"Product Image"}),z.jsx("input",{type:"file",accept:"image/*",className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2",onChange:f=>s(f.target.files?.[0]||null)}),z.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none",placeholder:"Or paste image link here",value:t.image,onChange:f=>n({...t,image:f.target.value})})]})]}),z.jsx("div",{className:"mt-3",children:z.jsx(eV,{rows:3,placeholder:"Description",value:t.description,onChange:f=>n({...t,description:f.target.value})})}),z.jsxs("div",{className:"flex gap-2 mt-6",children:[z.jsx("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",disabled:a,onClick:c,children:a?"Uploading…":"Add"}),z.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 text-zinc-500 text-[13px] font-light py-2",onClick:e,children:"Cancel"})]})]})})}var lg={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var rV=lg.exports,HT;function nV(){return HT||(HT=1,(function(r,e){((t,n)=>{r.exports=n()})(rV,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},c=0,f={};function h(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var M=se(b);M.chunkSize=parseInt(M.chunkSize),b.step||b.chunk||(M.chunkSize=null),this._handle=new w(M),(this._handle.streamer=this)._config=M}).call(this,A),this.parseChunk=function(b,M){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let B=this._config.newline;B||(N=this._config.quoteChar||'"',B=this._handle.guessLineEndings(b,N)),b=[...b.split(B).slice(C)].join(B)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(b))!==void 0&&(b=N),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+b,N=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=N.meta.cursor,C=(this._finished||(this._partialLine=C.substring(b-this._baseIndex),this._baseIndex=b),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:N,workerId:f.WORKER_ID,finished:C});else if(F(this._config.chunk)&&!M){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!C||!F(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(b){F(this._config.error)?this._config.error(b):a&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:b,finished:!1})}}function p(A){var b;(A=A||{}).chunkSize||(A.chunkSize=f.RemoteChunkSize),h.call(this,A),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=Q(this._chunkLoaded,this),b.onerror=Q(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var M,C=this._config.downloadRequestHeaders;for(M in C)b.setRequestHeader(M,C[M])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+N));try{b.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(M){M=b.statusText||M,this._sendError(new Error(M))}}function x(A){(A=A||{}).chunkSize||(A.chunkSize=f.LocalChunkSize),h.call(this,A);var b,M,C=typeof FileReader<"u";this.stream=function(N){this._input=N,M=N.slice||N.webkitSlice||N.mozSlice,C?((b=new FileReader).onload=Q(this._chunkLoaded,this),b.onerror=Q(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),N=M.call(N,this._start,B)),b.readAsText(N,this._config.encoding));C||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(b.error)}}function m(A){var b;h.call(this,A=A||{}),this.stream=function(M){return b=M,this._nextChunk()},this._nextChunk=function(){var M,C;if(!this._finished)return M=this._config.chunkSize,b=M?(C=b.substring(0,M),b.substring(M)):(C=b,""),this._finished=!b,this.parseChunk(C)}}function E(A){h.call(this,A=A||{});var b=[],M=!0,C=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):M=!0},this._streamData=Q(function(N){try{b.push(typeof N=="string"?N:N.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(B){this._streamError(B)}},this),this._streamError=Q(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=Q(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(A){var b,M,C,N,B=Math.pow(2,53),ce=-B,be=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ke=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Te=this,de=0,te=0,Ce=!1,re=!1,S=[],U={data:[],errors:[],meta:{}};function W(Ee){return A.skipEmptyLines==="greedy"?Ee.join("").trim()==="":Ee.length===1&&Ee[0].length===0}function K(){if(U&&C&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),C=!1),A.skipEmptyLines&&(U.data=U.data.filter(function(Me){return!W(Me)})),ie()){let Me=function(ae,at){F(A.transformHeader)&&(ae=A.transformHeader(ae,at)),S.push(ae)};if(U)if(Array.isArray(U.data[0])){for(var Ee=0;ie()&&Ee<U.data.length;Ee++)U.data[Ee].forEach(Me);U.data.splice(0,1)}else U.data.forEach(Me)}function xe(Me,ae){for(var at=A.header?{}:[],Re=0;Re<Me.length;Re++){var G=Re,Fe=Me[Re],Fe=(($e,nt)=>(tt=>(A.dynamicTypingFunction&&A.dynamicTyping[tt]===void 0&&(A.dynamicTyping[tt]=A.dynamicTypingFunction(tt)),(A.dynamicTyping[tt]||A.dynamicTyping)===!0))($e)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((tt=>{if(be.test(tt)&&(tt=parseFloat(tt),ce<tt&&tt<B))return 1})(nt)?parseFloat(nt):ke.test(nt)?new Date(nt):nt===""?null:nt):nt)(G=A.header?Re>=S.length?"__parsed_extra":S[Re]:G,Fe=A.transform?A.transform(Fe,G):Fe);G==="__parsed_extra"?(at[G]=at[G]||[],at[G].push(Fe)):at[G]=Fe}return A.header&&(Re>S.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+S.length+" fields but parsed "+Re,te+ae):Re<S.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+S.length+" fields but parsed "+Re,te+ae)),at}var Ae;U&&(A.header||A.dynamicTyping||A.transform)&&(Ae=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(xe),Ae=U.data.length):U.data=xe(U.data,0),A.header&&U.meta&&(U.meta.fields=S),te+=Ae)}function ie(){return A.header&&S.length===0}function pe(Ee,xe,Ae,Me){Ee={type:Ee,code:xe,message:Ae},Me!==void 0&&(Ee.row=Me),U.errors.push(Ee)}F(A.step)&&(N=A.step,A.step=function(Ee){U=Ee,ie()?K():(K(),U.data.length!==0&&(de+=Ee.data.length,A.preview&&de>A.preview?M.abort():(U.data=U.data[0],N(U,Te))))}),this.parse=function(Ee,xe,Ae){var Me=A.quoteChar||'"',Me=(A.newline||(A.newline=this.guessLineEndings(Ee,Me)),C=!1,A.delimiter?F(A.delimiter)&&(A.delimiter=A.delimiter(Ee),U.meta.delimiter=A.delimiter):((Me=((ae,at,Re,G,Fe)=>{var $e,nt,tt,_t;Fe=Fe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var ut=0;ut<Fe.length;ut++){for(var Wt,Rt=Fe[ut],Bt=0,Ot=0,bt=0,Vt=(tt=void 0,new P({comments:G,delimiter:Rt,newline:at,preview:10}).parse(ae)),Pt=0;Pt<Vt.data.length;Pt++)Re&&W(Vt.data[Pt])?bt++:(Wt=Vt.data[Pt].length,Ot+=Wt,tt===void 0?tt=Wt:0<Wt&&(Bt+=Math.abs(Wt-tt),tt=Wt));0<Vt.data.length&&(Ot/=Vt.data.length-bt),(nt===void 0||Bt<=nt)&&(_t===void 0||_t<Ot)&&1.99<Ot&&(nt=Bt,$e=Rt,_t=Ot)}return{successful:!!(A.delimiter=$e),bestDelimiter:$e}})(Ee,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=Me.bestDelimiter:(C=!0,A.delimiter=f.DefaultDelimiter),U.meta.delimiter=A.delimiter),se(A));return A.preview&&A.header&&Me.preview++,b=Ee,M=new P(Me),U=M.parse(b,xe,Ae),K(),Ce?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return Ce},this.pause=function(){Ce=!0,M.abort(),b=F(A.chunk)?"":b.substring(M.getCharIndex())},this.resume=function(){Te.streamer._halted?(Ce=!1,Te.streamer.parseChunk(b,!0)):setTimeout(Te.resume,3)},this.aborted=function(){return re},this.abort=function(){re=!0,M.abort(),U.meta.aborted=!0,F(A.complete)&&A.complete(U),b=""},this.guessLineEndings=function(ae,Me){ae=ae.substring(0,1048576);var Me=new RegExp(T(Me)+"([^]*?)"+T(Me),"gm"),Ae=(ae=ae.replace(Me,"")).split("\r"),Me=ae.split(`
`),ae=1<Me.length&&Me[0].length<Ae[0].length;if(Ae.length===1||ae)return`
`;for(var at=0,Re=0;Re<Ae.length;Re++)Ae[Re][0]===`
`&&at++;return at>=Ae.length/2?`\r
`:"\r"}}function T(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(A){var b=(A=A||{}).delimiter,M=A.newline,C=A.comments,N=A.step,B=A.preview,ce=A.fastMode,be=null,ke=!1,Te=A.quoteChar==null?'"':A.quoteChar,de=Te;if(A.escapeChar!==void 0&&(de=A.escapeChar),(typeof b!="string"||-1<f.BAD_DELIMITERS.indexOf(b))&&(b=","),C===b)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<f.BAD_DELIMITERS.indexOf(C))&&(C=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var te=0,Ce=!1;this.parse=function(re,S,U){if(typeof re!="string")throw new Error("Input must be a string");var W=re.length,K=b.length,ie=M.length,pe=C.length,Ee=F(N),xe=[],Ae=[],Me=[],ae=te=0;if(!re)return Bt();if(ce||ce!==!1&&re.indexOf(Te)===-1){for(var at=re.split(M),Re=0;Re<at.length;Re++){if(Me=at[Re],te+=Me.length,Re!==at.length-1)te+=M.length;else if(U)return Bt();if(!C||Me.substring(0,pe)!==C){if(Ee){if(xe=[],_t(Me.split(b)),Ot(),Ce)return Bt()}else _t(Me.split(b));if(B&&B<=Re)return xe=xe.slice(0,B),Bt(!0)}}return Bt()}for(var G=re.indexOf(b,te),Fe=re.indexOf(M,te),$e=new RegExp(T(de)+T(Te),"g"),nt=re.indexOf(Te,te);;)if(re[te]===Te)for(nt=te,te++;;){if((nt=re.indexOf(Te,nt+1))===-1)return U||Ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:te}),Wt();if(nt===W-1)return Wt(re.substring(te,nt).replace($e,Te));if(Te===de&&re[nt+1]===de)nt++;else if(Te===de||nt===0||re[nt-1]!==de){G!==-1&&G<nt+1&&(G=re.indexOf(b,nt+1));var tt=ut((Fe=Fe!==-1&&Fe<nt+1?re.indexOf(M,nt+1):Fe)===-1?G:Math.min(G,Fe));if(re.substr(nt+1+tt,K)===b){Me.push(re.substring(te,nt).replace($e,Te)),re[te=nt+1+tt+K]!==Te&&(nt=re.indexOf(Te,te)),G=re.indexOf(b,te),Fe=re.indexOf(M,te);break}if(tt=ut(Fe),re.substring(nt+1+tt,nt+1+tt+ie)===M){if(Me.push(re.substring(te,nt).replace($e,Te)),Rt(nt+1+tt+ie),G=re.indexOf(b,te),nt=re.indexOf(Te,te),Ee&&(Ot(),Ce))return Bt();if(B&&xe.length>=B)return Bt(!0);break}Ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:te}),nt++}}else if(C&&Me.length===0&&re.substring(te,te+pe)===C){if(Fe===-1)return Bt();te=Fe+ie,Fe=re.indexOf(M,te),G=re.indexOf(b,te)}else if(G!==-1&&(G<Fe||Fe===-1))Me.push(re.substring(te,G)),te=G+K,G=re.indexOf(b,te);else{if(Fe===-1)break;if(Me.push(re.substring(te,Fe)),Rt(Fe+ie),Ee&&(Ot(),Ce))return Bt();if(B&&xe.length>=B)return Bt(!0)}return Wt();function _t(bt){xe.push(bt),ae=te}function ut(bt){var Vt=0;return Vt=bt!==-1&&(bt=re.substring(nt+1,bt))&&bt.trim()===""?bt.length:Vt}function Wt(bt){return U||(bt===void 0&&(bt=re.substring(te)),Me.push(bt),te=W,_t(Me),Ee&&Ot()),Bt()}function Rt(bt){te=bt,_t(Me),Me=[],Fe=re.indexOf(M,te)}function Bt(bt){if(A.header&&!S&&xe.length&&!ke){var Vt=xe[0],Pt=Object.create(null),Lt=new Set(Vt);let yt=!1;for(let Tt=0;Tt<Vt.length;Tt++){let tr=Vt[Tt];if(Pt[tr=F(A.transformHeader)?A.transformHeader(tr,Tt):tr]){let Yt,Ft=Pt[tr];for(;Yt=tr+"_"+Ft,Ft++,Lt.has(Yt););Lt.add(Yt),Vt[Tt]=Yt,Pt[tr]++,yt=!0,(be=be===null?{}:be)[Yt]=tr}else Pt[tr]=1,Vt[Tt]=tr;Lt.add(tr)}yt&&console.warn("Duplicate headers found and renamed."),ke=!0}return{data:xe,errors:Ae,meta:{delimiter:b,linebreak:M,aborted:Ce,truncated:!!bt,cursor:ae+(S||0),renamedHeaders:be}}}function Ot(){N(Bt()),xe=[],Ae=[]}},this.abort=function(){Ce=!0},this.getCharIndex=function(){return te}}function j(A){var b=A.data,M=o[b.workerId],C=!1;if(b.error)M.userError(b.error,b.file);else if(b.results&&b.results.data){var N={abort:function(){C=!0,D(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:q,resume:q};if(F(M.userStep)){for(var B=0;B<b.results.data.length&&(M.userStep({data:b.results.data[B],errors:b.results.errors,meta:b.results.meta},N),!C);B++);delete b.results}else F(M.userChunk)&&(M.userChunk(b.results,N,b.file),delete b.results)}b.finished&&!C&&D(b.workerId,b.results)}function D(A,b){var M=o[A];F(M.userComplete)&&M.userComplete(b),M.terminate(),delete o[A]}function q(){throw new Error("Not implemented.")}function se(A){if(typeof A!="object"||A===null)return A;var b,M=Array.isArray(A)?[]:{};for(b in A)M[b]=se(A[b]);return M}function Q(A,b){return function(){A.apply(b,arguments)}}function F(A){return typeof A=="function"}return f.parse=function(A,b){var M=(b=b||{}).dynamicTyping||!1;if(F(M)&&(b.dynamicTypingFunction=M,M={}),b.dynamicTyping=M,b.transform=!!F(b.transform)&&b.transform,!b.worker||!f.WORKERS_SUPPORTED)return M=null,f.NODE_STREAM_INPUT,typeof A=="string"?(A=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(A),M=new(b.download?p:m)(b)):A.readable===!0&&F(A.read)&&F(A.on)?M=new E(b):(n.File&&A instanceof File||A instanceof Object)&&(M=new x(b)),M.stream(A);(M=(()=>{var C;return!!f.WORKERS_SUPPORTED&&(C=(()=>{var N=n.URL||n.webkitURL||null,B=t.toString();return f.BLOB_URL||(f.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(C=new n.Worker(C)).onmessage=j,C.id=c++,o[C.id]=C)})()).userStep=b.step,M.userChunk=b.chunk,M.userComplete=b.complete,M.userError=b.error,b.step=F(b.step),b.chunk=F(b.chunk),b.complete=F(b.complete),b.error=F(b.error),delete b.worker,M.postMessage({input:A,config:b,workerId:M.id})},f.unparse=function(A,b){var M=!1,C=!0,N=",",B=`\r
`,ce='"',be=ce+ce,ke=!1,Te=null,de=!1,te=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||f.BAD_DELIMITERS.filter(function(S){return b.delimiter.indexOf(S)!==-1}).length||(N=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(M=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(ke=b.skipEmptyLines),typeof b.newline=="string"&&(B=b.newline),typeof b.quoteChar=="string"&&(ce=b.quoteChar),typeof b.header=="boolean"&&(C=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");Te=b.columns}b.escapeChar!==void 0&&(be=b.escapeChar+ce),b.escapeFormulae instanceof RegExp?de=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(de=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(ce),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return Ce(null,A,ke);if(typeof A[0]=="object")return Ce(Te||Object.keys(A[0]),A,ke)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||Te),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),Ce(A.fields||[],A.data||[],ke);throw new Error("Unable to serialize unrecognized input");function Ce(S,U,W){var K="",ie=(typeof S=="string"&&(S=JSON.parse(S)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(S)&&0<S.length),pe=!Array.isArray(U[0]);if(ie&&C){for(var Ee=0;Ee<S.length;Ee++)0<Ee&&(K+=N),K+=re(S[Ee],Ee);0<U.length&&(K+=B)}for(var xe=0;xe<U.length;xe++){var Ae=(ie?S:U[xe]).length,Me=!1,ae=ie?Object.keys(U[xe]).length===0:U[xe].length===0;if(W&&!ie&&(Me=W==="greedy"?U[xe].join("").trim()==="":U[xe].length===1&&U[xe][0].length===0),W==="greedy"&&ie){for(var at=[],Re=0;Re<Ae;Re++){var G=pe?S[Re]:Re;at.push(U[xe][G])}Me=at.join("").trim()===""}if(!Me){for(var Fe=0;Fe<Ae;Fe++){0<Fe&&!ae&&(K+=N);var $e=ie&&pe?S[Fe]:Fe;K+=re(U[xe][$e],Fe)}xe<U.length-1&&(!W||0<Ae&&!ae)&&(K+=B)}}return K}function re(S,U){var W,K;return S==null?"":S.constructor===Date?JSON.stringify(S).slice(1,25):(K=!1,de&&typeof S=="string"&&de.test(S)&&(S="'"+S,K=!0),W=S.toString().replace(te,be),(K=K||M===!0||typeof M=="function"&&M(S,U)||Array.isArray(M)&&M[U]||((ie,pe)=>{for(var Ee=0;Ee<pe.length;Ee++)if(-1<ie.indexOf(pe[Ee]))return!0;return!1})(W,f.BAD_DELIMITERS)||-1<W.indexOf(N)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?ce+W+ce:W)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=P,f.ParserHandle=w,f.NetworkStreamer=p,f.FileStreamer=x,f.StringStreamer=m,f.ReadableStreamStreamer=E,n.jQuery&&((i=n.jQuery).fn.parse=function(A){var b=A.config||{},M=[];return this.each(function(B){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ce=0;ce<this.files.length;ce++)M.push({file:this.files[ce],inputElem:this,instanceConfig:i.extend({},b)})}),C(),this;function C(){if(M.length===0)F(A.complete)&&A.complete();else{var B,ce,be,ke,Te=M[0];if(F(A.before)){var de=A.before(Te.file,Te.inputElem);if(typeof de=="object"){if(de.action==="abort")return B="AbortError",ce=Te.file,be=Te.inputElem,ke=de.reason,void(F(A.error)&&A.error({name:B},ce,be,ke));if(de.action==="skip")return void N();typeof de.config=="object"&&(Te.instanceConfig=i.extend(Te.instanceConfig,de.config))}else if(de==="skip")return void N()}var te=Te.instanceConfig.complete;Te.instanceConfig.complete=function(Ce){F(te)&&te(Ce,Te.file,Te.inputElem),N()},f.parse(Te.file,Te.instanceConfig)}}function N(){M.splice(0,1),C()}}),a&&(n.onmessage=function(A){A=A.data,f.WORKER_ID===void 0&&A&&(f.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=f.parse(A.input,A.config))&&n.postMessage({workerId:f.WORKER_ID,results:A,finished:!0})}),(p.prototype=Object.create(h.prototype)).constructor=p,(x.prototype=Object.create(h.prototype)).constructor=x,(m.prototype=Object.create(m.prototype)).constructor=m,(E.prototype=Object.create(h.prototype)).constructor=E,f})})(lg)),lg.exports}var iV=nV();const sV=vA(iV);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var RI=1252,aV=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],J_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Z_=function(r){aV.indexOf(r)!=-1&&(RI=J_[0]=r)};function oV(){Z_(1252)}var gl=function(r){Z_(r)};function LI(){gl(1200),oV()}function WT(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function lV(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function FI(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var op=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?lV(r.slice(2)):e==254&&t==255?FI(r.slice(2)):e==65279?r.slice(1):r},Cm=function(e){return String.fromCharCode(e)},GT=function(e){return String.fromCharCode(e)},Kp,ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $T(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0,c=0,f=0;f<r.length;)t=r.charCodeAt(f++),s=t>>2,n=r.charCodeAt(f++),a=(t&3)<<4|n>>4,i=r.charCodeAt(f++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),e+=ju.charAt(s)+ju.charAt(a)+ju.charAt(o)+ju.charAt(c);return e}function bo(r){var e="",t=0,n=0,i=0,s=0,a=0,o=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<r.length;)s=ju.indexOf(r.charAt(f++)),a=ju.indexOf(r.charAt(f++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=ju.indexOf(r.charAt(f++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),c=ju.indexOf(r.charAt(f++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Kr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),bh=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function sf(r){return Kr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function KT(r){return Kr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ml=function(e){return Kr?bh(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Ah(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function ew(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return ew(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var Ou=Kr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:bh(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function cV(r){for(var e=[],t=0,n=r.length+250,i=sf(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>n&&(e.push(i.slice(0,t)),t=0,i=sf(65535),n=65530)}return e.push(i.slice(0,t)),Ou(e)}var Ma=/\u0000/g,lp=/[\u0001-\u0006]/g;function Sd(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function vl(r,e){var t=""+r;return t.length>=e?t:Ai("0",e-t.length)+t}function tw(r,e){var t=""+r;return t.length>=e?t:Ai(" ",e-t.length)+t}function Mg(r,e){var t=""+r;return t.length>=e?t:t+Ai(" ",e-t.length)}function uV(r,e){var t=""+Math.round(r);return t.length>=e?t:Ai("0",e-t.length)+t}function fV(r,e){var t=""+r;return t.length>=e?t:Ai("0",e-t.length)+t}var XT=Math.pow(2,32);function sd(r,e){if(r>XT||r<-XT)return uV(r,e);var t=Math.round(r);return fV(t,e)}function Bg(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var YT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],H2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function hV(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',r}var Ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},QT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},dV={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vg(r,e,t){for(var n=r<0?-1:1,i=r*n,s=0,a=1,o=0,c=1,f=0,h=0,p=Math.floor(i);f<e&&(p=Math.floor(i),o=p*a+s,h=p*f+c,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,c=f,f=h;if(h>e&&(f>e?(h=c,o=s):(h=f,o=a)),!t)return[0,n*o,h];var x=Math.floor(n*o/h);return[x,n*o-x*h,h]}function Kf(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,a=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),t&&(s=yV(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var DI=new Date(1899,11,31,0,0,0),pV=DI.getTime(),mV=new Date(1900,2,1,0,0,0);function OI(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=mV&&(t+=1440*60*1e3),(t-(pV+(r.getTimezoneOffset()-DI.getTimezoneOffset())*6e4))/(1440*60*1e3)}function rw(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gV(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vV(r){var e=r<0?12:11,t=rw(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function xV(r){var e=rw(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function Xp(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=vV(r):e===10?t=r.toFixed(10).substr(0,12):t=xV(r),rw(gV(t.toUpperCase()))}function mh(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Xp(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Go(14,OI(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function yV(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function _V(r,e,t,n){var i="",s=0,a=0,o=t.y,c,f=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,f=e.length;break;case 3:return H2[t.m-1][1];case 5:return H2[t.m-1][0];default:return H2[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,f=e.length;break;case 3:return YT[t.q][0];default:return YT[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?vl(t.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=vl(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=o,f=1;break}var h=f>0?vl(c,f):"";return h}function Uu(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var MI=/%/g;function wV(r,e,t){var n=e.replace(MI,""),i=e.length-n.length;return Fc(r,n,t*Math.pow(10,2*i))+Ai("%",i)}function EV(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Fc(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function BI(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+BI(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var VI=/# (\?+)( ?)\/( ?)(\d+)/;function TV(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return t+(s===0?"":""+s)+" "+(a===0?Ai(" ",r[1].length+1+r[4].length):tw(a,r[1].length)+r[2]+"/"+r[3]+vl(o,r[4].length))}function bV(r,e,t){return t+(e===0?"":""+e)+Ai(" ",r[1].length+2+r[4].length)}var jI=/^#*0*\.([0#]+)/,UI=/\).*[0#]/,zI=/\(###\) ###\\?-####/;function Fa(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function JT(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function ZT(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function AV(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function SV(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function zo(r,e,t){if(r.charCodeAt(0)===40&&!e.match(UI)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?zo("n",n,t):"("+zo("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return EV(r,e,t);if(e.indexOf("%")!==-1)return wV(r,e,t);if(e.indexOf("E")!==-1)return BI(e,t);if(e.charCodeAt(0)===36)return"$"+zo(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+sd(c,e.length);if(e.match(/^[#?]+$/))return i=sd(t,0),i==="0"&&(i=""),i.length>e.length?i:Fa(e.substr(0,e.length-i.length))+i;if(s=e.match(VI))return TV(s,c,f);if(e.match(/^#+0+$/))return f+sd(c,e.length-e.indexOf("0"));if(s=e.match(jI))return i=JT(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Fa(s[1])).replace(/\.$/,"."+Fa(s[1])).replace(/\.(\d*)$/,function(E,w){return"."+w+Ai("0",Fa(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+JT(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Uu(sd(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+zo(r,e,-t):Uu(""+(Math.floor(t)+AV(t,s[1].length)))+"."+vl(ZT(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return zo(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Sd(zo(r,e.replace(/[\\-]/g,""),t)),a=0,Sd(Sd(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<i.length?i.charAt(a++):E==="0"?"0":""}));if(e.match(zI))return i=zo(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Vg(c,Math.pow(10,a)-1,!1),i=""+f,h=Fc("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=Mg(o[2],a),h.length<s[4].length&&(h=Fa(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Vg(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?tw(o[1],a)+s[2]+"/"+s[3]+Mg(o[2],a):Ai(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=sd(t,0),e.length<=i.length?i:Fa(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,x=e.length-i.length-p;return Fa(e.substr(0,p)+i+e.substr(e.length-x))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=ZT(t,s[1].length),t<0?"-"+zo(r,e,-t):Uu(SV(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?vl(0,3-E.length):"")+E})+"."+vl(a,s[1].length);switch(e){case"###,##0.00":return zo(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Uu(sd(c,0));return m!=="0"?f+m:"";case"###,###.00":return zo(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return zo(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function kV(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Fc(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function IV(r,e,t){var n=e.replace(MI,""),i=e.length-n.length;return Fc(r,n,t*Math.pow(10,2*i))+Ai("%",i)}function qI(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qI(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function zl(r,e,t){if(r.charCodeAt(0)===40&&!e.match(UI)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?zl("n",n,t):"("+zl("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return kV(r,e,t);if(e.indexOf("%")!==-1)return IV(r,e,t);if(e.indexOf("E")!==-1)return qI(e,t);if(e.charCodeAt(0)===36)return"$"+zl(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+vl(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Fa(e.substr(0,e.length-i.length))+i;if(s=e.match(VI))return bV(s,c,f);if(e.match(/^#+0+$/))return f+vl(c,e.length-e.indexOf("0"));if(s=e.match(jI))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Fa(s[1])).replace(/\.$/,"."+Fa(s[1])),i=i.replace(/\.(\d*)$/,function(E,w){return"."+w+Ai("0",Fa(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Uu(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+zl(r,e,-t):Uu(""+t)+"."+Ai("0",s[1].length);if(s=e.match(/^#,#*,#0/))return zl(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Sd(zl(r,e.replace(/[\\-]/g,""),t)),a=0,Sd(Sd(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<i.length?i.charAt(a++):E==="0"?"0":""}));if(e.match(zI))return i=zl(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Vg(c,Math.pow(10,a)-1,!1),i=""+f,h=Fc("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=Mg(o[2],a),h.length<s[4].length&&(h=Fa(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Vg(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?tw(o[1],a)+s[2]+"/"+s[3]+Mg(o[2],a):Ai(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Fa(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,x=e.length-i.length-p;return Fa(e.substr(0,p)+i+e.substr(e.length-x))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+zl(r,e,-t):Uu(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?vl(0,3-E.length):"")+E})+"."+vl(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Uu(""+c);return m!=="0"?f+m:"";default:if(e.match(/\.[0#?]*$/))return zl(r,e.slice(0,e.lastIndexOf(".")),t)+Fa(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Fc(r,e,t){return(t|0)===t?zl(r,e,t):zo(r,e,t)}function CV(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var HI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function m0(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":Bg(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(HI))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function NV(r,e,t,n){for(var i=[],s="",a=0,o="",c="t",f,h,p,x="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!Bg(r,a))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=r.charAt(++a),E=m==="("||m===")"?m:"t";i[i.length]={t:E,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(f==null&&(f=Kf(e,t,r.charAt(a+1)==="2"),f==null))return"";i[i.length]={t:"X",v:r.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Kf(e,t),f==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"上":var w={t:o,v:o};if(f==null&&(f=Kf(e,t)),r.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",x="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",a+=5,x="h"):r.substr(a,5).toUpperCase()==="上午/下午"?(f!=null&&(w.v=f.H>=12?"下午":"上午"),w.t="T",a+=5,x="h"):(w.t="t",++a),f==null&&w.t==="T")return"";i[i.length]=w,c=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(HI)){if(f==null&&(f=Kf(e,t),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",m0(r)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++a;break}var T=0,P=0,j;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=x,c="h",T<1&&(T=1);break;case"s":(j=i[a].v.match(/\.0+$/))&&(P=Math.max(P,j[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[a].v.match(/[Hh]/)&&(T=1),T<2&&i[a].v.match(/[Mm]/)&&(T=2),T<3&&i[a].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var D="",q;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=_V(i[a].t.charCodeAt(0),i[a].v,f,P),i[a].t="t";break;case"n":case"?":for(q=a+1;i[q]!=null&&((o=i[q].t)==="?"||o==="D"||(o===" "||o==="t")&&i[q+1]!=null&&(i[q+1].t==="?"||i[q+1].t==="t"&&i[q+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[q].v==="/"||i[q].v===" "&&i[q+1]!=null&&i[q+1].t=="?"));)i[a].v+=i[q].v,i[q]={v:"",t:";"},++q;D+=i[a].v,a=q-1;break;case"G":i[a].t="t",i[a].v=mh(e,t);break}var se="",Q,F;if(D.length>0){D.charCodeAt(0)==40?(Q=e<0&&D.charCodeAt(0)===45?-e:e,F=Fc("n",D,Q)):(Q=e<0&&n>1?-e:e,F=Fc("n",D,Q),Q<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),q=F.length-1;var A=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){A=a;break}var b=i.length;if(A===i.length&&F.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(q>=i[a].v.length-1?(q-=i[a].v.length,i[a].v=F.substr(q+1,i[a].v.length)):q<0?i[a].v="":(i[a].v=F.substr(0,q+1),q=-1),i[a].t="t",b=a);q>=0&&b<i.length&&(i[b].v=F.substr(0,q+1)+i[b].v)}else if(A!==i.length&&F.indexOf("E")===-1){for(q=F.indexOf(".")-1,a=A;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===A?i[a].v.indexOf(".")-1:i[a].v.length-1,se=i[a].v.substr(h+1);h>=0;--h)q>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(se=F.charAt(q--)+se);i[a].v=se,i[a].t="t",b=a}for(q>=0&&b<i.length&&(i[b].v=F.substr(0,q+1)+i[b].v),q=F.indexOf(".")+1,a=A;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==A)){for(h=i[a].v.indexOf(".")>-1&&a===A?i[a].v.indexOf(".")+1:0,se=i[a].v.substr(0,h);h<i[a].v.length;++h)q<F.length&&(se+=F.charAt(q++));i[a].v=se,i[a].t="t",b=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(Q=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Fc(i[a].t,i[a].v,Q),i[a].t="t");var M="";for(a=0;a!==i.length;++a)i[a]!=null&&(M+=i[a].v);return M}var eb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function tb(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function PV(r,e){var t=CV(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(eb),o=t[1].match(eb);return tb(e,a)?[n,t[0]]:tb(e,o)?[n,t[1]]:[n,t[a!=null&&o!=null?2:1]]}return[n,s]}function Go(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Ir)[r],n==null&&(n=t.table&&t.table[QT[r]]||Ir[QT[r]]),n==null&&(n=dV[r]||"General");break}if(Bg(n,0))return mh(e,t);e instanceof Date&&(e=OI(e,t.date1904));var i=PV(n,e);if(Bg(i[1]))return mh(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return NV(i[1],e,t,i[0])}function Zf(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Ir[t]==null){e<0&&(e=t);continue}if(Ir[t]==r){e=t;break}}e<0&&(e=391)}return Ir[e]=r,e}function WI(){Ir=hV()}var RV={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},GI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function LV(r){var e=typeof r=="number"?Ir[r]:r;return e=e.replace(GI,"(\\d+)"),new RegExp("^"+e+"$")}function FV(r,e,t){var n=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(e.match(GI)||[]).forEach(function(p,x){var m=parseInt(t[x+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":c=m;break;case"m":a>=0?o=m:i=m;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?f:n==-1&&i==-1&&s==-1?h:f+"T"+h}var DV=(function(){var r={};r.version="1.2.0";function e(){for(var F=0,A=new Array(256),b=0;b!=256;++b)F=b,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,A[b]=F;return typeof Int32Array<"u"?new Int32Array(A):A}var t=e();function n(F){var A=0,b=0,M=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)C[M]=F[M];for(M=0;M!=256;++M)for(b=F[M],A=256+M;A<4096;A+=256)b=C[A]=b>>>8^F[b&255];var N=[];for(M=1;M!=16;++M)N[M-1]=typeof Int32Array<"u"?C.subarray(M*256,M*256+256):C.slice(M*256,M*256+256);return N}var i=n(t),s=i[0],a=i[1],o=i[2],c=i[3],f=i[4],h=i[5],p=i[6],x=i[7],m=i[8],E=i[9],w=i[10],T=i[11],P=i[12],j=i[13],D=i[14];function q(F,A){for(var b=A^-1,M=0,C=F.length;M<C;)b=b>>>8^t[(b^F.charCodeAt(M++))&255];return~b}function se(F,A){for(var b=A^-1,M=F.length-15,C=0;C<M;)b=D[F[C++]^b&255]^j[F[C++]^b>>8&255]^P[F[C++]^b>>16&255]^T[F[C++]^b>>>24]^w[F[C++]]^E[F[C++]]^m[F[C++]]^x[F[C++]]^p[F[C++]]^h[F[C++]]^f[F[C++]]^c[F[C++]]^o[F[C++]]^a[F[C++]]^s[F[C++]]^t[F[C++]];for(M+=15;C<M;)b=b>>>8^t[(b^F[C++])&255];return~b}function Q(F,A){for(var b=A^-1,M=0,C=F.length,N=0,B=0;M<C;)N=F.charCodeAt(M++),N<128?b=b>>>8^t[(b^N)&255]:N<2048?(b=b>>>8^t[(b^(192|N>>6&31))&255],b=b>>>8^t[(b^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,B=F.charCodeAt(M++)&1023,b=b>>>8^t[(b^(240|N>>8&7))&255],b=b>>>8^t[(b^(128|N>>2&63))&255],b=b>>>8^t[(b^(128|B>>6&15|(N&3)<<4))&255],b=b>>>8^t[(b^(128|B&63))&255]):(b=b>>>8^t[(b^(224|N>>12&15))&255],b=b>>>8^t[(b^(128|N>>6&63))&255],b=b>>>8^t[(b^(128|N&63))&255]);return~b}return r.table=t,r.bstr=q,r.buf=se,r.str=Q,r})(),Jr=(function(){var e={};e.version="1.2.1";function t(J,ye){for(var fe=J.split("/"),he=ye.split("/"),_e=0,we=0,je=Math.min(fe.length,he.length);_e<je;++_e){if(we=fe[_e].length-he[_e].length)return we;if(fe[_e]!=he[_e])return fe[_e]<he[_e]?-1:1}return fe.length-he.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var ye=J.lastIndexOf("/");return ye===-1?J:J.slice(0,ye+1)}function i(J){if(J.charAt(J.length-1)=="/")return i(J.slice(0,-1));var ye=J.lastIndexOf("/");return ye===-1?J:J.slice(ye+1)}function s(J,ye){typeof ye=="string"&&(ye=new Date(ye));var fe=ye.getHours();fe=fe<<6|ye.getMinutes(),fe=fe<<5|ye.getSeconds()>>>1,J.write_shift(2,fe);var he=ye.getFullYear()-1980;he=he<<4|ye.getMonth()+1,he=he<<5|ye.getDate(),J.write_shift(2,he)}function a(J){var ye=J.read_shift(2)&65535,fe=J.read_shift(2)&65535,he=new Date,_e=fe&31;fe>>>=5;var we=fe&15;fe>>>=4,he.setMilliseconds(0),he.setFullYear(fe+1980),he.setMonth(we-1),he.setDate(_e);var je=ye&31;ye>>>=5;var Qe=ye&63;return ye>>>=6,he.setHours(ye),he.setMinutes(Qe),he.setSeconds(je<<1),he}function o(J){Hs(J,0);for(var ye={},fe=0;J.l<=J.length-4;){var he=J.read_shift(2),_e=J.read_shift(2),we=J.l+_e,je={};switch(he){case 21589:fe=J.read_shift(1),fe&1&&(je.mtime=J.read_shift(4)),_e>5&&(fe&2&&(je.atime=J.read_shift(4)),fe&4&&(je.ctime=J.read_shift(4))),je.mtime&&(je.mt=new Date(je.mtime*1e3));break}J.l=we,ye[he]=je}return ye}var c;function f(){return c||(c={})}function h(J,ye){if(J[0]==80&&J[1]==75)return hn(J,ye);if((J[0]|32)==109&&(J[1]|32)==105)return nr(J,ye);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var fe=3,he=512,_e=0,we=0,je=0,Qe=0,qe=0,He=[],Ke=J.slice(0,512);Hs(Ke,0);var ht=p(Ke);switch(fe=ht[0],fe){case 3:he=512;break;case 4:he=4096;break;case 0:if(ht[1]==0)return hn(J,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}he!==512&&(Ke=J.slice(0,he),Hs(Ke,28));var At=J.slice(0,he);x(Ke,fe);var Ct=Ke.read_shift(4,"i");if(fe===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);Ke.l+=4,je=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),Qe=Ke.read_shift(4,"i"),_e=Ke.read_shift(4,"i"),qe=Ke.read_shift(4,"i"),we=Ke.read_shift(4,"i");for(var Et=-1,mt=0;mt<109&&(Et=Ke.read_shift(4,"i"),!(Et<0));++mt)He[mt]=Et;var cr=m(J,he);T(qe,we,cr,he,He);var Ur=j(cr,je,He,he);Ur[je].name="!Directory",_e>0&&Qe!==B&&(Ur[Qe].name="!MiniFAT"),Ur[He[0]].name="!FAT",Ur.fat_addrs=He,Ur.ssz=he;var Er={},Gr=[],Ks=[],Xs=[];D(je,Ur,cr,Gr,_e,Er,Ks,Qe),E(Ks,Xs,Gr),Gr.shift();var ms={FileIndex:Ks,FullPaths:Xs};return ye&&ye.raw&&(ms.raw={header:At,sectors:cr}),ms}function p(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(ce,"Header Signature: "),J.l+=16;var ye=J.read_shift(2,"u");return[J.read_shift(2,"u"),ye]}function x(J,ye){var fe=9;switch(J.l+=2,fe=J.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function m(J,ye){for(var fe=Math.ceil(J.length/ye)-1,he=[],_e=1;_e<fe;++_e)he[_e-1]=J.slice(_e*ye,(_e+1)*ye);return he[fe-1]=J.slice(fe*ye),he}function E(J,ye,fe){for(var he=0,_e=0,we=0,je=0,Qe=0,qe=fe.length,He=[],Ke=[];he<qe;++he)He[he]=Ke[he]=he,ye[he]=fe[he];for(;Qe<Ke.length;++Qe)he=Ke[Qe],_e=J[he].L,we=J[he].R,je=J[he].C,He[he]===he&&(_e!==-1&&He[_e]!==_e&&(He[he]=He[_e]),we!==-1&&He[we]!==we&&(He[he]=He[we])),je!==-1&&(He[je]=he),_e!==-1&&he!=He[he]&&(He[_e]=He[he],Ke.lastIndexOf(_e)<Qe&&Ke.push(_e)),we!==-1&&he!=He[he]&&(He[we]=He[he],Ke.lastIndexOf(we)<Qe&&Ke.push(we));for(he=1;he<qe;++he)He[he]===he&&(we!==-1&&He[we]!==we?He[he]=He[we]:_e!==-1&&He[_e]!==_e&&(He[he]=He[_e]));for(he=1;he<qe;++he)if(J[he].type!==0){if(Qe=he,Qe!=He[Qe])do Qe=He[Qe],ye[he]=ye[Qe]+"/"+ye[he];while(Qe!==0&&He[Qe]!==-1&&Qe!=He[Qe]);He[he]=-1}for(ye[0]+="/",he=1;he<qe;++he)J[he].type!==2&&(ye[he]+="/")}function w(J,ye,fe){for(var he=J.start,_e=J.size,we=[],je=he;fe&&_e>0&&je>=0;)we.push(ye.slice(je*N,je*N+N)),_e-=N,je=Gf(fe,je*4);return we.length===0?cs(0):Ou(we).slice(0,J.size)}function T(J,ye,fe,he,_e){var we=B;if(J===B){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var je=fe[J],Qe=(he>>>2)-1;if(!je)return;for(var qe=0;qe<Qe&&(we=Gf(je,qe*4))!==B;++qe)_e.push(we);T(Gf(je,he-4),ye-1,fe,he,_e)}}function P(J,ye,fe,he,_e){var we=[],je=[];_e||(_e=[]);var Qe=he-1,qe=0,He=0;for(qe=ye;qe>=0;){_e[qe]=!0,we[we.length]=qe,je.push(J[qe]);var Ke=fe[Math.floor(qe*4/he)];if(He=qe*4&Qe,he<4+He)throw new Error("FAT boundary crossed: "+qe+" 4 "+he);if(!J[Ke])break;qe=Gf(J[Ke],He)}return{nodes:we,data:fb([je])}}function j(J,ye,fe,he){var _e=J.length,we=[],je=[],Qe=[],qe=[],He=he-1,Ke=0,ht=0,At=0,Ct=0;for(Ke=0;Ke<_e;++Ke)if(Qe=[],At=Ke+ye,At>=_e&&(At-=_e),!je[At]){qe=[];var Et=[];for(ht=At;ht>=0;){Et[ht]=!0,je[ht]=!0,Qe[Qe.length]=ht,qe.push(J[ht]);var mt=fe[Math.floor(ht*4/he)];if(Ct=ht*4&He,he<4+Ct)throw new Error("FAT boundary crossed: "+ht+" 4 "+he);if(!J[mt]||(ht=Gf(J[mt],Ct),Et[ht]))break}we[At]={nodes:Qe,data:fb([qe])}}return we}function D(J,ye,fe,he,_e,we,je,Qe){for(var qe=0,He=he.length?2:0,Ke=ye[J].data,ht=0,At=0,Ct;ht<Ke.length;ht+=128){var Et=Ke.slice(ht,ht+128);Hs(Et,64),At=Et.read_shift(2),Ct=ow(Et,0,At-He),he.push(Ct);var mt={name:Ct,type:Et.read_shift(1),color:Et.read_shift(1),L:Et.read_shift(4,"i"),R:Et.read_shift(4,"i"),C:Et.read_shift(4,"i"),clsid:Et.read_shift(16),state:Et.read_shift(4,"i"),start:0,size:0},cr=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);cr!==0&&(mt.ct=q(Et,Et.l-8));var Ur=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);Ur!==0&&(mt.mt=q(Et,Et.l-8)),mt.start=Et.read_shift(4,"i"),mt.size=Et.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=B,mt.name=""),mt.type===5?(qe=mt.start,_e>0&&qe!==B&&(ye[qe].name="!StreamData")):mt.size>=4096?(mt.storage="fat",ye[mt.start]===void 0&&(ye[mt.start]=P(fe,mt.start,ye.fat_addrs,ye.ssz)),ye[mt.start].name=mt.name,mt.content=ye[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:qe!==B&&mt.start!==B&&ye[qe]&&(mt.content=w(mt,ye[qe].data,(ye[Qe]||{}).data))),mt.content&&Hs(mt.content,0),we[Ct]=mt,je.push(mt)}}function q(J,ye){return new Date((xo(J,ye+4)/1e7*Math.pow(2,32)+xo(J,ye)/1e7-11644473600)*1e3)}function se(J,ye){return f(),h(c.readFileSync(J),ye)}function Q(J,ye){var fe=ye&&ye.type;switch(fe||Kr&&Buffer.isBuffer(J)&&(fe="buffer"),fe||"base64"){case"file":return se(J,ye);case"base64":return h(ml(bo(J)),ye);case"binary":return h(ml(J),ye)}return h(J,ye)}function F(J,ye){var fe=ye||{},he=fe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=he+"/",J.FileIndex[0]={name:he,type:5}),fe.CLSID&&(J.FileIndex[0].clsid=fe.CLSID),A(J)}function A(J){var ye="Sh33tJ5";if(!Jr.find(J,"/"+ye)){var fe=cs(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,J.FileIndex.push({name:ye,type:2,content:fe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+ye),b(J)}}function b(J,ye){F(J);for(var fe=!1,he=!1,_e=J.FullPaths.length-1;_e>=0;--_e){var we=J.FileIndex[_e];switch(we.type){case 0:he?fe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(we.R*we.L*we.C)&&(fe=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!ye)){var je=new Date(1987,1,19),Qe=0,qe=Object.create?Object.create(null):{},He=[];for(_e=0;_e<J.FullPaths.length;++_e)qe[J.FullPaths[_e]]=!0,J.FileIndex[_e].type!==0&&He.push([J.FullPaths[_e],J.FileIndex[_e]]);for(_e=0;_e<He.length;++_e){var Ke=n(He[_e][0]);he=qe[Ke],he||(He.push([Ke,{name:i(Ke).replace("/",""),type:1,clsid:ke,ct:je,mt:je,content:null}]),qe[Ke]=!0)}for(He.sort(function(Ct,Et){return t(Ct[0],Et[0])}),J.FullPaths=[],J.FileIndex=[],_e=0;_e<He.length;++_e)J.FullPaths[_e]=He[_e][0],J.FileIndex[_e]=He[_e][1];for(_e=0;_e<He.length;++_e){var ht=J.FileIndex[_e],At=J.FullPaths[_e];if(ht.name=i(At).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||ke,_e===0)ht.C=He.length>1?1:-1,ht.size=0,ht.type=5;else if(At.slice(-1)=="/"){for(Qe=_e+1;Qe<He.length&&n(J.FullPaths[Qe])!=At;++Qe);for(ht.C=Qe>=He.length?-1:Qe,Qe=_e+1;Qe<He.length&&n(J.FullPaths[Qe])!=n(At);++Qe);ht.R=Qe>=He.length?-1:Qe,ht.type=1}else n(J.FullPaths[_e+1]||"")==n(At)&&(ht.R=_e+1),ht.type=2}}}function M(J,ye){var fe=ye||{};if(fe.fileType=="mad")return en(J,fe);switch(b(J),fe.fileType){case"zip":return Nr(J,fe)}var he=(function(Ct){for(var Et=0,mt=0,cr=0;cr<Ct.FileIndex.length;++cr){var Ur=Ct.FileIndex[cr];if(Ur.content){var Er=Ur.content.length;Er>0&&(Er<4096?Et+=Er+63>>6:mt+=Er+511>>9)}}for(var Gr=Ct.FullPaths.length+3>>2,Ks=Et+7>>3,Xs=Et+127>>7,ms=Ks+mt+Gr+Xs,Mn=ms+127>>7,to=Mn<=109?0:Math.ceil((Mn-109)/127);ms+Mn+to+127>>7>Mn;)to=++Mn<=109?0:Math.ceil((Mn-109)/127);var un=[1,to,Mn,Xs,Gr,mt,Et,0];return Ct.FileIndex[0].size=Et<<6,un[7]=(Ct.FileIndex[0].start=un[0]+un[1]+un[2]+un[3]+un[4]+un[5])+(un[6]+7>>3),un})(J),_e=cs(he[7]<<9),we=0,je=0;{for(we=0;we<8;++we)_e.write_shift(1,be[we]);for(we=0;we<8;++we)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),we=0;we<3;++we)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,he[2]),_e.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:B),_e.write_shift(4,he[3]),_e.write_shift(-4,he[1]?he[0]-1:B),_e.write_shift(4,he[1]),we=0;we<109;++we)_e.write_shift(-4,we<he[2]?he[1]+we:-1)}if(he[1])for(je=0;je<he[1];++je){for(;we<236+je*127;++we)_e.write_shift(-4,we<he[2]?he[1]+we:-1);_e.write_shift(-4,je===he[1]-1?B:je+1)}var Qe=function(Ct){for(je+=Ct;we<je-1;++we)_e.write_shift(-4,we+1);Ct&&(++we,_e.write_shift(-4,B))};for(je=we=0,je+=he[1];we<je;++we)_e.write_shift(-4,Te.DIFSECT);for(je+=he[2];we<je;++we)_e.write_shift(-4,Te.FATSECT);Qe(he[3]),Qe(he[4]);for(var qe=0,He=0,Ke=J.FileIndex[0];qe<J.FileIndex.length;++qe)Ke=J.FileIndex[qe],Ke.content&&(He=Ke.content.length,!(He<4096)&&(Ke.start=je,Qe(He+511>>9)));for(Qe(he[6]+7>>3);_e.l&511;)_e.write_shift(-4,Te.ENDOFCHAIN);for(je=we=0,qe=0;qe<J.FileIndex.length;++qe)Ke=J.FileIndex[qe],Ke.content&&(He=Ke.content.length,!(!He||He>=4096)&&(Ke.start=je,Qe(He+63>>6)));for(;_e.l&511;)_e.write_shift(-4,Te.ENDOFCHAIN);for(we=0;we<he[4]<<2;++we){var ht=J.FullPaths[we];if(!ht||ht.length===0){for(qe=0;qe<17;++qe)_e.write_shift(4,0);for(qe=0;qe<3;++qe)_e.write_shift(4,-1);for(qe=0;qe<12;++qe)_e.write_shift(4,0);continue}Ke=J.FileIndex[we],we===0&&(Ke.start=Ke.size?Ke.start-1:B);var At=we===0&&fe.root||Ke.name;if(He=2*(At.length+1),_e.write_shift(64,At,"utf16le"),_e.write_shift(2,He),_e.write_shift(1,Ke.type),_e.write_shift(1,Ke.color),_e.write_shift(-4,Ke.L),_e.write_shift(-4,Ke.R),_e.write_shift(-4,Ke.C),Ke.clsid)_e.write_shift(16,Ke.clsid,"hex");else for(qe=0;qe<4;++qe)_e.write_shift(4,0);_e.write_shift(4,Ke.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,Ke.start),_e.write_shift(4,Ke.size),_e.write_shift(4,0)}for(we=1;we<J.FileIndex.length;++we)if(Ke=J.FileIndex[we],Ke.size>=4096)if(_e.l=Ke.start+1<<9,Kr&&Buffer.isBuffer(Ke.content))Ke.content.copy(_e,_e.l,0,Ke.size),_e.l+=Ke.size+511&-512;else{for(qe=0;qe<Ke.size;++qe)_e.write_shift(1,Ke.content[qe]);for(;qe&511;++qe)_e.write_shift(1,0)}for(we=1;we<J.FileIndex.length;++we)if(Ke=J.FileIndex[we],Ke.size>0&&Ke.size<4096)if(Kr&&Buffer.isBuffer(Ke.content))Ke.content.copy(_e,_e.l,0,Ke.size),_e.l+=Ke.size+63&-64;else{for(qe=0;qe<Ke.size;++qe)_e.write_shift(1,Ke.content[qe]);for(;qe&63;++qe)_e.write_shift(1,0)}if(Kr)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function C(J,ye){var fe=J.FullPaths.map(function(qe){return qe.toUpperCase()}),he=fe.map(function(qe){var He=qe.split("/");return He[He.length-(qe.slice(-1)=="/"?2:1)]}),_e=!1;ye.charCodeAt(0)===47?(_e=!0,ye=fe[0].slice(0,-1)+ye):_e=ye.indexOf("/")!==-1;var we=ye.toUpperCase(),je=_e===!0?fe.indexOf(we):he.indexOf(we);if(je!==-1)return J.FileIndex[je];var Qe=!we.match(lp);for(we=we.replace(Ma,""),Qe&&(we=we.replace(lp,"!")),je=0;je<fe.length;++je)if((Qe?fe[je].replace(lp,"!"):fe[je]).replace(Ma,"")==we||(Qe?he[je].replace(lp,"!"):he[je]).replace(Ma,"")==we)return J.FileIndex[je];return null}var N=64,B=-2,ce="d0cf11e0a1b11ae1",be=[208,207,17,224,161,177,26,225],ke="00000000000000000000000000000000",Te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ke,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(J,ye,fe){f();var he=M(J,fe);c.writeFileSync(ye,he)}function te(J){for(var ye=new Array(J.length),fe=0;fe<J.length;++fe)ye[fe]=String.fromCharCode(J[fe]);return ye.join("")}function Ce(J,ye){var fe=M(J,ye);switch(ye&&ye.type||"buffer"){case"file":return f(),c.writeFileSync(ye.filename,fe),fe;case"binary":return typeof fe=="string"?fe:te(fe);case"base64":return $T(typeof fe=="string"?fe:te(fe));case"buffer":if(Kr)return Buffer.isBuffer(fe)?fe:bh(fe);case"array":return typeof fe=="string"?ml(fe):fe}return fe}var re;function S(J){try{var ye=J.InflateRaw,fe=new ye;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)re=J;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function U(J,ye){if(!re)return wr(J,ye);var fe=re.InflateRaw,he=new fe,_e=he._processChunk(J.slice(J.l),he._finishFlushFlag);return J.l+=he.bytesRead,_e}function W(J){return re?re.deflateRawSync(J):yt(J)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(J){var ye=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var xe=typeof Uint8Array<"u",Ae=xe?new Uint8Array(256):[],Me=0;Me<256;++Me)Ae[Me]=Ee(Me);function ae(J,ye){var fe=Ae[J&255];return ye<=8?fe>>>8-ye:(fe=fe<<8|Ae[J>>8&255],ye<=16?fe>>>16-ye:(fe=fe<<8|Ae[J>>16&255],fe>>>24-ye))}function at(J,ye){var fe=ye&7,he=ye>>>3;return(J[he]|(fe<=6?0:J[he+1]<<8))>>>fe&3}function Re(J,ye){var fe=ye&7,he=ye>>>3;return(J[he]|(fe<=5?0:J[he+1]<<8))>>>fe&7}function G(J,ye){var fe=ye&7,he=ye>>>3;return(J[he]|(fe<=4?0:J[he+1]<<8))>>>fe&15}function Fe(J,ye){var fe=ye&7,he=ye>>>3;return(J[he]|(fe<=3?0:J[he+1]<<8))>>>fe&31}function $e(J,ye){var fe=ye&7,he=ye>>>3;return(J[he]|(fe<=1?0:J[he+1]<<8))>>>fe&127}function nt(J,ye,fe){var he=ye&7,_e=ye>>>3,we=(1<<fe)-1,je=J[_e]>>>he;return fe<8-he||(je|=J[_e+1]<<8-he,fe<16-he)||(je|=J[_e+2]<<16-he,fe<24-he)||(je|=J[_e+3]<<24-he),je&we}function tt(J,ye,fe){var he=ye&7,_e=ye>>>3;return he<=5?J[_e]|=(fe&7)<<he:(J[_e]|=fe<<he&255,J[_e+1]=(fe&7)>>8-he),ye+3}function _t(J,ye,fe){var he=ye&7,_e=ye>>>3;return fe=(fe&1)<<he,J[_e]|=fe,ye+1}function ut(J,ye,fe){var he=ye&7,_e=ye>>>3;return fe<<=he,J[_e]|=fe&255,fe>>>=8,J[_e+1]=fe,ye+8}function Wt(J,ye,fe){var he=ye&7,_e=ye>>>3;return fe<<=he,J[_e]|=fe&255,fe>>>=8,J[_e+1]=fe&255,J[_e+2]=fe>>>8,ye+16}function Rt(J,ye){var fe=J.length,he=2*fe>ye?2*fe:ye+5,_e=0;if(fe>=ye)return J;if(Kr){var we=KT(he);if(J.copy)J.copy(we);else for(;_e<J.length;++_e)we[_e]=J[_e];return we}else if(xe){var je=new Uint8Array(he);if(je.set)je.set(J);else for(;_e<fe;++_e)je[_e]=J[_e];return je}return J.length=he,J}function Bt(J){for(var ye=new Array(J),fe=0;fe<J;++fe)ye[fe]=0;return ye}function Ot(J,ye,fe){var he=1,_e=0,we=0,je=0,Qe=0,qe=J.length,He=xe?new Uint16Array(32):Bt(32);for(we=0;we<32;++we)He[we]=0;for(we=qe;we<fe;++we)J[we]=0;qe=J.length;var Ke=xe?new Uint16Array(qe):Bt(qe);for(we=0;we<qe;++we)He[_e=J[we]]++,he<_e&&(he=_e),Ke[we]=0;for(He[0]=0,we=1;we<=he;++we)He[we+16]=Qe=Qe+He[we-1]<<1;for(we=0;we<qe;++we)Qe=J[we],Qe!=0&&(Ke[we]=He[Qe+16]++);var ht=0;for(we=0;we<qe;++we)if(ht=J[we],ht!=0)for(Qe=ae(Ke[we],he)>>he-ht,je=(1<<he+4-ht)-1;je>=0;--je)ye[Qe|je<<ht]=ht&15|we<<4;return he}var bt=xe?new Uint16Array(512):Bt(512),Vt=xe?new Uint16Array(32):Bt(32);if(!xe){for(var Pt=0;Pt<512;++Pt)bt[Pt]=0;for(Pt=0;Pt<32;++Pt)Vt[Pt]=0}(function(){for(var J=[],ye=0;ye<32;ye++)J.push(5);Ot(J,Vt,32);var fe=[];for(ye=0;ye<=143;ye++)fe.push(8);for(;ye<=255;ye++)fe.push(9);for(;ye<=279;ye++)fe.push(7);for(;ye<=287;ye++)fe.push(8);Ot(fe,bt,288)})();var Lt=(function(){for(var ye=xe?new Uint8Array(32768):[],fe=0,he=0;fe<pe.length-1;++fe)for(;he<pe[fe+1];++he)ye[he]=fe;for(;he<32768;++he)ye[he]=29;var _e=xe?new Uint8Array(259):[];for(fe=0,he=0;fe<ie.length-1;++fe)for(;he<ie[fe+1];++he)_e[he]=fe;function we(Qe,qe){for(var He=0;He<Qe.length;){var Ke=Math.min(65535,Qe.length-He),ht=He+Ke==Qe.length;for(qe.write_shift(1,+ht),qe.write_shift(2,Ke),qe.write_shift(2,~Ke&65535);Ke-- >0;)qe[qe.l++]=Qe[He++]}return qe.l}function je(Qe,qe){for(var He=0,Ke=0,ht=xe?new Uint16Array(32768):[];Ke<Qe.length;){var At=Math.min(65535,Qe.length-Ke);if(At<10){for(He=tt(qe,He,+(Ke+At==Qe.length)),He&7&&(He+=8-(He&7)),qe.l=He/8|0,qe.write_shift(2,At),qe.write_shift(2,~At&65535);At-- >0;)qe[qe.l++]=Qe[Ke++];He=qe.l*8;continue}He=tt(qe,He,+(Ke+At==Qe.length)+2);for(var Ct=0;At-- >0;){var Et=Qe[Ke];Ct=(Ct<<5^Et)&32767;var mt=-1,cr=0;if((mt=ht[Ct])&&(mt|=Ke&-32768,mt>Ke&&(mt-=32768),mt<Ke))for(;Qe[mt+cr]==Qe[Ke+cr]&&cr<250;)++cr;if(cr>2){Et=_e[cr],Et<=22?He=ut(qe,He,Ae[Et+1]>>1)-1:(ut(qe,He,3),He+=5,ut(qe,He,Ae[Et-23]>>5),He+=3);var Ur=Et<8?0:Et-4>>2;Ur>0&&(Wt(qe,He,cr-ie[Et]),He+=Ur),Et=ye[Ke-mt],He=ut(qe,He,Ae[Et]>>3),He-=3;var Er=Et<4?0:Et-2>>1;Er>0&&(Wt(qe,He,Ke-mt-pe[Et]),He+=Er);for(var Gr=0;Gr<cr;++Gr)ht[Ct]=Ke&32767,Ct=(Ct<<5^Qe[Ke])&32767,++Ke;At-=cr-1}else Et<=143?Et=Et+48:He=_t(qe,He,1),He=ut(qe,He,Ae[Et]),ht[Ct]=Ke&32767,++Ke}He=ut(qe,He,0)-1}return qe.l=(He+7)/8|0,qe.l}return function(qe,He){return qe.length<8?we(qe,He):je(qe,He)}})();function yt(J){var ye=cs(50+Math.floor(J.length*1.1)),fe=Lt(J,ye);return ye.slice(0,fe)}var Tt=xe?new Uint16Array(32768):Bt(32768),tr=xe?new Uint16Array(32768):Bt(32768),Yt=xe?new Uint16Array(128):Bt(128),Ft=1,fr=1;function Wr(J,ye){var fe=Fe(J,ye)+257;ye+=5;var he=Fe(J,ye)+1;ye+=5;var _e=G(J,ye)+4;ye+=4;for(var we=0,je=xe?new Uint8Array(19):Bt(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,He=xe?new Uint8Array(8):Bt(8),Ke=xe?new Uint8Array(8):Bt(8),ht=je.length,At=0;At<_e;++At)je[K[At]]=we=Re(J,ye),qe<we&&(qe=we),He[we]++,ye+=3;var Ct=0;for(He[0]=0,At=1;At<=qe;++At)Ke[At]=Ct=Ct+He[At-1]<<1;for(At=0;At<ht;++At)(Ct=je[At])!=0&&(Qe[At]=Ke[Ct]++);var Et=0;for(At=0;At<ht;++At)if(Et=je[At],Et!=0){Ct=Ae[Qe[At]]>>8-Et;for(var mt=(1<<7-Et)-1;mt>=0;--mt)Yt[Ct|mt<<Et]=Et&7|At<<3}var cr=[];for(qe=1;cr.length<fe+he;)switch(Ct=Yt[$e(J,ye)],ye+=Ct&7,Ct>>>=3){case 16:for(we=3+at(J,ye),ye+=2,Ct=cr[cr.length-1];we-- >0;)cr.push(Ct);break;case 17:for(we=3+Re(J,ye),ye+=3;we-- >0;)cr.push(0);break;case 18:for(we=11+$e(J,ye),ye+=7;we-- >0;)cr.push(0);break;default:cr.push(Ct),qe<Ct&&(qe=Ct);break}var Ur=cr.slice(0,fe),Er=cr.slice(fe);for(At=fe;At<286;++At)Ur[At]=0;for(At=he;At<30;++At)Er[At]=0;return Ft=Ot(Ur,Tt,286),fr=Ot(Er,tr,30),ye}function rr(J,ye){if(J[0]==3&&!(J[1]&3))return[sf(ye),2];for(var fe=0,he=0,_e=KT(ye||1<<18),we=0,je=_e.length>>>0,Qe=0,qe=0;(he&1)==0;){if(he=Re(J,fe),fe+=3,he>>>1)he>>1==1?(Qe=9,qe=5):(fe=Wr(J,fe),Qe=Ft,qe=fr);else{fe&7&&(fe+=8-(fe&7));var He=J[fe>>>3]|J[(fe>>>3)+1]<<8;if(fe+=32,He>0)for(!ye&&je<we+He&&(_e=Rt(_e,we+He),je=_e.length);He-- >0;)_e[we++]=J[fe>>>3],fe+=8;continue}for(;;){!ye&&je<we+32767&&(_e=Rt(_e,we+32767),je=_e.length);var Ke=nt(J,fe,Qe),ht=he>>>1==1?bt[Ke]:Tt[Ke];if(fe+=ht&15,ht>>>=4,(ht>>>8&255)===0)_e[we++]=ht;else{if(ht==256)break;ht-=257;var At=ht<8?0:ht-4>>2;At>5&&(At=0);var Ct=we+ie[ht];At>0&&(Ct+=nt(J,fe,At),fe+=At),Ke=nt(J,fe,qe),ht=he>>>1==1?Vt[Ke]:tr[Ke],fe+=ht&15,ht>>>=4;var Et=ht<4?0:ht-2>>1,mt=pe[ht];for(Et>0&&(mt+=nt(J,fe,Et),fe+=Et),!ye&&je<Ct&&(_e=Rt(_e,Ct+100),je=_e.length);we<Ct;)_e[we]=_e[we-mt],++we}}}return ye?[_e,fe+7>>>3]:[_e.slice(0,we),fe+7>>>3]}function wr(J,ye){var fe=J.slice(J.l||0),he=rr(fe,ye);return J.l+=he[1],he[0]}function lr(J,ye){if(J)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function hn(J,ye){var fe=J;Hs(fe,0);var he=[],_e=[],we={FileIndex:he,FullPaths:_e};F(we,{root:ye.root});for(var je=fe.length-4;(fe[je]!=80||fe[je+1]!=75||fe[je+2]!=5||fe[je+3]!=6)&&je>=0;)--je;fe.l=je+4,fe.l+=4;var Qe=fe.read_shift(2);fe.l+=6;var qe=fe.read_shift(4);for(fe.l=qe,je=0;je<Qe;++je){fe.l+=20;var He=fe.read_shift(4),Ke=fe.read_shift(4),ht=fe.read_shift(2),At=fe.read_shift(2),Ct=fe.read_shift(2);fe.l+=8;var Et=fe.read_shift(4),mt=o(fe.slice(fe.l+ht,fe.l+ht+At));fe.l+=ht+At+Ct;var cr=fe.l;fe.l=Et+4,Xr(fe,He,Ke,we,mt),fe.l=cr}return we}function Xr(J,ye,fe,he,_e){J.l+=2;var we=J.read_shift(2),je=J.read_shift(2),Qe=a(J);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var qe=J.read_shift(4),He=J.read_shift(4),Ke=J.read_shift(4),ht=J.read_shift(2),At=J.read_shift(2),Ct="",Et=0;Et<ht;++Et)Ct+=String.fromCharCode(J[J.l++]);if(At){var mt=o(J.slice(J.l,J.l+At));(mt[21589]||{}).mt&&(Qe=mt[21589].mt),((_e||{})[21589]||{}).mt&&(Qe=_e[21589].mt)}J.l+=At;var cr=J.slice(J.l,J.l+He);switch(je){case 8:cr=U(J,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+je)}var Ur=!1;we&8&&(qe=J.read_shift(4),qe==134695760&&(qe=J.read_shift(4),Ur=!0),He=J.read_shift(4),Ke=J.read_shift(4)),He!=ye&&lr(Ur,"Bad compressed size: "+ye+" != "+He),Ke!=fe&&lr(Ur,"Bad uncompressed size: "+fe+" != "+Ke),An(he,Ct,cr,{unsafe:!0,mt:Qe})}function Nr(J,ye){var fe=ye||{},he=[],_e=[],we=cs(1),je=fe.compression?8:0,Qe=0,qe=0,He=0,Ke=0,ht=0,At=J.FullPaths[0],Ct=At,Et=J.FileIndex[0],mt=[],cr=0;for(qe=1;qe<J.FullPaths.length;++qe)if(Ct=J.FullPaths[qe].slice(At.length),Et=J.FileIndex[qe],!(!Et.size||!Et.content||Ct=="Sh33tJ5")){var Ur=Ke,Er=cs(Ct.length);for(He=0;He<Ct.length;++He)Er.write_shift(1,Ct.charCodeAt(He)&127);Er=Er.slice(0,Er.l),mt[ht]=DV.buf(Et.content,0);var Gr=Et.content;je==8&&(Gr=W(Gr)),we=cs(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,Qe),we.write_shift(2,je),Et.mt?s(we,Et.mt):we.write_shift(4,0),we.write_shift(-4,mt[ht]),we.write_shift(4,Gr.length),we.write_shift(4,Et.content.length),we.write_shift(2,Er.length),we.write_shift(2,0),Ke+=we.length,he.push(we),Ke+=Er.length,he.push(Er),Ke+=Gr.length,he.push(Gr),we=cs(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,Qe),we.write_shift(2,je),we.write_shift(4,0),we.write_shift(-4,mt[ht]),we.write_shift(4,Gr.length),we.write_shift(4,Et.content.length),we.write_shift(2,Er.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Ur),cr+=we.l,_e.push(we),cr+=Er.length,_e.push(Er),++ht}return we=cs(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,ht),we.write_shift(2,ht),we.write_shift(4,cr),we.write_shift(4,Ke),we.write_shift(2,0),Ou([Ou(he),Ou(_e),we])}var ir={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kr(J,ye){if(J.ctype)return J.ctype;var fe=J.name||"",he=fe.match(/\.([^\.]+)$/);return he&&ir[he[1]]||ye&&(he=(fe=ye).match(/[\.\\]([^\.\\])+$/),he&&ir[he[1]])?ir[he[1]]:"application/octet-stream"}function ka(J){for(var ye=$T(J),fe=[],he=0;he<ye.length;he+=76)fe.push(ye.slice(he,he+76));return fe.join(`\r
`)+`\r
`}function On(J){var ye=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Ke=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],he=ye.split(`\r
`),_e=0;_e<he.length;++_e){var we=he[_e];if(we.length==0){fe.push("");continue}for(var je=0;je<we.length;){var Qe=76,qe=we.slice(je,je+Qe);qe.charAt(Qe-1)=="="?Qe--:qe.charAt(Qe-2)=="="?Qe-=2:qe.charAt(Qe-3)=="="&&(Qe-=3),qe=we.slice(je,je+Qe),je+=Qe,je<we.length&&(qe+="="),fe.push(qe)}}return fe.join(`\r
`)}function Rs(J){for(var ye=[],fe=0;fe<J.length;++fe){for(var he=J[fe];fe<=J.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+J[++fe];ye.push(he)}for(var _e=0;_e<ye.length;++_e)ye[_e]=ye[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return ml(ye.join(`\r
`))}function vi(J,ye,fe){for(var he="",_e="",we="",je,Qe=0;Qe<10;++Qe){var qe=ye[Qe];if(!qe||qe.match(/^\s*$/))break;var He=qe.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":he=He[2].trim();break;case"content-type":we=He[2].trim();break;case"content-transfer-encoding":_e=He[2].trim();break}}switch(++Qe,_e.toLowerCase()){case"base64":je=ml(bo(ye.slice(Qe).join("")));break;case"quoted-printable":je=Rs(ye.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var Ke=An(J,he.slice(fe.length),je,{unsafe:!0});we&&(Ke.ctype=we)}function nr(J,ye){if(te(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=ye&&ye.root||"",he=(Kr&&Buffer.isBuffer(J)?J.toString("binary"):te(J)).split(`\r
`),_e=0,we="";for(_e=0;_e<he.length;++_e)if(we=he[_e],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),fe||(fe=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),we.slice(0,fe.length)!=fe););var je=(he[1]||"").match(/boundary="(.*?)"/);if(!je)throw new Error("MAD cannot find boundary");var Qe="--"+(je[1]||""),qe=[],He=[],Ke={FileIndex:qe,FullPaths:He};F(Ke);var ht,At=0;for(_e=0;_e<he.length;++_e){var Ct=he[_e];Ct!==Qe&&Ct!==Qe+"--"||(At++&&vi(Ke,he.slice(ht,_e),fe),ht=_e)}return Ke}function en(J,ye){var fe=ye||{},he=fe.boundary||"SheetJS";he="------="+he;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],we=J.FullPaths[0],je=we,Qe=J.FileIndex[0],qe=1;qe<J.FullPaths.length;++qe)if(je=J.FullPaths[qe].slice(we.length),Qe=J.FileIndex[qe],!(!Qe.size||!Qe.content||je=="Sh33tJ5")){je=je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(cr){return"_x"+cr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(cr){return"_u"+cr.charCodeAt(0).toString(16)+"_"});for(var He=Qe.content,Ke=Kr&&Buffer.isBuffer(He)?He.toString("binary"):te(He),ht=0,At=Math.min(1024,Ke.length),Ct=0,Et=0;Et<=At;++Et)(Ct=Ke.charCodeAt(Et))>=32&&Ct<128&&++ht;var mt=ht>=At*4/5;_e.push(he),_e.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+je),_e.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),_e.push("Content-Type: "+kr(Qe,je)),_e.push(""),_e.push(mt?On(Ke):ka(Ke))}return _e.push(he+`--\r
`),_e.join(`\r
`)}function ps(J){var ye={};return F(ye,J),ye}function An(J,ye,fe,he){var _e=he&&he.unsafe;_e||F(J);var we=!_e&&Jr.find(J,ye);if(!we){var je=J.FullPaths[0];ye.slice(0,je.length)==je?je=ye:(je.slice(-1)!="/"&&(je+="/"),je=(je+ye).replace("//","/")),we={name:i(ye),type:2},J.FileIndex.push(we),J.FullPaths.push(je),_e||Jr.utils.cfb_gc(J)}return we.content=fe,we.size=fe?fe.length:0,he&&(he.CLSID&&(we.clsid=he.CLSID),he.mt&&(we.mt=he.mt),he.ct&&(we.ct=he.ct)),we}function xi(J,ye){F(J);var fe=Jr.find(J,ye);if(fe){for(var he=0;he<J.FileIndex.length;++he)if(J.FileIndex[he]==fe)return J.FileIndex.splice(he,1),J.FullPaths.splice(he,1),!0}return!1}function cn(J,ye,fe){F(J);var he=Jr.find(J,ye);if(he){for(var _e=0;_e<J.FileIndex.length;++_e)if(J.FileIndex[_e]==he)return J.FileIndex[_e].name=i(fe),J.FullPaths[_e]=fe,!0}return!1}function Rn(J){b(J,!0)}return e.find=C,e.read=Q,e.parse=h,e.write=Ce,e.writeFile=de,e.utils={cfb_new:ps,cfb_add:An,cfb_del:xi,cfb_mov:cn,cfb_gc:Rn,ReadShift:wp,CheckField:pC,prep_blob:Hs,bconcat:Ou,use_zlib:S,_deflateRaw:yt,_inflateRaw:wr,consts:Te},e})();function OV(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function tc(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function nw(r){for(var e=[],t=tc(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var jg=new Date(1899,11,30,0,0,0);function Ba(r,e){var t=r.getTime(),n=jg.getTime()+(r.getTimezoneOffset()-jg.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var $I=new Date,MV=jg.getTime()+($I.getTimezoneOffset()-jg.getTimezoneOffset())*6e4,rb=$I.getTimezoneOffset();function Cv(r){var e=new Date;return e.setTime(r*24*60*60*1e3+MV),e.getTimezoneOffset()!==rb&&e.setTime(e.getTime()+(e.getTimezoneOffset()-rb)*6e4),e}function BV(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var nb=new Date("2017-02-19T19:06:09.000Z"),KI=isNaN(nb.getFullYear())?new Date("2/19/17"):nb,VV=KI.getFullYear()==2017;function Ns(r,e){var t=new Date(r);if(VV)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(KI.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function gh(r,e){if(Kr&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return up(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return up(FI(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return up(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return up(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return t[s]||s})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function Gs(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Gs(r[t]));return e}function Ai(r,e){for(var t="";t.length<e;)t+=r;return t}function yl(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var jV=["january","february","march","april","may","june","july","august","september","october","november","december"];function Jd(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&jV.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var UV=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var s=t.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function XI(r){return r?r.content&&r.type?gh(r.content,!0):r.data?op(r.data):r.asNodeBuffer&&Kr?op(r.asNodeBuffer().toString("binary")):r.asBinary?op(r.asBinary()):r._data&&r._data.getContent?op(gh(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function YI(r){if(!r)return null;if(r.data)return WT(r.data);if(r.asNodeBuffer&&Kr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?WT(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function zV(r){return r&&r.name.slice(-4)===".bin"?YI(r):XI(r)}function qo(r,e){for(var t=r.FullPaths||tc(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return r.files?r.files[t[s]]:r.FileIndex[s]}return null}function iw(r,e){var t=qo(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Yi(r,e,t){if(!t)return zV(iw(r,e));if(!e)return null;try{return Yi(r,e)}catch{return null}}function yo(r,e,t){if(!t)return XI(iw(r,e));if(!e)return null;try{return yo(r,e)}catch{return null}}function qV(r,e,t){return YI(iw(r,e))}function ib(r){for(var e=r.FullPaths||tc(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function HV(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Kr?n=bh(t):n=cV(t),Jr.utils.cfb_add(r,e,n)}Jr.utils.cfb_add(r,e,t)}else r.file(e,t)}function QI(r,e){switch(e.type){case"base64":return Jr.read(r,{type:"base64"});case"binary":return Jr.read(r,{type:"binary"});case"buffer":case"array":return Jr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function cp(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var JI=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,WV=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,sb=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,GV=/<[^>]*>/g,Sa=JI.match(sb)?sb:GV,$V=/<\w*:/,KV=/<(\/?)\w+:/;function gr(r,e,t){for(var n={},i=0,s=0;i!==r.length&&!((s=r.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var a=r.match(WV),o=0,c="",f=0,h="",p="",x=1;if(a)for(f=0;f!=a.length;++f){for(p=a[f],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(h=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(x=(i=p.charCodeAt(s+1))==34||i==39?1:0,c=p.slice(s+1+x,p.length-x),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=c,n[h.toLowerCase()]=c;else{var m=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[m]&&h.slice(o-3,o)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function ic(r){return r.replace(KV,"<$1")}var ZI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},XV=nw(ZI),on=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(r,function(o,c){return ZI[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}})(),YV=/[&<>'"]/g,QV=/[\u0000-\u001f]/g;function sw(r){var e=r+"";return e.replace(YV,function(t){return XV[t]}).replace(/\n/g,"<br/>").replace(QV,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var ab=(function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}})();function ni(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function W2(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function ob(r){var e=sf(2*r.length),t,n,i=1,s=0,a=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function lb(r){return bh(r,"binary").toString("utf8")}var Nm="foo bar bazâð£",zn=Kr&&(lb(Nm)==W2(Nm)&&lb||ob(Nm)==W2(Nm)&&ob)||W2,up=Kr?function(r){return bh(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Yp=(function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}})(),eC=(function(){var r=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),JV=(function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),ZV=/<\/?(?:vt:)?variant>/g,ej=/<(?:vt:)([^>]*)>([\s\S]*)</;function cb(r,e){var t=gr(r),n=r.match(JV(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(s){var a=s.replace(ZV,"").match(ej);a&&i.push({v:zn(a[2]),t:a[1]})}),i}var tj=/(^\s|\s$|\n)/;function rj(r){return tc(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function nj(r,e,t){return"<"+r+(t!=null?rj(t):"")+(e!=null?(e.match(tj)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function aw(r){if(Kr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return zn(Ah(ew(r)));throw new Error("Bad input format: expected Buffer or string")}var Qp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ij={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},sj=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function aj(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,s=5;s>=0;--s)i=i*256+r[e+s];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function oj(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)r[t+o]=s&255;r[t+6]=(i&15)<<4|s&15,r[t+7]=i>>4|n}var ub=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},fb=Kr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:bh(e)})):ub(r)}:ub,hb=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(Pc(r,i)));return n.join("").replace(Ma,"")},ow=Kr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Ma,""):hb(r,e,t)}:hb,db=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},tC=Kr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):db(r,e,t)}:db,pb=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(pd(r,i)));return n.join("")},C1=Kr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):pb(e,t,n)}:pb,rC=function(r,e){var t=xo(r,e);return t>0?C1(r,e+4,e+4+t-1):""},nC=rC,iC=function(r,e){var t=xo(r,e);return t>0?C1(r,e+4,e+4+t-1):""},sC=iC,aC=function(r,e){var t=2*xo(r,e);return t>0?C1(r,e+4,e+4+t-1):""},oC=aC,lC=function(e,t){var n=xo(e,t);return n>0?ow(e,t+4,t+4+n):""},cC=lC,uC=function(r,e){var t=xo(r,e);return t>0?C1(r,e+4,e+4+t):""},fC=uC,hC=function(r,e){return aj(r,e)},Ug=hC,dC=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Kr&&(nC=function(e,t){if(!Buffer.isBuffer(e))return rC(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},sC=function(e,t){if(!Buffer.isBuffer(e))return iC(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},oC=function(e,t){if(!Buffer.isBuffer(e))return aC(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},cC=function(e,t){if(!Buffer.isBuffer(e))return lC(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},fC=function(e,t){if(!Buffer.isBuffer(e))return uC(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Ug=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):hC(e,t)},dC=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var pd=function(r,e){return r[e]},Pc=function(r,e){return r[e+1]*256+r[e]},lj=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},xo=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Gf=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},cj=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function wp(r,e){var t="",n,i,s=[],a,o,c,f;switch(e){case"dbcs":if(f=this.l,Kr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode(Pc(this,f)),f+=2;r*=2;break;case"utf8":t=C1(this,this.l,this.l+r);break;case"utf16le":r*=2,t=ow(this,this.l,this.l+r);break;case"wstr":return wp.call(this,r,"dbcs");case"lpstr-ansi":t=nC(this,this.l),r=4+xo(this,this.l);break;case"lpstr-cp":t=sC(this,this.l),r=4+xo(this,this.l);break;case"lpwstr":t=oC(this,this.l),r=4+2*xo(this,this.l);break;case"lpp4":r=4+xo(this,this.l),t=cC(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+xo(this,this.l),t=fC(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(a=pd(this,this.l+r++))!==0;)s.push(Cm(a));t=s.join("");break;case"_wstr":for(r=0,t="";(a=Pc(this,this.l+r))!==0;)s.push(Cm(a)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",f=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=pd(this,f),this.l=f+1,o=wp.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Cm(Pc(this,f))),f+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=pd(this,f),this.l=f+1,o=wp.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Cm(pd(this,f))),f+=1}t=s.join("");break;default:switch(r){case 1:return n=pd(this,this.l),this.l++,n;case 2:return n=(e==="i"?lj:Pc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Gf:cj)(this,this.l),this.l+=4,n):(i=xo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=Ug(this,this.l):i=Ug([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=tC(this,this.l,r);break}}return this.l+=r,t}var uj=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},fj=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},hj=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function dj(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)hj(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,uj(this,e,this.l);break;case 8:if(n=8,t==="f"){oj(this,e,this.l);break}case 16:break;case-4:n=4,fj(this,e,this.l);break}return this.l+=n,this}function pC(r,e){var t=tC(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Hs(r,e){r.l=e,r.read_shift=wp,r.chk=pC,r.write_shift=dj}function Aa(r,e){r.l+=e}function cs(r){var e=sf(r);return Hs(e,0),e}function Xc(r,e,t){if(r){var n,i,s;Hs(r,r.l||0);for(var a=r.length,o=0,c=0;r.l<a;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var f=$g[o]||$g[65535];for(n=r.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=r.read_shift(1))&127)<<7*i;c=r.l+s;var h=f.f&&f.f(r,s,t);if(r.l=c,e(h,f,o))return}}}function sy(){var r=[],e=Kr?256:2048,t=function(f){var h=cs(f);return Hs(h,0),h},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(f){return n&&f<n.length-n.l?n:(i(),n=t(Math.max(f+1,e)))},a=function(){return i(),Ou(r)},o=function(f){i(),n=f,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:r}}function Ep(r,e,t){var n=Gs(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function mb(r,e,t){var n=Gs(r);return n.s=Ep(n.s,e.s,t),n.e=Ep(n.e,e.s,t),n}function Tp(r,e){if(r.cRel&&r.c<0)for(r=Gs(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Gs(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Sr(r);return!r.cRel&&r.cRel!=null&&(t=gj(t)),!r.rRel&&r.rRel!=null&&(t=pj(t)),t}function G2(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+us(r.s.c)+":"+(r.e.cRel?"":"$")+us(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+$s(r.s.r)+":"+(r.e.rRel?"":"$")+$s(r.e.r):Tp(r.s,e.biff)+":"+Tp(r.e,e.biff)}function lw(r){return parseInt(mj(r),10)-1}function $s(r){return""+(r+1)}function pj(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function mj(r){return r.replace(/\$(\d+)$/,"$1")}function cw(r){for(var e=vj(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function us(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function gj(r){return r.replace(/^([A-Z])/,"$$$1")}function vj(r){return r.replace(/^\$([A-Z])/,"$1")}function xj(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Oa(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Sr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function g0(r){var e=r.indexOf(":");return e==-1?{s:Oa(r),e:Oa(r)}:{s:Oa(r.slice(0,e)),e:Oa(r.slice(e+1))}}function Zr(r,e){return typeof e>"u"||typeof e=="number"?Zr(r.s,r.e):(typeof r!="string"&&(r=Sr(r)),typeof e!="string"&&(e=Sr(e)),r==e?r:r+":"+e)}function Ii(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,s=r.length;for(t=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function gb(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Go(r.z,t?Ba(e):e)}catch{}try{return r.w=Go((r.XF||{}).numFmtId||(t?14:0),t?Ba(e):e)}catch{return""+e}}function jc(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Ih[r.v]||r.v:e==null?gb(r,r.v):gb(r,e))}function vf(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function mC(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Oa(n.origin):n.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Ii(s["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),a==-1&&(f.e.r=a=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[p].length;++x)if(!(typeof e[p][x]>"u")){var m={v:e[p][x]},E=a+p,w=o+x;if(f.s.r>E&&(f.s.r=E),f.s.c>w&&(f.s.c=w),f.e.r<E&&(f.e.r=E),f.e.c<w&&(f.e.c=w),e[p][x]&&typeof e[p][x]=="object"&&!Array.isArray(e[p][x])&&!(e[p][x]instanceof Date))m=e[p][x];else if(Array.isArray(m.v)&&(m.f=e[p][x][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ir[14],n.cellDates?(m.t="d",m.w=Go(m.z,Ba(m.v))):(m.t="n",m.v=Ba(m.v),m.w=Go(m.z,m.v))):m.t="s";if(i)s[E]||(s[E]=[]),s[E][w]&&s[E][w].z&&(m.z=s[E][w].z),s[E][w]=m;else{var T=Sr({c:w,r:E});s[T]&&s[T].z&&(m.z=s[T].z),s[T]=m}}}return f.s.c<1e7&&(s["!ref"]=Zr(f)),s}function v0(r,e){return mC(null,r,e)}function yj(r){return r.read_shift(4,"i")}function ba(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function _j(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function uw(r,e){var t=r.l,n=r.read_shift(1),i=ba(r),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=r.read_shift(4),c=0;c!=o;++c)s.push(_j(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=t+e,a}var wj=uw;function Ko(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Sh(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var Ej=ba;function fw(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var Tj=ba,ay=fw;function hw(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?Ug([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Gf(e,0)>>2;return t?i/100:i}function gC(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var kh=gC;function _a(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function bj(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var f=eh[i];f&&(e.rgb=Zp(f));break;case 2:e.rgb=Zp([a,o,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Aj(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function vC(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function Sj(r){return vC(r,1)}function kj(r){return vC(r,2)}var dw=2,Ya=3,Pm=11,vb=12,zg=19,Rm=64,Ij=65,Cj=71,Nj=4108,Pj=4126,Ss=80,xC=81,Rj=[Ss,xC],Lj={1:{n:"CodePage",t:dw},2:{n:"Category",t:Ss},3:{n:"PresentationFormat",t:Ss},4:{n:"ByteCount",t:Ya},5:{n:"LineCount",t:Ya},6:{n:"ParagraphCount",t:Ya},7:{n:"SlideCount",t:Ya},8:{n:"NoteCount",t:Ya},9:{n:"HiddenCount",t:Ya},10:{n:"MultimediaClipCount",t:Ya},11:{n:"ScaleCrop",t:Pm},12:{n:"HeadingPairs",t:Nj},13:{n:"TitlesOfParts",t:Pj},14:{n:"Manager",t:Ss},15:{n:"Company",t:Ss},16:{n:"LinksUpToDate",t:Pm},17:{n:"CharacterCount",t:Ya},19:{n:"SharedDoc",t:Pm},22:{n:"HyperlinksChanged",t:Pm},23:{n:"AppVersion",t:Ya,p:"version"},24:{n:"DigSig",t:Ij},26:{n:"ContentType",t:Ss},27:{n:"ContentStatus",t:Ss},28:{n:"Language",t:Ss},29:{n:"Version",t:Ss},255:{},2147483648:{n:"Locale",t:zg},2147483651:{n:"Behavior",t:zg},1919054434:{}},Fj={1:{n:"CodePage",t:dw},2:{n:"Title",t:Ss},3:{n:"Subject",t:Ss},4:{n:"Author",t:Ss},5:{n:"Keywords",t:Ss},6:{n:"Comments",t:Ss},7:{n:"Template",t:Ss},8:{n:"LastAuthor",t:Ss},9:{n:"RevNumber",t:Ss},10:{n:"EditTime",t:Rm},11:{n:"LastPrinted",t:Rm},12:{n:"CreatedDate",t:Rm},13:{n:"ModifiedDate",t:Rm},14:{n:"PageCount",t:Ya},15:{n:"WordCount",t:Ya},16:{n:"CharCount",t:Ya},17:{n:"Thumbnail",t:Cj},18:{n:"Application",t:Ss},19:{n:"DocSecurity",t:Ya},255:{},2147483648:{n:"Locale",t:zg},2147483651:{n:"Behavior",t:zg},1919054434:{}},xb={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Dj=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Oj(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Mj=Oj([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),eh=Gs(Mj),Ih={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yC={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},yb={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Bj(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Vj(r){var e=Bj();if(!r||!r.match)return e;var t={};if((r.match(Sa)||[]).forEach(function(n){var i=gr(n);switch(i[0].replace($V,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[yb[i.ContentType]]!==void 0&&e[yb[i.ContentType]].push(i.PartName);break}}),e.xmlns!==ij.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var xd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function oy(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function bp(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(Sa)||[]).forEach(function(i){var s=gr(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:cp(s.Target,e);t[o]=a,n[s.Id]=a}}),t["!id"]=n,t}var jj="application/vnd.oasis.opendocument.spreadsheet";function Uj(r,e){for(var t=aw(r),n,i;n=Qp.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=gr(n[0],!1),i.path=="/"&&i.type!==jj)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Ap=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],zj=(function(){for(var r=new Array(Ap.length),e=0;e<Ap.length;++e){var t=Ap[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function _C(r){var e={};r=zn(r);for(var t=0;t<Ap.length;++t){var n=Ap[t],i=r.match(zj[t]);i!=null&&i.length>0&&(e[n[1]]=on(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ns(e[n[1]]))}return e}var qj=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function wC(r,e,t,n){var i=[];if(typeof r=="string")i=cb(r,n);else for(var s=0;s<r.length;++s)i=i.concat(r[s].map(function(h){return{v:h}}));var a=typeof e=="string"?cb(e,n).map(function(h){return h.v}):e,o=0,c=0;if(a.length>0)for(var f=0;f!==i.length;f+=2){switch(c=+i[f+1].v,i[f].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":t.NamedRanges=c,t.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=a.slice(o,o+c);break}o+=c}}function Hj(r,e,t){var n={};return e||(e={}),r=zn(r),qj.forEach(function(i){var s=(r.match(Yp(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=on(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&wC(n.HeadingPairs,n.TitlesOfParts,e,t),e}var Wj=/<[^>]+>[^<]*/g;function Gj(r,e){var t={},n="",i=r.match(Wj);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=gr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=on(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),f=c[0].slice(4),h=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":t[n]=on(h);break;case"bool":t[n]=ni(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(h);break;case"filetime":case"date":t[n]=Ns(h);break;case"cy":case"error":t[n]=on(h);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,f,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}var $j={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},$2;function Kj(r,e,t){$2||($2=nw($j)),e=$2[e]||e,r[e]=t}function pw(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function EC(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function TC(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function bC(r,e,t){return e===31?TC(r):EC(r,e,t)}function ly(r,e,t){return bC(r,e,t===!1?0:4)}function Xj(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return bC(r,e,0)}function Yj(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(Ma,""),r.l-i&2&&(r.l+=2)}return t}function Qj(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(Ma,"");return t}function Jj(r){var e=r.l,t=qg(r,xC);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=qg(r,Ya);return[t,n]}function Zj(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(Jj(r));return t}function _b(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var s=r.read_shift(4),a=r.read_shift(4);n[s]=r.read_shift(a,e===1200?"utf16le":"utf8").replace(Ma,"").replace(lp,"!"),e===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function AC(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function eU(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function qg(r,e,t){var n=r.read_shift(2),i,s=t||{};if(r.l+=2,e!==vb&&n!==e&&Rj.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===vb?n:e){case 2:return i=r.read_shift(2,"i"),s.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return EC(r,n,4).replace(Ma,"");case 31:return TC(r);case 64:return pw(r);case 65:return AC(r);case 71:return eU(r);case 80:return ly(r,n,!s.raw).replace(Ma,"");case 81:return Xj(r,n).replace(Ma,"");case 4108:return Zj(r);case 4126:case 4127:return n==4127?Yj(r):Qj(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function wb(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0,o=0,c=-1,f={};for(a=0;a!=i;++a){var h=r.read_shift(4),p=r.read_shift(4);s[a]=[h,p+t]}s.sort(function(j,D){return j[1]-D[1]});var x={};for(a=0;a!=i;++a){if(r.l!==s[a][1]){var m=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:r.l+2===s[a][1]&&(r.l+=2,m=!1);break;case 80:r.l<=s[a][1]&&(r.l=s[a][1],m=!1);break;case 4108:r.l<=s[a][1]&&(r.l=s[a][1],m=!1);break}if((!e||a==0)&&r.l<=s[a][1]&&(m=!1,r.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+r.l+" :"+a)}if(e){var E=e[s[a][0]];if(x[E.n]=qg(r,E.t,{raw:!0}),E.p==="version"&&(x[E.n]=String(x[E.n]>>16)+"."+("0000"+String(x[E.n]&65535)).slice(-4)),E.n=="CodePage")switch(x[E.n]){case 0:x[E.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:gl(o=x[E.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[E.n])}}else if(s[a][0]===1){if(o=x.CodePage=qg(r,dw),gl(o),c!==-1){var w=r.l;r.l=s[c][1],f=_b(r,o),r.l=w}}else if(s[a][0]===0){if(o===0){c=a,r.l=s[a+1][1];continue}f=_b(r,o)}else{var T=f[s[a][0]],P;switch(r[r.l]){case 65:r.l+=4,P=AC(r);break;case 30:r.l+=4,P=ly(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,P=ly(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,P=r.read_shift(4,"i");break;case 19:r.l+=4,P=r.read_shift(4);break;case 5:r.l+=4,P=r.read_shift(8,"f");break;case 11:r.l+=4,P=Oi(r,4);break;case 64:r.l+=4,P=Ns(pw(r));break;default:throw new Error("unparsed value: "+r[r.l])}x[T]=P}}return r.l=t+n,x}function Eb(r,e,t){var n=r.content;if(!n)return{};Hs(n,0);var i,s,a,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==Jr.utils.consts.HEADER_CLSID&&h!==t)throw new Error("Bad PropertySet CLSID "+h);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),c=n.read_shift(4));var p=wb(n,e),x={SystemIdentifier:f};for(var m in p)x[m]=p[m];if(x.FMTID=s,i===1)return x;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var E;try{E=wb(n,null)}catch{}for(m in E)x[m]=E[m];return x.FMTID=[s,a],x}function Au(r,e){return r.read_shift(e),null}function tU(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function Oi(r,e){return r.read_shift(e)===1}function Qi(r){return r.read_shift(2,"u")}function SC(r,e){return tU(r,e,Qi)}function rU(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function N1(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=n?r.read_shift(n,i):"";return a}function nU(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,s=1+(t&1),a=0,o,c={};i&&(a=r.read_shift(2)),n&&(o=r.read_shift(4));var f=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":r.read_shift(e,f);return i&&(r.l+=4*a),n&&(r.l+=o),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function vh(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function P1(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):vh(r,n,t)}function Ch(r,e,t){if(t.biff>5)return P1(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function iU(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function sU(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(Ma,"");return n&&(r.l+=24),i}function aU(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var s=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(s>>1,"utf16le").replace(Ma,"");return t+a}function oU(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return sU(r);case"0303000000000000c000000000000046":return aU(r);default:throw new Error("Unsupported Moniker "+t)}}function Lm(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(Ma,""):"";return t}function lU(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var s,a,o,c,f="",h,p;i&16&&(s=Lm(r,t-r.l)),i&128&&(a=Lm(r,t-r.l)),(i&257)===257&&(o=Lm(r,t-r.l)),(i&257)===1&&(c=oU(r,t-r.l)),i&8&&(f=Lm(r,t-r.l)),i&32&&(h=r.read_shift(16)),i&64&&(p=pw(r)),r.l=t;var x=a||o||c||"";x&&f&&(x+="#"+f),x||(x="#"+f),i&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var m={Target:x};return h&&(m.guid=h),p&&(m.time=p),s&&(m.Tooltip=s),m}function kC(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function IC(r,e){var t=kC(r);return t[3]=0,t}function sc(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function cU(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function uU(r,e,t){return e===0?"":Ch(r,e,t)}function fU(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[i,s,a]}function CC(r){var e=r.read_shift(2),t=hw(r);return[e,t]}function hU(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=N1(r,e,t),s=r.read_shift(2);if(n-=r.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return r.l+=s,i}function Nv(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function NC(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var dU=NC;function PC(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function pU(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function mU(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function da(r){r.l+=2,r.l+=r.read_shift(2)}var gU={0:da,4:da,5:da,6:da,7:mU,8:da,9:da,10:da,11:da,12:da,13:pU,14:da,15:da,16:da,17:da,18:da,19:da,20:da,21:PC};function vU(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(gU[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function Fm(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function xU(r,e){return e===0||r.read_shift(2),1200}function yU(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=Ch(r,0,t);return r.read_shift(e+n-r.l),i}function _U(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function wU(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,s=r.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=N1(r,0,t);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function EU(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0;a!=i&&r.l<t;++a)s.push(nU(r));return s.Count=n,s.Unique=i,s}function TU(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function bU(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function AU(r){var e=cU(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function SU(r){return r.read_shift(2),r.read_shift(4)}function Tb(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function kU(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=r.read_shift(2),c=r.read_shift(2),f=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:c,TabRatio:f}}function IU(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function CU(){}function NU(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=N1(r,0,t),n}function PU(r){var e=sc(r);return e.isst=r.read_shift(4),e}function RU(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=sc(r);t.biff==2&&r.l++;var s=P1(r,n-r.l,t);return i.val=s,i}function LU(r,e,t){var n=r.read_shift(2),i=Ch(r,0,t);return[n,i]}var FU=Ch;function bb(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,s=r.read_shift(i),a=r.read_shift(i),o=r.read_shift(2),c=r.read_shift(2);return r.l=n,{s:{r:s,c:o},e:{r:a,c}}}function DU(r){var e=r.read_shift(2),t=r.read_shift(2),n=CC(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function OU(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<t;)s.push(CC(r));if(r.l!==t)throw new Error("MulRK read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function MU(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<t;)s.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function BU(r,e,t,n){var i={},s=r.read_shift(4),a=r.read_shift(4),o=r.read_shift(4),c=r.read_shift(2);return i.patternType=Dj[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function VU(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=BU(r,e,n.fStyle,t),n}function jU(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function Ab(r,e,t){var n=sc(r);(t.biff==2||e==9)&&++r.l;var i=rU(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function UU(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=sc(r),i=_a(r);return n.val=i,n}var Sb=uU;function zU(r,e,t){var n=r.l+e,i=r.read_shift(2),s=r.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=vh(r,s),o=[];n>r.l;)o.push(P1(r));return[s,i,a,o]}function kb(r,e,t){var n=r.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=hU(r,e-2,t)),s.body=i||r.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var qU=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Ib(r,e,t){var n=r.l+e,i=r.read_shift(2),s=r.read_shift(1),a=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),c=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var f=vh(r,a,t);i&32&&(f=qU[f.charCodeAt(0)]);var h=n-r.l;t&&t.biff==2&&--h;var p=n==r.l||o===0||!(h>0)?[]:bW(r,h,t,o);return{chKey:s,Name:f,itab:c,rgce:p}}function RC(r,e,t){if(t.biff<8)return HU(r,e,t);for(var n=[],i=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(fU(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function HU(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=N1(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function WU(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),s=vh(r,n,t),a=vh(r,i,t);return[s,a]}function GU(r,e,t){var n=NC(r);r.l++;var i=r.read_shift(1);return e-=8,[AW(r,e,t),i,n]}function Cb(r,e,t){var n=dU(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,EW(r,e,t)]}function $U(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function KU(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=Ch(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,a,s]}}function XU(r,e,t){return KU(r,e,t)}function YU(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(Nv(r));return t}function QU(r,e,t){if(t&&t.biff<8)return ZU(r,e,t);var n=PC(r),i=vU(r,e-22,n[1]);return{cmo:n,ft:i}}var JU={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function ZU(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var a=[];return a.push((JU[n]||Aa)(r,e,t)),{cmo:[i,n,s],ft:a}}function ez(r,e,t){var n=r.l,i="";try{r.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?r.l+=6:a=iU(r,6,t);var o=r.read_shift(2);r.read_shift(2),Qi(r,2);var c=r.read_shift(2);r.l+=c;for(var f=1;f<r.lens.length-1;++f){if(r.l-n!=r.lens[f])throw new Error("TxO: bad continue record");var h=r[r.l],p=vh(r,r.lens[f+1]-r.lens[f]-1);if(i+=p,i.length>=(h?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function tz(r,e){var t=Nv(r);r.l+=16;var n=lU(r,e-24);return[t,n]}function rz(r,e){r.read_shift(2);var t=Nv(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Ma,""),[t,n]}function nz(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=xb[t]||t,t=r.read_shift(2),e[1]=xb[t]||t,e}function iz(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(IC(r));return t}function sz(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(IC(r));return t}function az(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function LC(r,e,t){if(!t.cellStyles)return Aa(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var f={s:i,e:s,w:a,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(f.level=c>>8&7),f}function oz(r,e){var t={};return e<32||(r.l+=16,t.header=_a(r),t.footer=_a(r),r.l+=2),t}function lz(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var cz=sc,uz=SC,fz=P1;function hz(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function dz(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=sc(r);++r.l;var i=Ch(r,e-7,t);return n.t="str",n.val=i,n}function pz(r){var e=sc(r);++r.l;var t=_a(r);return e.t="n",e.val=t,e}function mz(r){var e=sc(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function gz(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function vz(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function xz(r,e,t){var n=r.l+e,i=sc(r),s=r.read_shift(2),a=vh(r,s,t);return r.l=n,i.t="str",i.val=a,i}var yz=[2,3,48,49,131,139,140,245],Nb=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=nw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var f=[],h=sf(1);switch(c.type){case"base64":h=ml(bo(o));break;case"binary":h=ml(o);break;case"buffer":case"array":h=o;break}Hs(h,0);var p=h.read_shift(1),x=!!(p&136),m=!1,E=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,x=!0;break;case 49:m=!0,x=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,T=521;p==2&&(w=h.read_shift(2)),h.l+=3,p!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(T=h.read_shift(2));var P=h.read_shift(2),j=c.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(j=r[h[h.l]]),h.l+=1,h.l+=2),E&&(h.l+=36);for(var D=[],q={},se=Math.min(h.length,p==2?521:T-10-(m?264:0)),Q=E?32:11;h.l<se&&h[h.l]!=13;)switch(q={},q.name=Kp.utils.decode(j,h.slice(h.l,h.l+Q)).replace(/[\u0000\r\n].*$/g,""),h.l+=Q,q.type=String.fromCharCode(h.read_shift(1)),p!=2&&!E&&(q.offset=h.read_shift(4)),q.len=h.read_shift(1),p==2&&(q.offset=h.read_shift(2)),q.dec=h.read_shift(1),q.name.length&&D.push(q),p!=2&&(h.l+=E?13:14),q.type){case"B":(!m||q.len!=8)&&c.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+q.type)}if(h[h.l]!==13&&(h.l=T-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=T;var F=0,A=0;for(f[0]=[],A=0;A!=D.length;++A)f[0][A]=D[A].name;for(;w-- >0;){if(h[h.l]===42){h.l+=P;continue}for(++h.l,f[++F]=[],A=0,A=0;A!=D.length;++A){var b=h.slice(h.l,h.l+D[A].len);h.l+=D[A].len,Hs(b,0);var M=Kp.utils.decode(j,b);switch(D[A].type){case"C":M.trim().length&&(f[F][A]=M.replace(/\s+$/,""));break;case"D":M.length===8?f[F][A]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):f[F][A]=M;break;case"F":f[F][A]=parseFloat(M.trim());break;case"+":case"I":f[F][A]=E?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":f[F][A]=!0;break;case"N":case"F":f[F][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[F][A]="##MEMO##"+(E?parseInt(M.trim(),10):b.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(f[F][A]=+M||0);break;case"@":f[F][A]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":f[F][A]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":f[F][A]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[F][A]=-b.read_shift(-8,"f");break;case"B":if(m&&D[A].len==8){f[F][A]=b.read_shift(8,"f");break}case"G":case"P":b.l+=D[A].len;break;case"0":if(D[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[A].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=D,f}function n(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var h=v0(t(o,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function i(o,c){try{return vf(n(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var f=c||{};if(+f.codepage>=0&&gl(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=sy(),p=my(o,{header:1,raw:!0,cellDates:!0}),x=p[0],m=p.slice(1),E=o["!cols"]||[],w=0,T=0,P=0,j=1;for(w=0;w<x.length;++w){if(((E[w]||{}).DBF||{}).name){x[w]=E[w].DBF.name,++P;continue}if(x[w]!=null){if(++P,typeof x[w]=="number"&&(x[w]=x[w].toString(10)),typeof x[w]!="string")throw new Error("DBF Invalid column name "+x[w]+" |"+typeof x[w]+"|");if(x.indexOf(x[w])!==w){for(T=0;T<1024;++T)if(x.indexOf(x[w]+"_"+T)==-1){x[w]+="_"+T;break}}}}var D=Ii(o["!ref"]),q=[],se=[],Q=[];for(w=0;w<=D.e.c-D.s.c;++w){var F="",A="",b=0,M=[];for(T=0;T<m.length;++T)m[T][w]!=null&&M.push(m[T][w]);if(M.length==0||x[w]==null){q[w]="?";continue}for(T=0;T<M.length;++T){switch(typeof M[T]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=M[T]instanceof Date?"D":"C";break;default:A="C"}b=Math.max(b,String(M[T]).length),F=F&&F!=A?"C":A}b>250&&(b=250),A=((E[w]||{}).DBF||{}).type,A=="C"&&E[w].DBF.len>b&&(b=E[w].DBF.len),F=="B"&&A=="N"&&(F="N",Q[w]=E[w].DBF.dec,b=E[w].DBF.len),se[w]=F=="C"||A=="N"?b:s[F]||0,j+=se[w],q[w]=F}var C=h.next(32);for(C.write_shift(4,318902576),C.write_shift(4,m.length),C.write_shift(2,296+32*P),C.write_shift(2,j),w=0;w<4;++w)C.write_shift(4,0);for(C.write_shift(4,0|(+e[RI]||3)<<8),w=0,T=0;w<x.length;++w)if(x[w]!=null){var N=h.next(32),B=(x[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,B,"sbcs"),N.write_shift(1,q[w]=="?"?"C":q[w],"sbcs"),N.write_shift(4,T),N.write_shift(1,se[w]||s[q[w]]||0),N.write_shift(1,Q[w]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),T+=se[w]||s[q[w]]||0}var ce=h.next(264);for(ce.write_shift(4,13),w=0;w<65;++w)ce.write_shift(4,0);for(w=0;w<m.length;++w){var be=h.next(j);for(be.write_shift(1,0),T=0;T<x.length;++T)if(x[T]!=null)switch(q[T]){case"L":be.write_shift(1,m[w][T]==null?63:m[w][T]?84:70);break;case"B":be.write_shift(8,m[w][T]||0,"f");break;case"N":var ke="0";for(typeof m[w][T]=="number"&&(ke=m[w][T].toFixed(Q[T]||0)),P=0;P<se[T]-ke.length;++P)be.write_shift(1,32);be.write_shift(1,ke,"sbcs");break;case"D":m[w][T]?(be.write_shift(4,("0000"+m[w][T].getFullYear()).slice(-4),"sbcs"),be.write_shift(2,("00"+(m[w][T].getMonth()+1)).slice(-2),"sbcs"),be.write_shift(2,("00"+m[w][T].getDate()).slice(-2),"sbcs")):be.write_shift(8,"00000000","sbcs");break;case"C":var Te=String(m[w][T]!=null?m[w][T]:"").slice(0,se[T]);for(be.write_shift(1,Te,"sbcs"),P=0;P<se[T]-Te.length;++P)be.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),_z=(function(){var r={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+tc(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(x,m){var E=r[m];return typeof E=="number"?GT(E):E},n=function(x,m,E){var w=m.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return w==59?x:GT(w)};r["|"]=254;function i(x,m){switch(m.type){case"base64":return s(bo(x),m);case"binary":return s(x,m);case"buffer":return s(Kr&&Buffer.isBuffer(x)?x.toString("binary"):Ah(x),m);case"array":return s(gh(x),m)}throw new Error("Unrecognized type "+m.type)}function s(x,m){var E=x.split(/[\n\r]+/),w=-1,T=-1,P=0,j=0,D=[],q=[],se=null,Q={},F=[],A=[],b=[],M=0,C;for(+m.codepage>=0&&gl(+m.codepage);P!==E.length;++P){M=0;var N=E[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),B=N.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),ce=B[0],be;if(N.length>0)switch(ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&q.push(N.slice(3).replace(/;;/g,";"));break;case"C":var ke=!1,Te=!1,de=!1,te=!1,Ce=-1,re=-1;for(j=1;j<B.length;++j)switch(B[j].charAt(0)){case"A":break;case"X":T=parseInt(B[j].slice(1))-1,Te=!0;break;case"Y":for(w=parseInt(B[j].slice(1))-1,Te||(T=0),C=D.length;C<=w;++C)D[C]=[];break;case"K":be=B[j].slice(1),be.charAt(0)==='"'?be=be.slice(1,be.length-1):be==="TRUE"?be=!0:be==="FALSE"?be=!1:isNaN(yl(be))?isNaN(Jd(be).getDate())||(be=Ns(be)):(be=yl(be),se!==null&&m0(se)&&(be=Cv(be))),ke=!0;break;case"E":te=!0;var S=kd(B[j].slice(1),{r:w,c:T});D[w][T]=[D[w][T],S];break;case"S":de=!0,D[w][T]=[D[w][T],"S5S"];break;case"G":break;case"R":Ce=parseInt(B[j].slice(1))-1;break;case"C":re=parseInt(B[j].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}if(ke&&(D[w][T]&&D[w][T].length==2?D[w][T][0]=be:D[w][T]=be,se=null),de){if(te)throw new Error("SYLK shared formula cannot have own formula");var U=Ce>-1&&D[Ce][re];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");D[w][T][1]=qC(U[1],{r:w-Ce,c:T-re})}break;case"F":var W=0;for(j=1;j<B.length;++j)switch(B[j].charAt(0)){case"X":T=parseInt(B[j].slice(1))-1,++W;break;case"Y":for(w=parseInt(B[j].slice(1))-1,C=D.length;C<=w;++C)D[C]=[];break;case"M":M=parseInt(B[j].slice(1))/20;break;case"F":break;case"G":break;case"P":se=q[parseInt(B[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=B[j].slice(1).split(" "),C=parseInt(b[0],10);C<=parseInt(b[1],10);++C)M=parseInt(b[2],10),A[C-1]=M===0?{hidden:!0}:{wch:M},Zd(A[C-1]);break;case"C":T=parseInt(B[j].slice(1))-1,A[T]||(A[T]={});break;case"R":w=parseInt(B[j].slice(1))-1,F[w]||(F[w]={}),M>0?(F[w].hpt=M,F[w].hpx=e1(M)):M===0&&(F[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}W<1&&(se=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}}return F.length>0&&(Q["!rows"]=F),A.length>0&&(Q["!cols"]=A),m&&m.sheetRows&&(D=D.slice(0,m.sheetRows)),[D,Q]}function a(x,m){var E=i(x,m),w=E[0],T=E[1],P=v0(w,m);return tc(T).forEach(function(j){P[j]=T[j]}),P}function o(x,m){return vf(a(x,m),m)}function c(x,m,E,w){var T="C;Y"+(E+1)+";X"+(w+1)+";K";switch(x.t){case"n":T+=x.v||0,x.f&&!x.F&&(T+=";E"+aH(x.f,{r:E,c:w}));break;case"b":T+=x.v?"TRUE":"FALSE";break;case"e":T+=x.w||x.v;break;case"d":T+='"'+(x.w||x.v)+'"';break;case"s":T+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function f(x,m){m.forEach(function(E,w){var T="F;W"+(w+1)+" "+(w+1)+" ";E.hidden?T+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=Wg(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=Gg(E.wpx)),typeof E.wch=="number"&&(T+=Math.round(E.wch))),T.charAt(T.length-1)!=" "&&x.push(T)})}function h(x,m){m.forEach(function(E,w){var T="F;";E.hidden?T+="M0;":E.hpt?T+="M"+20*E.hpt+";":E.hpx&&(T+="M"+20*jC(E.hpx)+";"),T.length>2&&x.push(T+"R"+(w+1))})}function p(x,m){var E=["ID;PWXL;N;E"],w=[],T=Ii(x["!ref"]),P,j=Array.isArray(x),D=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),x["!cols"]&&f(E,x["!cols"]),x["!rows"]&&h(E,x["!rows"]),E.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var q=T.s.r;q<=T.e.r;++q)for(var se=T.s.c;se<=T.e.c;++se){var Q=Sr({r:q,c:se});P=j?(x[q]||[])[se]:x[Q],!(!P||P.v==null&&(!P.f||P.F))&&w.push(c(P,x,q,se))}return E.join(D)+D+w.join(D)+D+"E"+D}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),wz=(function(){function r(s,a){switch(a.type){case"base64":return e(bo(s),a);case"binary":return e(s,a);case"buffer":return e(Kr&&Buffer.isBuffer(s)?s.toString("binary"):Ah(s),a);case"array":return e(gh(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),c=-1,f=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++c]=[],f=0;continue}if(!(c<0)){var x=o[h].trim().split(","),m=x[0],E=x[1];++h;for(var w=o[h]||"";(w.match(/["]/g)||[]).length&1&&h<o.length-1;)w+=`
`+o[++h];switch(w=w.trim(),+m){case-1:if(w==="BOT"){p[++c]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[c][f]=!0:w==="FALSE"?p[c][f]=!1:isNaN(yl(E))?isNaN(Jd(E).getDate())?p[c][f]=E:p[c][f]=Ns(E):p[c][f]=yl(E),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[c][f++]=w!==""?w:null;break}if(w==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function t(s,a){return v0(r(s,a),a)}function n(s,a){return vf(t(s,a),a)}var i=(function(){var s=function(c,f,h,p,x){c.push(f),c.push(h+","+p),c.push('"'+x.replace(/"/g,'""')+'"')},a=function(c,f,h,p){c.push(f+","+h),c.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var f=[],h=Ii(c["!ref"]),p,x=Array.isArray(c);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,h.e.r-h.s.r+1,""),s(f,"TUPLES",0,h.e.c-h.s.c+1,""),s(f,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){a(f,-1,0,"BOT");for(var E=h.s.c;E<=h.e.c;++E){var w=Sr({r:m,c:E});if(p=x?(c[m]||[])[E]:c[w],!p){a(f,1,0,"");continue}switch(p.t){case"n":var T=p.w;!T&&p.v!=null&&(T=p.v),T==null?p.f&&!p.F?a(f,1,0,"="+p.f):a(f,1,0,""):a(f,0,T,"V");break;case"b":a(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Go(p.z||Ir[14],Ba(Ns(p.v)))),a(f,0,p.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var P=`\r
`,j=f.join(P);return j}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),Ez=(function(){function r(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,x){for(var m=p.split(`
`),E=-1,w=-1,T=0,P=[];T!==m.length;++T){var j=m[T].trim().split(":");if(j[0]==="cell"){var D=Oa(j[1]);if(P.length<=D.r)for(E=P.length;E<=D.r;++E)P[E]||(P[E]=[]);switch(E=D.r,w=D.c,j[2]){case"t":P[E][w]=r(j[3]);break;case"v":P[E][w]=+j[3];break;case"vtf":var q=j[j.length-1];case"vtc":switch(j[3]){case"nl":P[E][w]=!!+j[4];break;default:P[E][w]=+j[4];break}j[2]=="vtf"&&(P[E][w]=[P[E][w],q])}}}return x&&x.sheetRows&&(P=P.slice(0,x.sheetRows)),P}function n(p,x){return v0(t(p,x),x)}function i(p,x){return vf(n(p,x),x)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var x=[],m=[],E,w="",T=g0(p["!ref"]),P=Array.isArray(p),j=T.s.r;j<=T.e.r;++j)for(var D=T.s.c;D<=T.e.c;++D)if(w=Sr({r:j,c:D}),E=P?(p[j]||[])[D]:p[w],!(!E||E.v==null||E.t==="z")){switch(m=["cell",w,"t"],E.t){case"s":case"str":m.push(e(E.v));break;case"n":E.f?(m[2]="vtf",m[3]="n",m[4]=E.v,m[5]=e(E.f)):(m[2]="v",m[3]=E.v);break;case"b":m[2]="vt"+(E.f?"f":"c"),m[3]="nl",m[4]=E.v?"1":"0",m[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var q=Ba(Ns(E.v));m[2]="vtc",m[3]="nd",m[4]=""+q,m[5]=E.w||Go(E.z||Ir[14],q);break;case"e":continue}x.push(m.join(":"))}return x.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(p){return[s,a,o,a,f(p),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}})(),Jp=(function(){function r(h,p,x,m,E){E.raw?p[x][m]=h:h===""||(h==="TRUE"?p[x][m]=!0:h==="FALSE"?p[x][m]=!1:isNaN(yl(h))?isNaN(Jd(h).getDate())?p[x][m]=h:p[x][m]=Ns(h):p[x][m]=yl(h))}function e(h,p){var x=p||{},m=[];if(!h||h.length===0)return m;for(var E=h.split(/[\r\n]/),w=E.length-1;w>=0&&E[w].length===0;)--w;for(var T=10,P=0,j=0;j<=w;++j)P=E[j].indexOf(" "),P==-1?P=E[j].length:P++,T=Math.max(T,P);for(j=0;j<=w;++j){m[j]=[];var D=0;for(r(E[j].slice(0,T).trim(),m,j,D,x),D=1;D<=(E[j].length-T)/10+1;++D)r(E[j].slice(T+(D-1)*10,T+D*10).trim(),m,j,D,x)}return x.sheetRows&&(m=m.slice(0,x.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var p={},x=!1,m=0,E=0;m<h.length;++m)(E=h.charCodeAt(m))==34?x=!x:!x&&E in t&&(p[E]=(p[E]||0)+1);E=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&E.push([p[m],m]);if(!E.length){p=n;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&E.push([p[m],m])}return E.sort(function(w,T){return w[0]-T[0]||n[w[1]]-n[T[1]]}),t[E.pop()[1]]||44}function s(h,p){var x=p||{},m="",E=x.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):x&&x.FS?m=x.FS:m=i(h.slice(0,1024));var T=0,P=0,j=0,D=0,q=0,se=m.charCodeAt(0),Q=!1,F=0,A=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var b=x.dateNF!=null?LV(x.dateNF):null;function M(){var C=h.slice(D,q),N={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)N.t="z";else if(x.raw)N.t="s",N.v=C;else if(C.trim().length===0)N.t="s",N.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(N.t="s",N.v=C.slice(2,-1).replace(/""/g,'"')):lH(C)?(N.t="n",N.f=C.slice(1)):(N.t="s",N.v=C);else if(C=="TRUE")N.t="b",N.v=!0;else if(C=="FALSE")N.t="b",N.v=!1;else if(!isNaN(j=yl(C)))N.t="n",x.cellText!==!1&&(N.w=C),N.v=j;else if(!isNaN(Jd(C).getDate())||b&&C.match(b)){N.z=x.dateNF||Ir[14];var B=0;b&&C.match(b)&&(C=FV(C,x.dateNF,C.match(b)||[]),B=1),x.cellDates?(N.t="d",N.v=Ns(C,B)):(N.t="n",N.v=Ba(Ns(C,B))),x.cellText!==!1&&(N.w=Go(N.z,N.v instanceof Date?Ba(N.v):N.v)),x.cellNF||delete N.z}else N.t="s",N.v=C;if(N.t=="z"||(x.dense?(E[T]||(E[T]=[]),E[T][P]=N):E[Sr({c:P,r:T})]=N),D=q+1,A=h.charCodeAt(D),w.e.c<P&&(w.e.c=P),w.e.r<T&&(w.e.r=T),F==se)++P;else if(P=0,++T,x.sheetRows&&x.sheetRows<=T)return!0}e:for(;q<h.length;++q)switch(F=h.charCodeAt(q)){case 34:A===34&&(Q=!Q);break;case se:case 10:case 13:if(!Q&&M())break e;break}return q-D>0&&M(),E["!ref"]=Zr(w),E}function a(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,p):v0(e(h,p),p)}function o(h,p){var x="",m=p.type=="string"?[0,0,0,0]:Ew(h,p);switch(p.type){case"base64":x=bo(h);break;case"binary":x=h;break;case"buffer":p.codepage==65001?x=h.toString("utf8"):p.codepage&&typeof Kp<"u"||(x=Kr&&Buffer.isBuffer(h)?h.toString("binary"):Ah(h));break;case"array":x=gh(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?x=zn(x.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?x=zn(x):p.type=="binary"&&typeof Kp<"u",x.slice(0,19)=="socialcalc:version:"?Ez.to_sheet(p.type=="string"?x:zn(x),p):a(x,p)}function c(h,p){return vf(o(h,p),p)}function f(h){for(var p=[],x=Ii(h["!ref"]),m,E=Array.isArray(h),w=x.s.r;w<=x.e.r;++w){for(var T=[],P=x.s.c;P<=x.e.c;++P){var j=Sr({r:w,c:P});if(m=E?(h[w]||[])[P]:h[j],!m||m.v==null){T.push("          ");continue}for(var D=(m.w||(jc(m),m.w)||"").slice(0,10);D.length<10;)D+=" ";T.push(D+(P===0?" ":""))}p.push(T.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function Tz(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=_z.to_workbook(r,t);return t.WTF=n,i}catch(s){if(t.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Jp.to_workbook(r,e)}}var Sp=(function(){function r(S,U,W){if(S){Hs(S,S.l||0);for(var K=W.Enum||Ce;S.l<S.length;){var ie=S.read_shift(2),pe=K[ie]||K[65535],Ee=S.read_shift(2),xe=S.l+Ee,Ae=pe.f&&pe.f(S,Ee,W);if(S.l=xe,U(Ae,pe,ie))return}}}function e(S,U){switch(U.type){case"base64":return t(ml(bo(S)),U);case"binary":return t(ml(S),U);case"buffer":case"array":return t(S,U)}throw"Unsupported type "+U.type}function t(S,U){if(!S)return S;var W=U||{},K=W.dense?[]:{},ie="Sheet1",pe="",Ee=0,xe={},Ae=[],Me=[],ae={s:{r:0,c:0},e:{r:0,c:0}},at=W.sheetRows||0;if(S[2]==0&&(S[3]==8||S[3]==9)&&S.length>=16&&S[14]==5&&S[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(S[2]==2)W.Enum=Ce,r(S,function($e,nt,tt){switch(tt){case 0:W.vers=$e,$e>=4096&&(W.qpro=!0);break;case 6:ae=$e;break;case 204:$e&&(pe=$e);break;case 222:pe=$e;break;case 15:case 51:W.qpro||($e[1].v=$e[1].v.slice(1));case 13:case 14:case 16:tt==14&&($e[2]&112)==112&&($e[2]&15)>1&&($e[2]&15)<15&&($e[1].z=W.dateNF||Ir[14],W.cellDates&&($e[1].t="d",$e[1].v=Cv($e[1].v))),W.qpro&&$e[3]>Ee&&(K["!ref"]=Zr(ae),xe[ie]=K,Ae.push(ie),K=W.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},Ee=$e[3],ie=pe||"Sheet"+(Ee+1),pe="");var _t=W.dense?(K[$e[0].r]||[])[$e[0].c]:K[Sr($e[0])];if(_t){_t.t=$e[1].t,_t.v=$e[1].v,$e[1].z!=null&&(_t.z=$e[1].z),$e[1].f!=null&&(_t.f=$e[1].f);break}W.dense?(K[$e[0].r]||(K[$e[0].r]=[]),K[$e[0].r][$e[0].c]=$e[1]):K[Sr($e[0])]=$e[1];break}},W);else if(S[2]==26||S[2]==14)W.Enum=re,S[2]==14&&(W.qpro=!0,S.l=0),r(S,function($e,nt,tt){switch(tt){case 204:ie=$e;break;case 22:$e[1].v=$e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if($e[3]>Ee&&(K["!ref"]=Zr(ae),xe[ie]=K,Ae.push(ie),K=W.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},Ee=$e[3],ie="Sheet"+(Ee+1)),at>0&&$e[0].r>=at)break;W.dense?(K[$e[0].r]||(K[$e[0].r]=[]),K[$e[0].r][$e[0].c]=$e[1]):K[Sr($e[0])]=$e[1],ae.e.c<$e[0].c&&(ae.e.c=$e[0].c),ae.e.r<$e[0].r&&(ae.e.r=$e[0].r);break;case 27:$e[14e3]&&(Me[$e[14e3][0]]=$e[14e3][1]);break;case 1537:Me[$e[0]]=$e[1],$e[0]==Ee&&(ie=$e[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+S[2]);if(K["!ref"]=Zr(ae),xe[pe||ie]=K,Ae.push(pe||ie),!Me.length)return{SheetNames:Ae,Sheets:xe};for(var Re={},G=[],Fe=0;Fe<Me.length;++Fe)xe[Ae[Fe]]?(G.push(Me[Fe]||Ae[Fe]),Re[Me[Fe]]=xe[Me[Fe]]||xe[Ae[Fe]]):(G.push(Me[Fe]),Re[Me[Fe]]={"!ref":"A1"});return{SheetNames:G,Sheets:Re}}function n(S,U){var W=U||{};if(+W.codepage>=0&&gl(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var K=sy(),ie=Ii(S["!ref"]),pe=Array.isArray(S),Ee=[];hl(K,0,s(1030)),hl(K,6,c(ie));for(var xe=Math.min(ie.e.r,8191),Ae=ie.s.r;Ae<=xe;++Ae)for(var Me=$s(Ae),ae=ie.s.c;ae<=ie.e.c;++ae){Ae===ie.s.r&&(Ee[ae]=us(ae));var at=Ee[ae]+Me,Re=pe?(S[Ae]||[])[ae]:S[at];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?hl(K,13,m(Ae,ae,Re.v)):hl(K,14,w(Ae,ae,Re.v));else{var G=jc(Re);hl(K,15,p(Ae,ae,G.slice(0,239)))}}return hl(K,1),K.end()}function i(S,U){var W=U||{};if(+W.codepage>=0&&gl(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var K=sy();hl(K,0,a(S));for(var ie=0,pe=0;ie<S.SheetNames.length;++ie)(S.Sheets[S.SheetNames[ie]]||{})["!ref"]&&hl(K,27,te(S.SheetNames[ie],pe++));var Ee=0;for(ie=0;ie<S.SheetNames.length;++ie){var xe=S.Sheets[S.SheetNames[ie]];if(!(!xe||!xe["!ref"])){for(var Ae=Ii(xe["!ref"]),Me=Array.isArray(xe),ae=[],at=Math.min(Ae.e.r,8191),Re=Ae.s.r;Re<=at;++Re)for(var G=$s(Re),Fe=Ae.s.c;Fe<=Ae.e.c;++Fe){Re===Ae.s.r&&(ae[Fe]=us(Fe));var $e=ae[Fe]+G,nt=Me?(xe[Re]||[])[Fe]:xe[$e];if(!(!nt||nt.t=="z"))if(nt.t=="n")hl(K,23,M(Re,Fe,Ee,nt.v));else{var tt=jc(nt);hl(K,22,F(Re,Fe,Ee,tt.slice(0,239)))}}++Ee}}return hl(K,1),K.end()}function s(S){var U=cs(2);return U.write_shift(2,S),U}function a(S){var U=cs(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var W=0,K=0,ie=0,pe=0;pe<S.SheetNames.length;++pe){var Ee=S.SheetNames[pe],xe=S.Sheets[Ee];if(!(!xe||!xe["!ref"])){++ie;var Ae=g0(xe["!ref"]);W<Ae.e.r&&(W=Ae.e.r),K<Ae.e.c&&(K=Ae.e.c)}}return W>8191&&(W=8191),U.write_shift(2,W),U.write_shift(1,ie),U.write_shift(1,K),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(S,U,W){var K={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&W.qpro?(K.s.c=S.read_shift(1),S.l++,K.s.r=S.read_shift(2),K.e.c=S.read_shift(1),S.l++,K.e.r=S.read_shift(2),K):(K.s.c=S.read_shift(2),K.s.r=S.read_shift(2),U==12&&W.qpro&&(S.l+=2),K.e.c=S.read_shift(2),K.e.r=S.read_shift(2),U==12&&W.qpro&&(S.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(S){var U=cs(8);return U.write_shift(2,S.s.c),U.write_shift(2,S.s.r),U.write_shift(2,S.e.c),U.write_shift(2,S.e.r),U}function f(S,U,W){var K=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(K[0].c=S.read_shift(1),K[3]=S.read_shift(1),K[0].r=S.read_shift(2),S.l+=2):(K[2]=S.read_shift(1),K[0].c=S.read_shift(2),K[0].r=S.read_shift(2)),K}function h(S,U,W){var K=S.l+U,ie=f(S,U,W);if(ie[1].t="s",W.vers==20768){S.l++;var pe=S.read_shift(1);return ie[1].v=S.read_shift(pe,"utf8"),ie}return W.qpro&&S.l++,ie[1].v=S.read_shift(K-S.l,"cstr"),ie}function p(S,U,W){var K=cs(7+W.length);K.write_shift(1,255),K.write_shift(2,U),K.write_shift(2,S),K.write_shift(1,39);for(var ie=0;ie<K.length;++ie){var pe=W.charCodeAt(ie);K.write_shift(1,pe>=128?95:pe)}return K.write_shift(1,0),K}function x(S,U,W){var K=f(S,U,W);return K[1].v=S.read_shift(2,"i"),K}function m(S,U,W){var K=cs(7);return K.write_shift(1,255),K.write_shift(2,U),K.write_shift(2,S),K.write_shift(2,W,"i"),K}function E(S,U,W){var K=f(S,U,W);return K[1].v=S.read_shift(8,"f"),K}function w(S,U,W){var K=cs(13);return K.write_shift(1,255),K.write_shift(2,U),K.write_shift(2,S),K.write_shift(8,W,"f"),K}function T(S,U,W){var K=S.l+U,ie=f(S,U,W);if(ie[1].v=S.read_shift(8,"f"),W.qpro)S.l=K;else{var pe=S.read_shift(2);q(S.slice(S.l,S.l+pe),ie),S.l+=pe}return ie}function P(S,U,W){var K=U&32768;return U&=-32769,U=(K?S:0)+(U>=8192?U-16384:U),(K?"":"$")+(W?us(U):$s(U))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function q(S,U){Hs(S,0);for(var W=[],K=0,ie="",pe="",Ee="",xe="";S.l<S.length;){var Ae=S[S.l++];switch(Ae){case 0:W.push(S.read_shift(8,"f"));break;case 1:pe=P(U[0].c,S.read_shift(2),!0),ie=P(U[0].r,S.read_shift(2),!1),W.push(pe+ie);break;case 2:{var Me=P(U[0].c,S.read_shift(2),!0),ae=P(U[0].r,S.read_shift(2),!1);pe=P(U[0].c,S.read_shift(2),!0),ie=P(U[0].r,S.read_shift(2),!1),W.push(Me+ae+":"+pe+ie)}break;case 3:if(S.l<S.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(S.read_shift(2));break;case 6:{for(var at="";Ae=S[S.l++];)at+=String.fromCharCode(Ae);W.push('"'+at.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:xe=W.pop(),Ee=W.pop(),W.push(["AND","OR"][Ae-20]+"("+Ee+","+xe+")");break;default:if(Ae<32&&D[Ae])xe=W.pop(),Ee=W.pop(),W.push(Ee+D[Ae]+xe);else if(j[Ae]){if(K=j[Ae][1],K==69&&(K=S[S.l++]),K>W.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+W.join("|")+"|");return}var Re=W.slice(-K);W.length-=K,W.push(j[Ae][0]+"("+Re.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}W.length==1?U[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function se(S){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=S.read_shift(2),U[3]=S[S.l++],U[0].c=S[S.l++],U}function Q(S,U){var W=se(S);return W[1].t="s",W[1].v=S.read_shift(U-4,"cstr"),W}function F(S,U,W,K){var ie=cs(6+K.length);ie.write_shift(2,S),ie.write_shift(1,W),ie.write_shift(1,U),ie.write_shift(1,39);for(var pe=0;pe<K.length;++pe){var Ee=K.charCodeAt(pe);ie.write_shift(1,Ee>=128?95:Ee)}return ie.write_shift(1,0),ie}function A(S,U){var W=se(S);W[1].v=S.read_shift(2);var K=W[1].v>>1;if(W[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return W[1].v=K,W}function b(S,U){var W=se(S),K=S.read_shift(4),ie=S.read_shift(4),pe=S.read_shift(2);if(pe==65535)return K===0&&ie===3221225472?(W[1].t="e",W[1].v=15):K===0&&ie===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Ee=pe&32768;return pe=(pe&32767)-16446,W[1].v=(1-Ee*2)*(ie*Math.pow(2,pe+32)+K*Math.pow(2,pe)),W}function M(S,U,W,K){var ie=cs(14);if(ie.write_shift(2,S),ie.write_shift(1,W),ie.write_shift(1,U),K==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var pe=0,Ee=0,xe=0,Ae=0;return K<0&&(pe=1,K=-K),Ee=Math.log2(K)|0,K/=Math.pow(2,Ee-31),Ae=K>>>0,(Ae&2147483648)==0&&(K/=2,++Ee,Ae=K>>>0),K-=Ae,Ae|=2147483648,Ae>>>=0,K*=Math.pow(2,32),xe=K>>>0,ie.write_shift(4,xe),ie.write_shift(4,Ae),Ee+=16383+(pe?32768:0),ie.write_shift(2,Ee),ie}function C(S,U){var W=b(S);return S.l+=U-14,W}function N(S,U){var W=se(S),K=S.read_shift(4);return W[1].v=K>>6,W}function B(S,U){var W=se(S),K=S.read_shift(8,"f");return W[1].v=K,W}function ce(S,U){var W=B(S);return S.l+=U-10,W}function be(S,U){return S[S.l+U-1]==0?S.read_shift(U,"cstr"):""}function ke(S,U){var W=S[S.l++];W>U-1&&(W=U-1);for(var K="";K.length<W;)K+=String.fromCharCode(S[S.l++]);return K}function Te(S,U,W){if(!(!W.qpro||U<21)){var K=S.read_shift(1);S.l+=17,S.l+=1,S.l+=2;var ie=S.read_shift(U-21,"cstr");return[K,ie]}}function de(S,U){for(var W={},K=S.l+U;S.l<K;){var ie=S.read_shift(2);if(ie==14e3){for(W[ie]=[0,""],W[ie][0]=S.read_shift(2);S[S.l];)W[ie][1]+=String.fromCharCode(S[S.l]),S.l++;S.l++}}return W}function te(S,U){var W=cs(5+S.length);W.write_shift(2,14e3),W.write_shift(2,U);for(var K=0;K<S.length;++K){var ie=S.charCodeAt(K);W[W.l++]=ie>127?95:ie}return W[W.l++]=0,W}var Ce={0:{n:"BOF",f:Qi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:be},222:{n:"SHEETNAMELP",f:ke},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Q},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:de},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:be},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function bz(r){var e={},t=r.match(Sa),n=0,i=!1;if(t)for(;n!=t.length;++n){var s=gr(t[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=J_[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Az=(function(){var r=Yp("t"),e=Yp("rPr");function t(s){var a=s.match(r);if(!a)return{t:"s",v:""};var o={t:"s",v:on(a[1])},c=s.match(e);return c&&(o.s=bz(c[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(t).filter(function(o){return o.v})}})(),Sz=(function(){var e=/(\r\n|\n)/g;function t(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),kz=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Iz=/<(?:\w+:)?r>/,Cz=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function mw(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=on(zn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=zn(r),t&&(n.h=sw(n.t))):r.match(Iz)&&(n.r=zn(r),n.t=on(zn((r.replace(Cz,"").match(kz)||[]).join("").replace(Sa,""))),t&&(n.h=Sz(Az(n.r)))),n):{t:""}}var Nz=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Pz=/<(?:\w+:)?(?:si|sstItem)>/g,Rz=/<\/(?:\w+:)?(?:si|sstItem)>/;function Lz(r,e){var t=[],n="";if(!r)return t;var i=r.match(Nz);if(i){n=i[2].replace(Pz,"").split(Rz);for(var s=0;s!=n.length;++s){var a=mw(n[s].trim(),e);a!=null&&(t[t.length]=a)}i=gr(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function Fz(r){return[r.read_shift(4),r.read_shift(4)]}function Dz(r,e){var t=[],n=!1;return Xc(r,function(s,a,o){switch(o){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function FC(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function Dc(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function Oz(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=Dc(r,4),e.U=Dc(r,4),e.W=Dc(r,4),e}function Mz(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),s=[];i-- >0;)s.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=s,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function Bz(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(Mz(r));return e}function Vz(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function jz(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=Dc(r,4),e.U=Dc(r,4),e.W=Dc(r,4),e}function Uz(r){var e=jz(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function DC(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function OC(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function zz(r){var e=Dc(r);switch(e.Minor){case 2:return[e.Minor,qz(r)];case 3:return[e.Minor,Hz()];case 4:return[e.Minor,Wz(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function qz(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=DC(r,t),i=OC(r,r.length-r.l);return{t:"Std",h:n,v:i}}function Hz(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Wz(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(Sa,function(s){var a=gr(s);switch(ic(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function Gz(r,e){var t={},n=t.EncryptionVersionInfo=Dc(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=DC(r,i),e-=i,t.EncryptionVerifier=OC(r,e),t}function $z(r){var e={},t=e.EncryptionVersionInfo=Dc(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function Kz(r){var e=0,t,n=FC(r),i=n.length+1,s,a,o,c,f;for(t=sf(i),t[0]=n.length,s=1;s!=i;++s)t[s]=n[s-1];for(s=i-1;s>=0;--s)a=t[s],o=(e&16384)===0?0:1,c=e<<1&32767,f=o|c,e=f^a;return e^52811}var MC=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],c=104,f=a.length-1;f>=0;--f)for(var h=a[f],p=0;p!=7;++p)h&64&&(o^=t[c]),h*=2,--c;return o};return function(a){for(var o=FC(a),c=s(o),f=o.length,h=sf(16),p=0;p!=16;++p)h[p]=0;var x,m,E;for((f&1)===1&&(x=c>>8,h[f]=i(r[0],x),--f,x=c&255,m=o[o.length-1],h[f]=i(m,x));f>0;)--f,x=c>>8,h[f]=i(o[f],x),--f,x=c&255,h[f]=i(o[f],x);for(f=15,E=15-o.length;E>0;)x=c>>8,h[f]=i(r[E],x),--f,--E,x=c&255,h[f]=i(o[f],x),--f,--E;return h}})(),Xz=function(r,e,t,n,i){i||(i=e),n||(n=MC(r));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,n]},Yz=function(r){var e=0,t=MC(r);return function(n){var i=Xz("",n,e,t);return e=i[1],i[0]}};function Qz(r,e,t,n){var i={key:Qi(r),verificationBytes:Qi(r)};return t.password&&(i.verifier=Kz(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=Yz(t.password)),i}function Jz(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=$z(r):n.Data=Gz(r,e),n}function Zz(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?Jz(r,e-2,n):Qz(r,t.biff>=8?e:e-2,t,n),n}var eq=(function(){function r(i,s){switch(s.type){case"base64":return e(bo(i),s);case"binary":return e(i,s);case"buffer":return e(Kr&&Buffer.isBuffer(i)?i.toString("binary"):Ah(i),s);case"array":return e(gh(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var x=/\\\w+\b/g,m=0,E,w=-1;E=x.exec(h);){switch(E[0]){case"\\cell":var T=h.slice(m,x.lastIndex-E[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var P={v:T,t:"s"};Array.isArray(o)?o[p][w]=P:o[Sr({r:p,c:w})]=P}break}m=x.lastIndex}w>f.e.c&&(f.e.c=w)}),o["!ref"]=Zr(f),o}function t(i,s){return vf(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Ii(i["!ref"]),o,c=Array.isArray(i),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var p=Sr({r:f,c:h});o=c?(i[f]||[])[h]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(jc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function tq(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Zp(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function rq(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),s=Math.min(e,t,n),a=i-s;if(a===0)return[0,0,e];var o=0,c=0,f=i+s;switch(c=a/(f>1?2-f:f),i){case e:o=((t-n)/a+6)%6;break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}return[o/6,c,f/2]}function nq(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,c;if(t!==0)switch(o|0){case 0:case 6:c=i*o,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-o),a[0]+=c,a[1]+=i;break;case 2:c=i*(o-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-o),a[1]+=c,a[2]+=i;break;case 4:c=i*(o-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-o),a[2]+=c,a[0]+=i;break}for(var f=0;f!=3;++f)a[f]=Math.round(a[f]*255);return a}function Hg(r,e){if(e===0)return r;var t=rq(tq(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),Zp(nq(t))}var BC=6,iq=15,sq=1,Da=BC;function Wg(r){return Math.floor((r+Math.round(128/Da)/256)*Da)}function Gg(r){return Math.floor((r-5)/Da*100+.5)/100}function cy(r){return Math.round((r*Da+5)/Da*256)/256}function K2(r){return cy(Gg(Wg(r)))}function gw(r){var e=Math.abs(r-K2(r)),t=Da;if(e>.005)for(Da=sq;Da<iq;++Da)Math.abs(r-K2(r))<=e&&(e=Math.abs(r-K2(r)),t=Da);Da=t}function Zd(r){r.width?(r.wpx=Wg(r.width),r.wch=Gg(r.wpx),r.MDW=Da):r.wpx?(r.wch=Gg(r.wpx),r.width=cy(r.wch),r.MDW=Da):typeof r.wch=="number"&&(r.width=cy(r.wch),r.wpx=Wg(r.width),r.MDW=Da),r.customWidth&&delete r.customWidth}var aq=96,VC=aq;function jC(r){return r*96/VC}function e1(r){return r*VC/96}var oq={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function lq(r,e,t,n){e.Borders=[];var i={},s=!1;(r[0].match(Sa)||[]).forEach(function(a){var o=gr(a);switch(ic(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=ni(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=ni(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function cq(r,e,t,n){e.Fills=[];var i={},s=!1;(r[0].match(Sa)||[]).forEach(function(a){var o=gr(a);switch(ic(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function uq(r,e,t,n){e.Fonts=[];var i={},s=!1;(r[0].match(Sa)||[]).forEach(function(a){var o=gr(a);switch(ic(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=zn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?ni(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?ni(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?ni(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?ni(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?ni(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?ni(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?ni(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=J_[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=ni(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=eh[i.color.index];i.color.index==81&&(c=eh[1]),c||(c=eh[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=Hg(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function fq(r,e,t){e.NumberFmt=[];for(var n=tc(Ir),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Ir[n[i]];var s=r[0].match(Sa);if(s)for(i=0;i<s.length;++i){var a=gr(s[i]);switch(ic(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=on(zn(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}Zf(o,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Dm=["numFmtId","fillId","fontId","borderId","xfId"],Om=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function hq(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(Sa)||[]).forEach(function(s){var a=gr(s),o=0;switch(ic(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<Dm.length;++o)n[Dm[o]]&&(n[Dm[o]]=parseInt(n[Dm[o]],10));for(o=0;o<Om.length;++o)n[Om[o]]&&(n[Om[o]]=ni(n[Om[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=ni(a.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var dq=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&fq(p,h,f),(p=o.match(i))&&uq(p,h,c,f),(p=o.match(n))&&cq(p,h,c,f),(p=o.match(s))&&lq(p,h,c,f),(p=o.match(t))&&hq(p,h,f),h}})();function pq(r,e){var t=r.read_shift(2),n=ba(r);return[t,n]}function mq(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=Aj(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var o=r.read_shift(1);o>0&&(n.family=o);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=bj(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ba(r),n}var gq=Aa;function vq(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var xq=Aa;function yq(r,e,t){var n={};n.NumberFmt=[];for(var i in Ir)n.NumberFmt[i]=Ir[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Xc(r,function(c,f,h){switch(h){case 44:n.NumberFmt[c[0]]=c[1],Zf(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=Hg(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(h),a=!0;break;case 38:s.pop(),a=!1;break;default:if(f.T>0)s.push(h);else if(f.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}var _q=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function wq(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(Sa)||[]).forEach(function(i){var s=gr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[_q.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Eq(){}function Tq(){}var bq=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Aq=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Sq=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kq(r,e,t){e.themeElements={};var n;[["clrScheme",bq,wq],["fontScheme",Aq,Eq],["fmtScheme",Sq,Tq]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var Iq=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function UC(r,e){(!r||r.length===0)&&(r=Cq());var t,n={};if(!(t=r.match(Iq)))throw new Error("themeElements not found in theme");return kq(t[0],n,e),n.raw=r,n}function Cq(r,e){var t=[JI];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Nq(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var s=r.slice(r.l);r.l=n;var a;try{a=QI(s,{type:"array"})}catch{return}var o=yo(a,"theme/theme/theme1.xml",!0);if(o)return UC(o,t)}}function Pq(r){return r.read_shift(4)}function Rq(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=Lq(r,4);break;case 2:e.xclrValue=kC(r);break;case 3:e.xclrValue=Pq(r);break;case 4:r.l+=4;break}return r.l+=8,e}function Lq(r,e){return Aa(r,e)}function Fq(r,e){return Aa(r,e)}function Dq(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Rq(r);break;case 6:n[1]=Fq(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function Oq(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),s=[];i-- >0;)s.push(Dq(r,t-r.l));return{ixfe:n,ext:s}}function Mq(r,e){e.forEach(function(t){t[0]})}function Bq(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:ba(r)}}function Vq(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function jq(r){return r.l+=4,r.read_shift(4)!=0}function Uq(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,o=2;return Xc(r,function(c,f,h){switch(h){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(h),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!f.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function zq(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,s=2,a;return r.replace(Sa,function(o){var c=gr(o);switch(ic(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==c.name&&(a=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function qq(r){var e=[];if(!r)return e;var t=1;return(r.match(Sa)||[]).forEach(function(n){var i=gr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function Hq(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Sr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Wq(r,e,t){var n=[];return Xc(r,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Gq(r,e,t,n){if(!r)return r;var i=n||{},s=!1;Xc(r,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function $q(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function Pb(r,e,t,n){var i=Array.isArray(r),s;e.forEach(function(a){var o=Oa(a.ref);if(i?(r[o.r]||(r[o.r]=[]),s=r[o.r][o.c]):s=r[a.ref],!s){s={t:"z"},i?r[o.r][o.c]=s:r[a.ref]=s;var c=Ii(r["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=Zr(c);f!==r["!ref"]&&(r["!ref"]=f)}s.c||(s.c=[]);var h={a:a.author,t:a.t,r:a.r,T:t};a.h&&(h.h=a.h);for(var p=s.c.length-1;p>=0;--p){if(!t&&s.c[p].T)return;t&&!s.c[p].T&&s.c.splice(p,1)}if(t&&n){for(p=0;p<n.length;++p)if(h.a==n[p].id){h.a=n[p].name||h.a;break}}s.c.push(h)})}function Kq(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var s=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=gr(o[0]),f={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=Oa(c.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!p&&!!p[1]&&mw(p[1])||{r:"",t:"",h:""};f.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),f.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=x.h),n.push(f)}}}}),n}function Xq(r,e){var t=[],n=!1,i={},s=0;return r.replace(Sa,function(o,c){var f=gr(o);switch(ic(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":i.t=r.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),t}function Yq(r,e){var t=[],n=!1;return r.replace(Sa,function(s){var a=gr(s);switch(ic(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function Qq(r){var e={};e.iauthor=r.read_shift(4);var t=kh(r);return e.rfx=t.s,e.ref=Sr(t.s),r.l+=16,e}var Jq=ba;function Zq(r,e){var t=[],n=[],i={},s=!1;return Xc(r,function(o,c,f){switch(f){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),t}var eH="application/vnd.ms-office.vbaProject";function tH(r){var e=Jr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Jr.utils.cfb_add(e,i,r.FileIndex[n].content)}}),Jr.write(e)}function rH(){return{"!type":"dialog"}}function nH(){return{"!type":"dialog"}}function iH(){return{"!type":"macro"}}function sH(){return{"!type":"macro"}}var kd=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,c?f+=e.r:--f,i+(o?"":"$")+us(h)+(c?"":"$")+$s(f)}return function(i,s){return e=s,i.replace(r,t)}})(),zC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,aH=(function(){return function(e,t){return e.replace(zC,function(n,i,s,a,o,c){var f=cw(a)-(s?0:t.c),h=lw(c)-(o?0:t.r),p=h==0?"":o?h+1:"["+h+"]",x=f==0?"":s?f+1:"["+f+"]";return i+"R"+p+"C"+x})}})();function qC(r,e){return r.replace(zC,function(t,n,i,s,a,o){return n+(i=="$"?i+s:us(cw(s)+e.c))+(a=="$"?a+o:$s(lw(o)+e.r))})}function oH(r,e,t){var n=g0(e),i=n.s,s=Oa(t),a={r:s.r-i.r,c:s.c-i.c};return qC(r,a)}function lH(r){return r.length!=1}function Rb(r){return r.replace(/_xlfn\./g,"")}function Ki(r){r.l+=1}function af(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function HC(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return WC(r);t.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),a=af(r),o=af(r);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function WC(r){var e=af(r),t=af(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function cH(r,e,t){if(t.biff<8)return WC(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),s=af(r),a=af(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function GC(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return uH(r);var n=r.read_shift(t&&t.biff==12?4:2),i=af(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function uH(r){var e=af(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function fH(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function hH(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return dH(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function dH(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function pH(r,e,t){var n=(r[r.l++]&96)>>5,i=HC(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function mH(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=HC(r,s,t);return[n,i,a]}function gH(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function vH(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function xH(r,e,t){var n=(r[r.l++]&96)>>5,i=cH(r,e-1,t);return[n,i]}function yH(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function Lb(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function _H(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function wH(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function EH(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function TH(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function bH(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function $C(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function AH(r){return r.read_shift(2),$C(r)}function SH(r){return r.read_shift(2),$C(r)}function kH(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=GC(r,0,t);return[n,i]}function IH(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=hH(r,0,t);return[n,i]}function CH(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=GC(r,0,t);return[n,i,s]}function NH(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[PW[i],YC[i],n]}function PH(r,e,t){var n=r[r.l++],i=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:RH(r);return[i,(s[0]===0?YC:NW)[s[1]]]}function RH(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function LH(r,e,t){r.l+=t&&t.biff==2?3:4}function FH(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function DH(r){return r.l++,Ih[r.read_shift(1)]}function OH(r){return r.l++,r.read_shift(2)}function MH(r){return r.l++,r.read_shift(1)!==0}function BH(r){return r.l++,_a(r)}function VH(r,e,t){return r.l++,N1(r,e-1,t)}function jH(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Oi(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Ih[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=_a(r);break;case 2:t[1]=Ch(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function UH(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((t.biff==12?kh:Nv)(r));return i}function zH(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=jH(r,t.biff);return a}function qH(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function HH(r,e,t){if(t.biff==5)return WH(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function WH(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function GH(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function $H(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function KH(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function XH(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var YH=Aa,QH=Aa,JH=Aa;function R1(r,e,t){return r.l+=2,[fH(r)]}function vw(r){return r.l+=6,[]}var ZH=R1,eW=vw,tW=vw,rW=R1;function KC(r){return r.l+=2,[Qi(r),r.read_shift(2)&1]}var nW=R1,iW=KC,sW=vw,aW=R1,oW=R1,lW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cW(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),a=lW[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:n,c:i,C:s}}function uW(r){return r.l+=2,[r.read_shift(4)]}function fW(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function hW(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function dW(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function pW(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function mW(r){return r.l+=4,[0,0]}var Fb={1:{n:"PtgExp",f:FH},2:{n:"PtgTbl",f:JH},3:{n:"PtgAdd",f:Ki},4:{n:"PtgSub",f:Ki},5:{n:"PtgMul",f:Ki},6:{n:"PtgDiv",f:Ki},7:{n:"PtgPower",f:Ki},8:{n:"PtgConcat",f:Ki},9:{n:"PtgLt",f:Ki},10:{n:"PtgLe",f:Ki},11:{n:"PtgEq",f:Ki},12:{n:"PtgGe",f:Ki},13:{n:"PtgGt",f:Ki},14:{n:"PtgNe",f:Ki},15:{n:"PtgIsect",f:Ki},16:{n:"PtgUnion",f:Ki},17:{n:"PtgRange",f:Ki},18:{n:"PtgUplus",f:Ki},19:{n:"PtgUminus",f:Ki},20:{n:"PtgPercent",f:Ki},21:{n:"PtgParen",f:Ki},22:{n:"PtgMissArg",f:Ki},23:{n:"PtgStr",f:VH},26:{n:"PtgSheet",f:fW},27:{n:"PtgEndSheet",f:hW},28:{n:"PtgErr",f:DH},29:{n:"PtgBool",f:MH},30:{n:"PtgInt",f:OH},31:{n:"PtgNum",f:BH},32:{n:"PtgArray",f:yH},33:{n:"PtgFunc",f:NH},34:{n:"PtgFuncVar",f:PH},35:{n:"PtgName",f:qH},36:{n:"PtgRef",f:kH},37:{n:"PtgArea",f:pH},38:{n:"PtgMemArea",f:GH},39:{n:"PtgMemErr",f:YH},40:{n:"PtgMemNoMem",f:QH},41:{n:"PtgMemFunc",f:$H},42:{n:"PtgRefErr",f:KH},43:{n:"PtgAreaErr",f:gH},44:{n:"PtgRefN",f:IH},45:{n:"PtgAreaN",f:xH},46:{n:"PtgMemAreaN",f:dW},47:{n:"PtgMemNoMemN",f:pW},57:{n:"PtgNameX",f:HH},58:{n:"PtgRef3d",f:CH},59:{n:"PtgArea3d",f:mH},60:{n:"PtgRefErr3d",f:XH},61:{n:"PtgAreaErr3d",f:vH},255:{}},gW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},vW={1:{n:"PtgElfLel",f:KC},2:{n:"PtgElfRw",f:aW},3:{n:"PtgElfCol",f:ZH},6:{n:"PtgElfRwV",f:oW},7:{n:"PtgElfColV",f:rW},10:{n:"PtgElfRadical",f:nW},11:{n:"PtgElfRadicalS",f:sW},13:{n:"PtgElfColS",f:eW},15:{n:"PtgElfColSV",f:tW},16:{n:"PtgElfRadicalLel",f:iW},25:{n:"PtgList",f:cW},29:{n:"PtgSxName",f:uW},255:{}},xW={0:{n:"PtgAttrNoop",f:mW},1:{n:"PtgAttrSemi",f:bH},2:{n:"PtgAttrIf",f:EH},4:{n:"PtgAttrChoose",f:_H},8:{n:"PtgAttrGoto",f:wH},16:{n:"PtgAttrSum",f:LH},32:{n:"PtgAttrBaxcel",f:Lb},33:{n:"PtgAttrBaxcel",f:Lb},64:{n:"PtgAttrSpace",f:AH},65:{n:"PtgAttrSpaceSemi",f:SH},128:{n:"PtgAttrIfError",f:TH},255:{}};function L1(r,e,t,n){if(n.biff<8)return Aa(r,e);for(var i=r.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=zH(r,0,n),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=UH(r,t[a][1],n),s.push(t[a][2]);break;case"PtgExp":n&&n.biff==12&&(t[a][1][1]=r.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-r.l,e!==0&&s.push(Aa(r,e)),s}function F1(r,e,t){for(var n=r.l+e,i,s,a=[];n!=r.l;)e=n-r.l,s=r[r.l],i=Fb[s]||Fb[gW[s]],(s===24||s===25)&&(i=(s===24?vW:xW)[r[r.l+1]]),!i||!i.f?Aa(r,e):a.push([i.n,i.f(r,e,t)]);return a}function yW(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var _W={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wW(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function XC(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Db(r,e,t){var n=XC(r,e,t);return n=="#REF"?n:wW(n,t)}function ya(r,e,t,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,f,h,p=0,x=0,m,E="";if(!r[0]||!r[0][0])return"";for(var w=-1,T="",P=0,j=r[0].length;P<j;++P){var D=r[0][P];switch(D[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),w>=0){switch(r[0][w][1][0]){case 0:T=Ai(" ",r[0][w][1][1]);break;case 1:T=Ai("\r",r[0][w][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}f=f+T,w=-1}o.push(f+_W[D[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ep(D[1][1],a,i),o.push(Tp(h,s));break;case"PtgRefN":h=t?Ep(D[1][1],t,i):D[1][1],o.push(Tp(h,s));break;case"PtgRef3d":p=D[1][1],h=Ep(D[1][2],a,i),E=Db(n,p,i),o.push(E+"!"+Tp(h,s));break;case"PtgFunc":case"PtgFuncVar":var q=D[1][0],se=D[1][1];q||(q=0),q&=127;var Q=q==0?[]:o.slice(-q);o.length-=q,se==="User"&&(se=Q.shift()),o.push(se+"("+Q.join(",")+")");break;case"PtgBool":o.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(D[1]);break;case"PtgNum":o.push(String(D[1]));break;case"PtgStr":o.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(D[1]);break;case"PtgAreaN":m=mb(D[1][1],t?{s:t}:a,i),o.push(G2(m,i));break;case"PtgArea":m=mb(D[1][1],a,i),o.push(G2(m,i));break;case"PtgArea3d":p=D[1][1],m=D[1][2],E=Db(n,p,i),o.push(E+"!"+G2(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=D[1][2];var F=(n.names||[])[x-1]||(n[0]||[])[x],A=F?F.Name:"SH33TJSNAME"+String(x);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var b=D[1][1];x=D[1][2];var M;if(i.biff<=5)b<0&&(b=-b),n[b]&&(M=n[b][x]);else{var C="";if(((n[b]||[])[0]||[])[0]==14849||(((n[b]||[])[0]||[])[0]==1025?n[b][x]&&n[b][x].itab>0&&(C=n.SheetNames[n[b][x].itab-1]+"!"):C=n.SheetNames[x-1]+"!"),n[b]&&n[b][x])C+=n[b][x].Name;else if(n[0]&&n[0][x])C+=n[0][x].Name;else{var N=(XC(n,b,i)||"").split(";;");N[x-1]?C=N[x-1]:C+="SH33TJSERRX"}o.push(C);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var B="(",ce=")";if(w>=0){switch(T="",r[0][w][1][0]){case 2:B=Ai(" ",r[0][w][1][1])+B;break;case 3:B=Ai("\r",r[0][w][1][1])+B;break;case 4:ce=Ai(" ",r[0][w][1][1])+ce;break;case 5:ce=Ai("\r",r[0][w][1][1])+ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}w=-1}o.push(B+o.pop()+ce);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:D[1][1],r:D[1][0]};var be={c:t.c,r:t.r};if(n.sharedf[Sr(h)]){var ke=n.sharedf[Sr(h)];o.push(ya(ke,a,be,n,i))}else{var Te=!1;for(c=0;c!=n.arrayf.length;++c)if(f=n.arrayf[c],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(ya(f[1],a,be,n,i)),Te=!0;break}Te||o.push(D[1])}break;case"PtgArray":o.push("{"+yW(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var de=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&de.indexOf(r[0][P][0])==-1){D=r[0][w];var te=!0;switch(D[1][0]){case 4:te=!1;case 0:T=Ai(" ",D[1][1]);break;case 5:te=!1;case 1:T=Ai("\r",D[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}o.push((te?T:"")+o.pop()+(te?"":T)),w=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function EW(r,e,t){var n=r.l+e,i=t.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Aa(r,e-2)];var o=F1(r,a,t);return e!==a+i&&(s=L1(r,e-a-i,o,t)),r.l=n,[o,s]}function TW(r,e,t){var n=r.l+e,i=t.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Aa(r,e-2)];var o=F1(r,a,t);return e!==a+i&&(s=L1(r,e-a-i,o,t)),r.l=n,[o,s]}function bW(r,e,t,n){var i=r.l+e,s=F1(r,n,t),a;return i!==r.l&&(a=L1(r,i-r.l,s,t)),[s,a]}function AW(r,e,t){var n=r.l+e,i,s=r.read_shift(2),a=F1(r,s,t);return s==65535?[[],Aa(r,e-2)]:(e!==s+2&&(i=L1(r,n-s-2,a,t)),[a,i])}function SW(r){var e;if(Pc(r,r.l+6)!==65535)return[_a(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function X2(r,e,t){var n=r.l+e,i=sc(r);t.biff==2&&++r.l;var s=SW(r),a=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=TW(r,n-r.l,t);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function Pv(r,e,t){var n=r.read_shift(4),i=F1(r,n,t),s=r.read_shift(4),a=s>0?L1(r,s,i,t):null;return[i,a]}var kW=Pv,Rv=Pv,IW=Pv,CW=Pv,NW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},PW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ob(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function Y2(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var kp={},Id={};function Ip(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function QC(r,e,t,n,i,s){try{n.cellNF&&(r.z=Ir[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Ns(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(Ir[e]==null&&Zf(RV[e]||"General",e),r.t==="e")r.w=r.w||Ih[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Xp(r.v);else if(r.t==="d"){var a=Ba(r.v);(a|0)===a?r.w=a.toString(10):r.w=Xp(a)}else{if(r.v===void 0)return"";r.w=mh(r.v,Id)}else r.t==="d"?r.w=Go(e,Ba(r.v),Id):r.w=Go(e,r.v,Id)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=s.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=Hg(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=Hg(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function RW(r,e){var t=Ii(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Zr(t))}var LW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,FW=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,DW=/<(?:\w:)?hyperlink [^>]*>/mg,OW=/"(\w*:\w*)"/,MW=/<(?:\w:)?col\b[^>]*[\/]?>/g,BW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,VW=/<(?:\w:)?pageMargins[^>]*\/>/g,JC=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,jW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,UW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function zW(r,e,t,n,i,s,a){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",p=r.match(FW);p?(f=r.slice(0,p.index),h=r.slice(p.index+p[0].length)):f=h=r;var x=f.match(JC);x?xw(x[0],o,i,t):(x=f.match(jW))&&qW(x[0],x[1]||"",o,i,t);var m=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var E=f.slice(m,m+50).match(OW);E&&RW(o,E[1])}var w=f.match(UW);w&&w[1]&&XW(w[1],i);var T=[];if(e.cellStyles){var P=f.match(MW);P&&GW(T,P)}p&&YW(p[1],o,e,c,s,a);var j=h.match(BW);j&&(o["!autofilter"]=$W(j[0]));var D=[],q=h.match(LW);if(q)for(m=0;m!=q.length;++m)D[m]=Ii(q[m].slice(q[m].indexOf('"')+1));var se=h.match(DW);se&&HW(o,se,n);var Q=h.match(VW);if(Q&&(o["!margins"]=WW(gr(Q[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Zr(c)),e.sheetRows>0&&o["!ref"]){var F=Ii(o["!ref"]);e.sheetRows<=+F.e.r&&(F.e.r=e.sheetRows-1,F.e.r>c.e.r&&(F.e.r=c.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>c.e.c&&(F.e.c=c.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Zr(F))}return T.length>0&&(o["!cols"]=T),D.length>0&&(o["!merges"]=D),o}function xw(r,e,t,n){var i=gr(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=on(zn(i.codeName)))}function qW(r,e,t,n,i){xw(r.slice(0,r.indexOf(">")),t,n,i)}function HW(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var s=gr(zn(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+on(s.location))):(s.Target="#"+on(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Ii(s.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var h=Sr({c:f,r:c});n?(r[c]||(r[c]=[]),r[c][f]||(r[c][f]={t:"z",v:void 0}),r[c][f].l=s):(r[h]||(r[h]={t:"z",v:void 0}),r[h].l=s)}}}function WW(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function GW(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=gr(e[n],!0);i.hidden&&(i.hidden=ni(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,gw(i.width)),Zd(i);s<=a;)r[s++]=Gs(i)}}function $W(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var KW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function XW(r,e){e.Views||(e.Views=[{}]),(r.match(KW)||[]).forEach(function(t,n){var i=gr(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),ni(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var YW=(function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Yp("v"),a=Yp("f");return function(c,f,h,p,x,m){for(var E=0,w="",T=[],P=[],j=0,D=0,q=0,se="",Q,F,A=0,b=0,M,C,N=0,B=0,ce=Array.isArray(m.CellXf),be,ke=[],Te=[],de=Array.isArray(f),te=[],Ce={},re=!1,S=!!h.sheetStubs,U=c.split(e),W=0,K=U.length;W!=K;++W){w=U[W].trim();var ie=w.length;if(ie!==0){var pe=0;e:for(E=0;E<ie;++E)switch(w[E]){case">":if(w[E-1]!="/"){++E;break e}if(h&&h.cellStyles){if(F=gr(w.slice(pe,E),!0),A=F.r!=null?parseInt(F.r,10):A+1,b=-1,h.sheetRows&&h.sheetRows<A)continue;Ce={},re=!1,F.ht&&(re=!0,Ce.hpt=parseFloat(F.ht),Ce.hpx=e1(Ce.hpt)),F.hidden=="1"&&(re=!0,Ce.hidden=!0),F.outlineLevel!=null&&(re=!0,Ce.level=+F.outlineLevel),re&&(te[A-1]=Ce)}break;case"<":pe=E;break}if(pe>=E)break;if(F=gr(w.slice(pe,E),!0),A=F.r!=null?parseInt(F.r,10):A+1,b=-1,!(h.sheetRows&&h.sheetRows<A)){p.s.r>A-1&&(p.s.r=A-1),p.e.r<A-1&&(p.e.r=A-1),h&&h.cellStyles&&(Ce={},re=!1,F.ht&&(re=!0,Ce.hpt=parseFloat(F.ht),Ce.hpx=e1(Ce.hpt)),F.hidden=="1"&&(re=!0,Ce.hidden=!0),F.outlineLevel!=null&&(re=!0,Ce.level=+F.outlineLevel),re&&(te[A-1]=Ce)),T=w.slice(E).split(r);for(var Ee=0;Ee!=T.length&&T[Ee].trim().charAt(0)=="<";++Ee);for(T=T.slice(Ee),E=0;E!=T.length;++E)if(w=T[E].trim(),w.length!==0){if(P=w.match(t),j=E,D=0,q=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,P!=null&&P.length===2){for(j=0,se=P[1],D=0;D!=se.length&&!((q=se.charCodeAt(D)-64)<1||q>26);++D)j=26*j+q;--j,b=j}else++b;for(D=0;D!=w.length&&w.charCodeAt(D)!==62;++D);if(++D,F=gr(w.slice(0,D),!0),F.r||(F.r=Sr({r:A-1,c:b})),se=w.slice(D),Q={t:""},(P=se.match(s))!=null&&P[1]!==""&&(Q.v=on(P[1])),h.cellFormula){if((P=se.match(a))!=null&&P[1]!==""){if(Q.f=on(zn(P[1])).replace(/\r\n/g,`
`),h.xlfn||(Q.f=Rb(Q.f)),P[0].indexOf('t="array"')>-1)Q.F=(se.match(i)||[])[1],Q.F.indexOf(":")>-1&&ke.push([Ii(Q.F),Q.F]);else if(P[0].indexOf('t="shared"')>-1){C=gr(P[0]);var xe=on(zn(P[1]));h.xlfn||(xe=Rb(xe)),Te[parseInt(C.si,10)]=[C,xe,F.r]}}else(P=se.match(/<f[^>]*\/>/))&&(C=gr(P[0]),Te[C.si]&&(Q.f=oH(Te[C.si][1],Te[C.si][2],F.r)));var Ae=Oa(F.r);for(D=0;D<ke.length;++D)Ae.r>=ke[D][0].s.r&&Ae.r<=ke[D][0].e.r&&Ae.c>=ke[D][0].s.c&&Ae.c<=ke[D][0].e.c&&(Q.F=ke[D][1])}if(F.t==null&&Q.v===void 0)if(Q.f||Q.F)Q.v=0,Q.t="n";else if(S)Q.t="z";else continue;else Q.t=F.t||"n";switch(p.s.c>b&&(p.s.c=b),p.e.c<b&&(p.e.c=b),Q.t){case"n":if(Q.v==""||Q.v==null){if(!S)continue;Q.t="z"}else Q.v=parseFloat(Q.v);break;case"s":if(typeof Q.v>"u"){if(!S)continue;Q.t="z"}else M=kp[parseInt(Q.v,10)],Q.v=M.t,Q.r=M.r,h.cellHTML&&(Q.h=M.h);break;case"str":Q.t="s",Q.v=Q.v!=null?zn(Q.v):"",h.cellHTML&&(Q.h=sw(Q.v));break;case"inlineStr":P=se.match(n),Q.t="s",P!=null&&(M=mw(P[1]))?(Q.v=M.t,h.cellHTML&&(Q.h=M.h)):Q.v="";break;case"b":Q.v=ni(Q.v);break;case"d":h.cellDates?Q.v=Ns(Q.v,1):(Q.v=Ba(Ns(Q.v,1)),Q.t="n");break;case"e":(!h||h.cellText!==!1)&&(Q.w=Q.v),Q.v=yC[Q.v];break}if(N=B=0,be=null,ce&&F.s!==void 0&&(be=m.CellXf[F.s],be!=null&&(be.numFmtId!=null&&(N=be.numFmtId),h.cellStyles&&be.fillId!=null&&(B=be.fillId))),QC(Q,N,B,h,x,m),h.cellDates&&ce&&Q.t=="n"&&m0(Ir[N])&&(Q.t="d",Q.v=Cv(Q.v)),F.cm&&h.xlmeta){var Me=(h.xlmeta.Cell||[])[+F.cm-1];Me&&Me.type=="XLDAPR"&&(Q.D=!0)}if(de){var ae=Oa(F.r);f[ae.r]||(f[ae.r]=[]),f[ae.r][ae.c]=Q}else f[F.r]=Q}}}}te.length>0&&(f["!rows"]=te)}})();function QW(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}var JW=kh;function ZW(){}function eG(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=Ej(r),t}function tG(r){var e=Ko(r);return[e]}function rG(r){var e=Sh(r);return[e]}function nG(r){var e=Ko(r),t=r.read_shift(1);return[e,t,"b"]}function iG(r){var e=Sh(r),t=r.read_shift(1);return[e,t,"b"]}function sG(r){var e=Ko(r),t=r.read_shift(1);return[e,t,"e"]}function aG(r){var e=Sh(r),t=r.read_shift(1);return[e,t,"e"]}function oG(r){var e=Ko(r),t=r.read_shift(4);return[e,t,"s"]}function lG(r){var e=Sh(r),t=r.read_shift(4);return[e,t,"s"]}function cG(r){var e=Ko(r),t=_a(r);return[e,t,"n"]}function ZC(r){var e=Sh(r),t=_a(r);return[e,t,"n"]}function uG(r){var e=Ko(r),t=hw(r);return[e,t,"n"]}function fG(r){var e=Sh(r),t=hw(r);return[e,t,"n"]}function hG(r){var e=Ko(r),t=uw(r);return[e,t,"is"]}function dG(r){var e=Ko(r),t=ba(r);return[e,t,"str"]}function pG(r){var e=Sh(r),t=ba(r);return[e,t,"str"]}function mG(r,e,t){var n=r.l+e,i=Ko(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"b"];if(t.cellFormula){r.l+=2;var o=Rv(r,n-r.l,t);a[3]=ya(o,null,i,t.supbooks,t)}else r.l=n;return a}function gG(r,e,t){var n=r.l+e,i=Ko(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"e"];if(t.cellFormula){r.l+=2;var o=Rv(r,n-r.l,t);a[3]=ya(o,null,i,t.supbooks,t)}else r.l=n;return a}function vG(r,e,t){var n=r.l+e,i=Ko(r);i.r=t["!row"];var s=_a(r),a=[i,s,"n"];if(t.cellFormula){r.l+=2;var o=Rv(r,n-r.l,t);a[3]=ya(o,null,i,t.supbooks,t)}else r.l=n;return a}function xG(r,e,t){var n=r.l+e,i=Ko(r);i.r=t["!row"];var s=ba(r),a=[i,s,"str"];if(t.cellFormula){r.l+=2;var o=Rv(r,n-r.l,t);a[3]=ya(o,null,i,t.supbooks,t)}else r.l=n;return a}var yG=kh;function _G(r,e){var t=r.l+e,n=kh(r),i=fw(r),s=ba(r),a=ba(r),o=ba(r);r.l=t;var c={rfx:n,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function wG(){}function EG(r,e,t){var n=r.l+e,i=gC(r),s=r.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=kW(r,n-r.l,t);a[1]=o}else r.l=n;return a}function TG(r,e,t){var n=r.l+e,i=kh(r),s=[i];if(t.cellFormula){var a=CW(r,n-r.l,t);s[1]=a,r.l=n}else r.l=n;return s}var bG=["left","right","top","bottom","header","footer"];function AG(r){var e={};return bG.forEach(function(t){e[t]=_a(r)}),e}function SG(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function kG(){}function IG(){}function CG(r,e,t,n,i,s,a){if(!r)return r;var o=e||{};n||(n={"!id":{}});var c=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,x=!1,m,E,w,T,P,j,D,q,se,Q=[];o.biff=12,o["!row"]=0;var F=0,A=!1,b=[],M={},C=o.supbooks||i.supbooks||[[]];if(C.sharedf=M,C.arrayf=b,C.SheetNames=i.SheetNames||i.Sheets.map(function(de){return de.name}),!o.supbooks&&(o.supbooks=C,i.Names))for(var N=0;N<i.Names.length;++N)C[0][N+1]=i.Names[N];var B=[],ce=[],be=!1;$g[16]={n:"BrtShortReal",f:ZC};var ke;if(Xc(r,function(te,Ce,re){if(!x)switch(re){case 148:f=te;break;case 0:m=te,o.sheetRows&&o.sheetRows<=m.r&&(x=!0),q=$s(T=m.r),o["!row"]=m.r,(te.hidden||te.hpt||te.level!=null)&&(te.hpt&&(te.hpx=e1(te.hpt)),ce[te.r]=te);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(E={t:te[2]},te[2]){case"n":E.v=te[1];break;case"s":D=kp[te[1]],E.v=D.t,E.r=D.r;break;case"b":E.v=!!te[1];break;case"e":E.v=te[1],o.cellText!==!1&&(E.w=Ih[E.v]);break;case"str":E.t="s",E.v=te[1];break;case"is":E.t="s",E.v=te[1].t;break}if((w=a.CellXf[te[0].iStyleRef])&&QC(E,w.numFmtId,null,o,s,a),P=te[0].c==-1?P+1:te[0].c,o.dense?(c[T]||(c[T]=[]),c[T][P]=E):c[us(P)+q]=E,o.cellFormula){for(A=!1,F=0;F<b.length;++F){var S=b[F];m.r>=S[0].s.r&&m.r<=S[0].e.r&&P>=S[0].s.c&&P<=S[0].e.c&&(E.F=Zr(S[0]),A=!0)}!A&&te.length>3&&(E.f=te[3])}if(h.s.r>m.r&&(h.s.r=m.r),h.s.c>P&&(h.s.c=P),h.e.r<m.r&&(h.e.r=m.r),h.e.c<P&&(h.e.c=P),o.cellDates&&w&&E.t=="n"&&m0(Ir[w.numFmtId])){var U=Kf(E.v);U&&(E.t="d",E.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}ke&&(ke.type=="XLDAPR"&&(E.D=!0),ke=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;E={t:"z",v:void 0},P=te[0].c==-1?P+1:te[0].c,o.dense?(c[T]||(c[T]=[]),c[T][P]=E):c[us(P)+q]=E,h.s.r>m.r&&(h.s.r=m.r),h.s.c>P&&(h.s.c=P),h.e.r<m.r&&(h.e.r=m.r),h.e.c<P&&(h.e.c=P),ke&&(ke.type=="XLDAPR"&&(E.D=!0),ke=void 0);break;case 176:Q.push(te);break;case 49:ke=((o.xlmeta||{}).Cell||[])[te-1];break;case 494:var W=n["!id"][te.relId];for(W?(te.Target=W.Target,te.loc&&(te.Target+="#"+te.loc),te.Rel=W):te.relId==""&&(te.Target="#"+te.loc),T=te.rfx.s.r;T<=te.rfx.e.r;++T)for(P=te.rfx.s.c;P<=te.rfx.e.c;++P)o.dense?(c[T]||(c[T]=[]),c[T][P]||(c[T][P]={t:"z",v:void 0}),c[T][P].l=te):(j=Sr({c:P,r:T}),c[j]||(c[j]={t:"z",v:void 0}),c[j].l=te);break;case 426:if(!o.cellFormula)break;b.push(te),se=o.dense?c[T][P]:c[us(P)+q],se.f=ya(te[1],h,{r:m.r,c:P},C,o),se.F=Zr(te[0]);break;case 427:if(!o.cellFormula)break;M[Sr(te[0].s)]=te[1],se=o.dense?c[T][P]:c[us(P)+q],se.f=ya(te[1],h,{r:m.r,c:P},C,o);break;case 60:if(!o.cellStyles)break;for(;te.e>=te.s;)B[te.e--]={width:te.w/256,hidden:!!(te.flags&1),level:te.level},be||(be=!0,gw(te.w/256)),Zd(B[te.e+1]);break;case 161:c["!autofilter"]={ref:Zr(te)};break;case 476:c["!margins"]=te;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),te.name&&(i.Sheets[t].CodeName=te.name),(te.above||te.left)&&(c["!outline"]={above:te.above,left:te.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),te.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Ce.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=Zr(f||h)),o.sheetRows&&c["!ref"]){var Te=Ii(c["!ref"]);o.sheetRows<=+Te.e.r&&(Te.e.r=o.sheetRows-1,Te.e.r>h.e.r&&(Te.e.r=h.e.r),Te.e.r<Te.s.r&&(Te.s.r=Te.e.r),Te.e.c>h.e.c&&(Te.e.c=h.e.c),Te.e.c<Te.s.c&&(Te.s.c=Te.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Zr(Te))}return Q.length>0&&(c["!merges"]=Q),B.length>0&&(c["!cols"]=B),ce.length>0&&(c["!rows"]=ce),c}function NG(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=on((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function PG(r,e,t,n,i,s){var a=s||{"!type":"chart"};if(!r)return s;var o=0,c=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var x=NG(p);h.s.r=h.s.c=0,h.e.c=o,f=us(o),x[0].forEach(function(m,E){a[f+$s(E)]={t:"n",v:m,z:x[1]},c=E}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(a["!ref"]=Zr(h)),a}function RG(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=r.match(JC);return o&&xw(o[0],s,i,t),(a=r.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function LG(r,e){r.l+=10;var t=ba(r);return{name:t}}function FG(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Xc(r,function(c,f,h){switch(h){case 550:s["!rel"]=c;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),c.name&&(i.Sheets[t].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var eN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],DG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],OG=[],MG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Mb(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=ni(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function Bb(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=ni(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function tN(r){Bb(r.WBProps,eN),Bb(r.CalcPr,MG),Mb(r.WBView,DG),Mb(r.Sheets,OG),Id.date1904=ni(r.WBProps.date1904)}var BG="][*?/\\".split("");function VG(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return BG.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var jG=/<\w+:workbook/;function UG(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(r.replace(Sa,function(c,f){var h=gr(c);switch(ic(h[0])){case"<?xml":break;case"<workbook":c.match(jG)&&(i="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],t.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":eN.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":t.WBProps[p[0]]=ni(h[p[0]]);break;case"int":t.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:t.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(t.WBProps.CodeName=zn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],t.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=on(zn(h.name)),delete h[0],t.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=zn(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),ni(h.hidden||"0")&&(s.Hidden=!0),a=f+c.length;break;case"</definedName>":s.Ref=on(zn(r.slice(a,f))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],t.CalcPr=h;break;case"<calcPr/>":delete h[0],t.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),sj.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return tN(t),t}function zG(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=ay(r),t.name=ba(r),t}function qG(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?ba(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function HG(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function WG(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),s=Tj(r),a=IW(r,0,t),o=fw(r);r.l=n;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function GG(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],$g[16]={n:"BrtFRTArchID$",f:HG},Xc(r,function(c,f,h){switch(h){case 156:a.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=ya(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([h,c]):a[0]=[h,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(h),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),tN(t),t.Names=s,t.supbooks=a,t}function $G(r,e,t){return e.slice(-4)===".bin"?GG(r,t):UG(r,t)}function KG(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?CG(r,n,t,i,s,a,o):zW(r,n,t,i,s,a,o)}function XG(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?FG(r,n,t,i,s):RG(r,n,t,i,s)}function YG(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?iH():sH()}function QG(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?rH():nH()}function JG(r,e,t,n){return e.slice(-4)===".bin"?yq(r,t,n):dq(r,t,n)}function ZG(r,e,t){return UC(r,t)}function e$(r,e,t){return e.slice(-4)===".bin"?Dz(r,t):Lz(r,t)}function t$(r,e,t){return e.slice(-4)===".bin"?Zq(r,t):Kq(r,t)}function r$(r,e,t){return e.slice(-4)===".bin"?Wq(r):qq(r)}function n$(r,e,t,n){return t.slice(-4)===".bin"?Gq(r,e,t,n):void 0}function i$(r,e,t){return e.slice(-4)===".bin"?Uq(r,e,t):zq(r,e,t)}var rN=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nN=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function fl(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(rN),s,a,o,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(nN),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function s$(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(rN),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(nN),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var Cp;function a$(r,e){var t=Cp[r]||on(r);return t==="General"?mh(e):Go(t,e)}function o$(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=ni(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Ns(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[on(e)]=i}function l$(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Ih[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Xp(r.v):r.w=mh(r.v):r.w=a$(e||"General",r.v)}catch(s){if(t.WTF)throw s}try{var n=Cp[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&m0(n)){var i=Kf(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function c$(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=oq[n.Pattern]||n.Pattern)}r[e.ID]=e}function u$(r,e,t,n,i,s,a,o,c,f){var h="General",p=n.StyleID,x={};f=f||{};var m=[],E=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);s[p]!==void 0&&(s[p].nf&&(h=s[p].nf),s[p].Interior&&m.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=ni(r);break;case"String":n.t="s",n.r=ab(on(r)),n.v=r.indexOf("<")>-1?on(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Ns(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=on(r):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=yC[r],f.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=ab(e||r));break}if(l$(n,h,f),f.cellFormula!==!1)if(n.Formula){var w=on(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=kd(w,i),delete n.Formula,n.ArrayRange=="RC"?n.F=kd("RC:RC",i):n.ArrayRange&&(n.F=kd(n.ArrayRange,i),c.push([Ii(n.F),n.F]))}else for(E=0;E<c.length;++E)i.r>=c[E][0].s.r&&i.r<=c[E][0].e.r&&i.c>=c[E][0].s.c&&i.c<=c[E][0].e.c&&(n.F=c[E][1]);f.cellStyles&&(m.forEach(function(T){!x.patternType&&T.patternType&&(x.patternType=T.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function f$(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function Q2(r,e){var t=e||{};WI();var n=op(aw(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=zn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Gs(t);return a.type="string",Jp.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return _$(n,t);Cp={"General Number":"General","General Date":Ir[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ir[15],"Short Date":Ir[14],"Long Time":Ir[19],"Medium Time":Ir[18],"Short Time":Ir[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ir[2],Standard:Ir[4],Percent:Ir[10],Scientific:Ir[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,h={},p=[],x=t.dense?[]:{},m="",E={},w={},T=fl('<Data ss:Type="String">'),P=0,j=0,D=0,q={s:{r:2e6,c:2e6},e:{r:0,c:0}},se={},Q={},F="",A=0,b=[],M={},C={},N=0,B=[],ce=[],be={},ke=[],Te,de=!1,te=[],Ce=[],re={},S=0,U=0,W={Sheets:[],WBProps:{date1904:!1}},K={};Qp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";o=Qp.exec(n);)switch(o[3]=(ie=o[3]).toLowerCase()){case"data":if(ie=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?u$(n.slice(P,o.index),F,T,c[c.length-1][0]=="comment"?be:E,{c:j,r:D},se,ke[j],w,te,t):(F="",T=fl(o[0]),P=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ce.length>0&&(E.c=ce),(!t.sheetRows||t.sheetRows>D)&&E.v!==void 0&&(t.dense?(x[D]||(x[D]=[]),x[D][j]=E):x[us(j)+$s(D)]=E),E.HRef&&(E.l={Target:on(E.HRef)},E.HRefScreenTip&&(E.l.Tooltip=E.HRefScreenTip),delete E.HRef,delete E.HRefScreenTip),(E.MergeAcross||E.MergeDown)&&(S=j+(parseInt(E.MergeAcross,10)|0),U=D+(parseInt(E.MergeDown,10)|0),b.push({s:{c:j,r:D},e:{c:S,r:U}})),!t.sheetStubs)E.MergeAcross?j=S+1:++j;else if(E.MergeAcross||E.MergeDown){for(var pe=j;pe<=S;++pe)for(var Ee=D;Ee<=U;++Ee)(pe>j||Ee>D)&&(t.dense?(x[Ee]||(x[Ee]=[]),x[Ee][pe]={t:"z"}):x[us(pe)+$s(Ee)]={t:"z"});j=S+1}else++j;else E=s$(o[0]),E.Index&&(j=+E.Index-1),j<q.s.c&&(q.s.c=j),j>q.e.c&&(q.e.c=j),o[0].slice(-2)==="/>"&&++j,ce=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(D<q.s.r&&(q.s.r=D),D>q.e.r&&(q.e.r=D),o[0].slice(-2)==="/>"&&(w=fl(o[0]),w.Index&&(D=+w.Index-1)),j=0,++D):(w=fl(o[0]),w.Index&&(D=+w.Index-1),re={},(w.AutoFitHeight=="0"||w.Height)&&(re.hpx=parseInt(w.Height,10),re.hpt=jC(re.hpx),Ce[D]=re),w.Hidden=="1"&&(re.hidden=!0,Ce[D]=re));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));p.push(m),q.s.r<=q.e.r&&q.s.c<=q.e.c&&(x["!ref"]=Zr(q),t.sheetRows&&t.sheetRows<=q.e.r&&(x["!fullref"]=x["!ref"],q.e.r=t.sheetRows-1,x["!ref"]=Zr(q))),b.length&&(x["!merges"]=b),ke.length>0&&(x["!cols"]=ke),Ce.length>0&&(x["!rows"]=Ce),h[m]=x}else q={s:{r:2e6,c:2e6},e:{r:0,c:0}},D=j=0,c.push([o[3],!1]),f=fl(o[0]),m=on(f.Name),x=t.dense?[]:{},b=[],te=[],Ce=[],K={name:m,Hidden:0},W.Sheets.push(K);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),ke=[],de=!1}break;case"style":o[1]==="/"?c$(se,Q,t):Q=fl(o[0]);break;case"numberformat":Q.nf=on(fl(o[0]).Format||"General"),Cp[Q.nf]&&(Q.nf=Cp[Q.nf]);for(var xe=0;xe!=392&&Ir[xe]!=Q.nf;++xe);if(xe==392){for(xe=57;xe!=392;++xe)if(Ir[xe]==null){Zf(Q.nf,xe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Te=fl(o[0]),Te.Hidden&&(Te.hidden=!0,delete Te.Hidden),Te.Width&&(Te.wpx=parseInt(Te.Width,10)),!de&&Te.wpx>10){de=!0,Da=BC;for(var Ae=0;Ae<ke.length;++Ae)ke[Ae]&&Zd(ke[Ae])}de&&Zd(Te),ke[Te.Index-1||ke.length]=Te;for(var Me=0;Me<+Te.Span;++Me)ke[ke.length]=Gs(Te);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var ae=gr(o[0]),at={Name:ae.Name,Ref:kd(ae.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(at.Sheet=W.Sheets.length-1),W.Names.push(at);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?F+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;Q.Interior=fl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Kj(M,ie,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));f$(be),ce.push(be)}else c.push([o[3],!1]),f=fl(o[0]),be={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Re=fl(o[0]);x["!autofilter"]={ref:kd(Re.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return Hb(n,t);var G=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:G=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:G=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:G=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:G=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else N=o.index+o[0].length;break;case"header":x["!margins"]||Ip(x["!margins"]={},"xlml"),isNaN(+gr(o[0]).Margin)||(x["!margins"].header=+gr(o[0]).Margin);break;case"footer":x["!margins"]||Ip(x["!margins"]={},"xlml"),isNaN(+gr(o[0]).Margin)||(x["!margins"].footer=+gr(o[0]).Margin);break;case"pagemargins":var Fe=gr(o[0]);x["!margins"]||Ip(x["!margins"]={},"xlml"),isNaN(+Fe.Top)||(x["!margins"].top=+Fe.Top),isNaN(+Fe.Left)||(x["!margins"].left=+Fe.Left),isNaN(+Fe.Right)||(x["!margins"].right=+Fe.Right),isNaN(+Fe.Bottom)||(x["!margins"].bottom=+Fe.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:G=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:G=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:G=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:G=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:G=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:G=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:G=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:G=!1}break;case"smarttags":break;default:G=!1;break}if(G||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?o$(C,ie,B,n.slice(N,o.index)):(B=o,N=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var $e={};return!t.bookSheets&&!t.bookProps&&($e.Sheets=h),$e.SheetNames=p,$e.Workbook=W,$e.SSF=Gs(Ir),$e.Props=M,$e.Custprops=C,$e}function uy(r,e){switch(ww(e=e||{}),e.type||"base64"){case"base64":return Q2(bo(r),e);case"binary":case"buffer":case"file":return Q2(r,e);case"array":return Q2(Ah(r),e)}}function h$(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Sj(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=kj(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var d$=[60,1084,2066,2165,2175];function p$(r,e,t,n,i){var s=n,a=[],o=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),t.l+=s;for(var c=Pc(t,t.l),f=fy[c],h=0;f!=null&&d$.indexOf(c)>-1;)s=Pc(t,t.l+2),h=t.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=t.slice(h,t.l+4+s),a.push(o),t.l+=4+s,f=fy[c=Pc(t,t.l)];var p=Ou(a);Hs(p,0);var x=0;p.lens=[];for(var m=0;m<a.length;++m)p.lens.push(x),x+=a[m].length;if(p.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+p.length+" < "+n;return e.f(p,p.length,i)}function jl(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=Ir[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Ih[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Xp(r.v):r.w=mh(r.v):r.w=Go(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&r.t=="n"&&m0(Ir[n]||String(n))){var i=Kf(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Mm(r,e,t){return{v:r,ixfe:e,t}}function m$(r,e){var t={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,c=[],f="",h={},p,x="",m,E,w,T,P={},j=[],D,q,se=[],Q=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},b=function(yt){return yt<8?eh[yt]:yt<64&&Q[yt-8]||eh[yt]},M=function(yt,Tt,tr){var Yt=Tt.XF.data;if(!(!Yt||!Yt.patternType||!tr||!tr.cellStyles)){Tt.s={},Tt.s.patternType=Yt.patternType;var Ft;(Ft=Zp(b(Yt.icvFore)))&&(Tt.s.fgColor={rgb:Ft}),(Ft=Zp(b(Yt.icvBack)))&&(Tt.s.bgColor={rgb:Ft})}},C=function(yt,Tt,tr){if(!(re>1)&&!(tr.sheetRows&&yt.r>=tr.sheetRows)){if(tr.cellStyles&&Tt.XF&&Tt.XF.data&&M(yt,Tt,tr),delete Tt.ixfe,delete Tt.XF,p=yt,x=Sr(yt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),yt.r<a.s.r&&(a.s.r=yt.r),yt.c<a.s.c&&(a.s.c=yt.c),yt.r+1>a.e.r&&(a.e.r=yt.r+1),yt.c+1>a.e.c&&(a.e.c=yt.c+1),tr.cellFormula&&Tt.f){for(var Yt=0;Yt<j.length;++Yt)if(!(j[Yt][0].s.c>yt.c||j[Yt][0].s.r>yt.r)&&!(j[Yt][0].e.c<yt.c||j[Yt][0].e.r<yt.r)){Tt.F=Zr(j[Yt][0]),(j[Yt][0].s.c!=yt.c||j[Yt][0].s.r!=yt.r)&&delete Tt.f,Tt.f&&(Tt.f=""+ya(j[Yt][1],a,yt,te,N));break}}tr.dense?(i[yt.r]||(i[yt.r]=[]),i[yt.r][yt.c]=Tt):i[x]=Tt}},N={enc:!1,sbcch:0,snames:[],sharedf:P,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(N.password=e.password);var B,ce=[],be=[],ke=[],Te=[],de=!1,te=[];te.SheetNames=N.snames,te.sharedf=N.sharedf,te.arrayf=N.arrayf,te.names=[],te.XTI=[];var Ce=0,re=0,S=0,U=[],W=[],K;N.codepage=1200,gl(1200);for(var ie=!1;r.l<r.length-1;){var pe=r.l,Ee=r.read_shift(2);if(Ee===0&&Ce===10)break;var xe=r.l===r.length?0:r.read_shift(2),Ae=fy[Ee];if(Ae&&Ae.f){if(e.bookSheets&&Ce===133&&Ee!==133)break;if(Ce=Ee,Ae.r===2||Ae.r==12){var Me=r.read_shift(2);if(xe-=2,!N.enc&&Me!==Ee&&((Me&255)<<8|Me>>8)!==Ee)throw new Error("rt mismatch: "+Me+"!="+Ee);Ae.r==12&&(r.l+=10,xe-=10)}var ae={};if(Ee===10?ae=Ae.f(r,xe,N):ae=p$(Ee,Ae,r,xe,N),re==0&&[9,521,1033,2057].indexOf(Ce)===-1)continue;switch(Ee){case 34:t.opts.Date1904=F.WBProps.date1904=ae;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(N.enc||(r.l=0),N.enc=ae,!e.password)throw new Error("File is password-protected");if(ae.valid==null)throw new Error("Encryption scheme unsupported");if(!ae.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=ae;break;case 66:var at=Number(ae);switch(at){case 21010:at=1200;break;case 32768:at=1e4;break;case 32769:at=1252;break}gl(N.codepage=at),ie=!0;break;case 317:N.rrtabid=ae;break;case 25:N.winlocked=ae;break;case 439:t.opts.RefreshAll=ae;break;case 12:t.opts.CalcCount=ae;break;case 16:t.opts.CalcDelta=ae;break;case 17:t.opts.CalcIter=ae;break;case 13:t.opts.CalcMode=ae;break;case 14:t.opts.CalcPrecision=ae;break;case 95:t.opts.CalcSaveRecalc=ae;break;case 15:N.CalcRefMode=ae;break;case 2211:t.opts.FullCalc=ae;break;case 129:ae.fDialog&&(i["!type"]="dialog"),ae.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ae.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:se.push(ae);break;case 430:te.push([ae]),te[te.length-1].XTI=[];break;case 35:case 547:te[te.length-1].push(ae);break;case 24:case 536:K={Name:ae.Name,Ref:ya(ae.rgce,a,null,te,N)},ae.itab>0&&(K.Sheet=ae.itab-1),te.names.push(K),te[0]||(te[0]=[],te[0].XTI=[]),te[te.length-1].push(ae),ae.Name=="_xlnm._FilterDatabase"&&ae.itab>0&&ae.rgce&&ae.rgce[0]&&ae.rgce[0][0]&&ae.rgce[0][0][0]=="PtgArea3d"&&(W[ae.itab-1]={ref:Zr(ae.rgce[0][0][1][2])});break;case 22:N.ExternCount=ae;break;case 23:te.length==0&&(te[0]=[],te[0].XTI=[]),te[te.length-1].XTI=te[te.length-1].XTI.concat(ae),te.XTI=te.XTI.concat(ae);break;case 2196:if(N.biff<8)break;K!=null&&(K.Comment=ae[1]);break;case 18:i["!protect"]=ae;break;case 19:ae!==0&&N.WTF&&console.error("Password verifier: "+ae);break;case 133:s[ae.pos]=ae,N.snames.push(ae.name);break;case 10:{if(--re)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Zr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Re=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Zr(a),a.e.r=Re}a.e.r++,a.e.c++}ce.length>0&&(i["!merges"]=ce),be.length>0&&(i["!objects"]=be),ke.length>0&&(i["!cols"]=ke),Te.length>0&&(i["!rows"]=Te),F.Sheets.push(A)}f===""?h=i:n[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[Ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ae.BIFFVer]||8),N.biffguess=ae.BIFFVer==0,ae.BIFFVer==0&&ae.dt==4096&&(N.biff=5,ie=!0,gl(N.codepage=28591)),N.biff==8&&ae.BIFFVer==0&&ae.dt==16&&(N.biff=2),re++)break;if(i=e.dense?[]:{},N.biff<8&&!ie&&(ie=!0,gl(N.codepage=e.codepage||1252)),N.biff<5||ae.BIFFVer==0&&ae.dt==4096){f===""&&(f="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var G={pos:r.l-xe,name:f};s[G.pos]=G,N.snames.push(f)}else f=(s[pe]||{name:""}).name;ae.dt==32&&(i["!type"]="chart"),ae.dt==64&&(i["!type"]="macro"),ce=[],be=[],N.arrayf=j=[],ke=[],Te=[],de=!1,A={Hidden:(s[pe]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ae.r]||[])[ae.c]:i[Sr({c:ae.c,r:ae.r})])&&++ae.c,D={ixfe:ae.ixfe,XF:se[ae.ixfe]||{},v:ae.val,t:"n"},S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:ae.c,r:ae.r},D,e);break;case 5:case 517:D={ixfe:ae.ixfe,XF:se[ae.ixfe],v:ae.val,t:ae.t},S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:ae.c,r:ae.r},D,e);break;case 638:D={ixfe:ae.ixfe,XF:se[ae.ixfe],v:ae.rknum,t:"n"},S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:ae.c,r:ae.r},D,e);break;case 189:for(var Fe=ae.c;Fe<=ae.C;++Fe){var $e=ae.rkrec[Fe-ae.c][0];D={ixfe:$e,XF:se[$e],v:ae.rkrec[Fe-ae.c][1],t:"n"},S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:Fe,r:ae.r},D,e)}break;case 6:case 518:case 1030:{if(ae.val=="String"){o=ae;break}if(D=Mm(ae.val,ae.cell.ixfe,ae.tt),D.XF=se[D.ixfe],e.cellFormula){var nt=ae.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var tt=nt[0][0][1][0],_t=nt[0][0][1][1],ut=Sr({r:tt,c:_t});P[ut]?D.f=""+ya(ae.formula,a,ae.cell,te,N):D.F=((e.dense?(i[tt]||[])[_t]:i[ut])||{}).F}else D.f=""+ya(ae.formula,a,ae.cell,te,N)}S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C(ae.cell,D,e),o=ae}break;case 7:case 519:if(o)o.val=ae,D=Mm(ae,o.cell.ixfe,"s"),D.XF=se[D.ixfe],e.cellFormula&&(D.f=""+ya(o.formula,a,o.cell,te,N)),S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C(o.cell,D,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{j.push(ae);var Wt=Sr(ae[0].s);if(m=e.dense?(i[ae[0].s.r]||[])[ae[0].s.c]:i[Wt],e.cellFormula&&m){if(!o||!Wt||!m)break;m.f=""+ya(ae[1],a,ae[0],te,N),m.F=Zr(ae[0])}}break;case 1212:{if(!e.cellFormula)break;if(x){if(!o)break;P[Sr(o.cell)]=ae[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Sr(o.cell)],(m||{}).f=""+ya(ae[0],a,p,te,N)}}break;case 253:D=Mm(c[ae.isst].t,ae.ixfe,"s"),c[ae.isst].h&&(D.h=c[ae.isst].h),D.XF=se[D.ixfe],S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:ae.c,r:ae.r},D,e);break;case 513:e.sheetStubs&&(D={ixfe:ae.ixfe,XF:se[ae.ixfe],t:"z"},S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:ae.c,r:ae.r},D,e));break;case 190:if(e.sheetStubs)for(var Rt=ae.c;Rt<=ae.C;++Rt){var Bt=ae.ixfe[Rt-ae.c];D={ixfe:Bt,XF:se[Bt],t:"z"},S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:Rt,r:ae.r},D,e)}break;case 214:case 516:case 4:D=Mm(ae.val,ae.ixfe,"s"),D.XF=se[D.ixfe],S>0&&(D.z=U[D.ixfe>>8&63]),jl(D,e,t.opts.Date1904),C({c:ae.c,r:ae.r},D,e);break;case 0:case 512:re===1&&(a=ae);break;case 252:c=ae;break;case 1054:if(N.biff==4){U[S++]=ae[1];for(var Ot=0;Ot<S+163&&Ir[Ot]!=ae[1];++Ot);Ot>=163&&Zf(ae[1],S+163)}else Zf(ae[1],ae[0]);break;case 30:{U[S++]=ae;for(var bt=0;bt<S+163&&Ir[bt]!=ae;++bt);bt>=163&&Zf(ae,S+163)}break;case 229:ce=ce.concat(ae);break;case 93:be[ae.cmo[0]]=N.lastobj=ae;break;case 438:N.lastobj.TxO=ae;break;case 127:N.lastobj.ImData=ae;break;case 440:for(T=ae[0].s.r;T<=ae[0].e.r;++T)for(w=ae[0].s.c;w<=ae[0].e.c;++w)m=e.dense?(i[T]||[])[w]:i[Sr({c:w,r:T})],m&&(m.l=ae[1]);break;case 2048:for(T=ae[0].s.r;T<=ae[0].e.r;++T)for(w=ae[0].s.c;w<=ae[0].e.c;++w)m=e.dense?(i[T]||[])[w]:i[Sr({c:w,r:T})],m&&m.l&&(m.l.Tooltip=ae[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;m=e.dense?(i[ae[0].r]||[])[ae[0].c]:i[Sr(ae[0])];var Vt=be[ae[2]];m||(e.dense?(i[ae[0].r]||(i[ae[0].r]=[]),m=i[ae[0].r][ae[0].c]={t:"z"}):m=i[Sr(ae[0])]={t:"z"},a.e.r=Math.max(a.e.r,ae[0].r),a.s.r=Math.min(a.s.r,ae[0].r),a.e.c=Math.max(a.e.c,ae[0].c),a.s.c=Math.min(a.s.c,ae[0].c)),m.c||(m.c=[]),E={a:ae[1],t:Vt.TxO.t},m.c.push(E)}break;case 2173:Mq(se[ae.ixfe],ae.ext);break;case 125:{if(!N.cellStyles)break;for(;ae.e>=ae.s;)ke[ae.e--]={width:ae.w/256,level:ae.level||0,hidden:!!(ae.flags&1)},de||(de=!0,gw(ae.w/256)),Zd(ke[ae.e+1])}break;case 520:{var Pt={};ae.level!=null&&(Te[ae.r]=Pt,Pt.level=ae.level),ae.hidden&&(Te[ae.r]=Pt,Pt.hidden=!0),ae.hpt&&(Te[ae.r]=Pt,Pt.hpt=ae.hpt,Pt.hpx=e1(ae.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Ip(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ee]]=ae;break;case 161:i["!margins"]||Ip(i["!margins"]={}),i["!margins"].header=ae.header,i["!margins"].footer=ae.footer;break;case 574:ae.RTL&&(F.Views[0].RTL=!0);break;case 146:Q=ae;break;case 2198:B=ae;break;case 140:q=ae;break;case 442:f?A.CodeName=ae||A.name:F.WBProps.CodeName=ae||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+Ee.toString(16)),r.l+=xe}return t.SheetNames=tc(s).sort(function(Lt,yt){return Number(Lt)-Number(yt)}).map(function(Lt){return s[Lt].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&h["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=h)):t.Preamble=h,t.Sheets&&W.forEach(function(Lt,yt){t.Sheets[t.SheetNames[yt]]["!autofilter"]=Lt}),t.Strings=c,t.SSF=Gs(Ir),N.enc&&(t.Encryption=N.enc),B&&(t.Themes=B),t.Metadata={},q!==void 0&&(t.Metadata.Country=q),te.names.length>0&&(F.Names=te.names),t.Workbook=F,t}var Vb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function g$(r,e,t){var n=Jr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=Eb(n,Lj,Vb.DSI);for(var s in i)e[s]=i[s]}catch(f){if(t.WTF)throw f}var a=Jr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var o=Eb(a,Fj,Vb.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(f){if(t.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(wC(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function iN(r,e){e||(e={}),ww(e),LI(),e.codepage&&Z_(e.codepage);var t,n;if(r.FullPaths){if(Jr.find(r,"/encryption"))throw new Error("File is password-protected");t=Jr.find(r,"!CompObj"),n=Jr.find(r,"/Workbook")||Jr.find(r,"/Book")}else{switch(e.type){case"base64":r=ml(bo(r));break;case"binary":r=ml(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Hs(r,0),n={content:r}}var i,s;if(t&&h$(t),e.bookProps&&!e.bookSheets)i={};else{var a=Kr?"buffer":"array";if(n&&n.content)i=m$(n.content,e);else if((s=Jr.find(r,"PerfectOffice_MAIN"))&&s.content)i=Sp.to_workbook(s.content,(e.type=a,e));else if((s=Jr.find(r,"NativeContent_MAIN"))&&s.content)i=Sp.to_workbook(s.content,(e.type=a,e));else throw(s=Jr.find(r,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Jr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=tH(r))}var o={};return r.FullPaths&&g$(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var $g={0:{f:QW},1:{f:tG},2:{f:uG},3:{f:sG},4:{f:nG},5:{f:cG},6:{f:dG},7:{f:oG},8:{f:xG},9:{f:vG},10:{f:mG},11:{f:gG},12:{f:rG},13:{f:fG},14:{f:aG},15:{f:iG},16:{f:ZC},17:{f:pG},18:{f:lG},19:{f:uw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:WG},40:{},42:{},43:{f:mq},44:{f:pq},45:{f:gq},46:{f:xq},47:{f:vq},48:{},49:{f:yj},50:{},51:{f:Vq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:LC},62:{f:hG},63:{f:Hq},64:{f:kG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Aa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:SG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eG},148:{f:JW,p:16},151:{f:wG},152:{},153:{f:qG},154:{},155:{},156:{f:zG},157:{},158:{},159:{T:1,f:Fz},160:{T:-1},161:{T:1,f:kh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yG},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bq},336:{T:-1},337:{f:jq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ay},357:{},358:{},359:{},360:{T:1},361:{},362:{f:RC},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:EG},427:{f:TG},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:AG},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_G},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ay},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Jq},633:{T:1},634:{T:-1},635:{T:1,f:Qq},636:{T:-1},637:{f:wj},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:LG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:IG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},fy={6:{f:X2},10:{f:Au},12:{f:Qi},13:{f:Qi},14:{f:Oi},15:{f:Oi},16:{f:_a},17:{f:Oi},18:{f:Oi},19:{f:Qi},20:{f:Sb},21:{f:Sb},23:{f:RC},24:{f:Ib},25:{f:Oi},26:{},27:{},28:{f:XU},29:{},34:{f:Oi},35:{f:kb},38:{f:_a},39:{f:_a},40:{f:_a},41:{f:_a},42:{f:Oi},43:{f:Oi},47:{f:Zz},49:{f:NU},51:{f:Qi},60:{},61:{f:kU},64:{f:Oi},65:{f:CU},66:{f:Qi},77:{},80:{},81:{},82:{},85:{f:Qi},89:{},90:{},91:{},92:{f:yU},93:{f:QU},94:{},95:{f:Oi},96:{},97:{},99:{f:Oi},125:{f:LC},128:{f:jU},129:{f:_U},130:{f:Qi},131:{f:Oi},132:{f:Oi},133:{f:wU},134:{},140:{f:nz},141:{f:Qi},144:{},146:{f:sz},151:{},152:{},153:{},154:{},155:{},156:{f:Qi},157:{},158:{},160:{f:uz},161:{f:oz},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:OU},190:{f:MU},193:{f:Au},197:{},198:{},199:{},200:{},201:{},202:{f:Oi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Qi},220:{},221:{f:Oi},222:{},224:{f:VU},225:{f:xU},226:{f:Au},227:{},229:{f:YU},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:EU},253:{f:PU},255:{f:TU},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SC},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Oi},353:{f:Au},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zU},431:{f:Oi},432:{},433:{},434:{},437:{},438:{f:ez},439:{f:Oi},440:{f:tz},441:{},442:{f:P1},443:{},444:{f:Qi},445:{},446:{},448:{f:Au},449:{f:SU,r:2},450:{f:Au},512:{f:bb},513:{f:cz},515:{f:UU},516:{f:RU},517:{f:Ab},519:{f:fz},520:{f:bU},523:{},545:{f:Cb},549:{f:Tb},566:{},574:{f:IU},638:{f:DU},659:{},1048:{},1054:{f:LU},1084:{},1212:{f:GU},2048:{f:rz},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Fm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Au},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:az,r:12},2173:{f:Oq,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Oi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:WU,r:12},2197:{},2198:{f:Nq,r:12},2199:{},2200:{},2201:{},2202:{f:$U,r:12},2203:{f:Au},2204:{},2205:{},2206:{},2207:{},2211:{f:AU},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Qi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:lz},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:iz},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:bb},1:{},2:{f:mz},3:{f:pz},4:{f:dz},5:{f:Ab},7:{f:gz},8:{},9:{f:Fm},11:{},22:{f:Qi},30:{f:FU},31:{},32:{},33:{f:Cb},36:{},37:{f:Tb},50:{f:vz},62:{},52:{},67:{},68:{f:Qi},69:{},86:{},126:{},127:{f:hz},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:xz},223:{},234:{},354:{},421:{},518:{f:X2},521:{f:Fm},536:{f:Ib},547:{f:kb},561:{},579:{},1030:{f:X2},1033:{f:Fm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function hl(r,e,t,n){var i=e;if(!isNaN(i)){var s=(t||[]).length||0,a=r.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&dC(t)&&r.push(t)}}function jb(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=r.match(/<\/table/i),a=i.index,o=s&&s.index||r.length,c=UV(r.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,p=0,x=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},E=[];for(a=0;a<c.length;++a){var w=c[a].trim(),T=w.slice(0,3).toLowerCase();if(T=="<tr"){if(++f,t.sheetRows&&t.sheetRows<=f){--f;break}h=0;continue}if(!(T!="<td"&&T!="<th")){var P=w.split(/<\/t[dh]>/i);for(o=0;o<P.length;++o){var j=P[o].trim();if(j.match(/<t[dh]/i)){for(var D=j,q=0;D.charAt(0)=="<"&&(q=D.indexOf(">"))>-1;)D=D.slice(q+1);for(var se=0;se<E.length;++se){var Q=E[se];Q.s.c==h&&Q.s.r<f&&f<=Q.e.r&&(h=Q.e.c+1,se=-1)}var F=gr(j.slice(0,j.indexOf(">")));x=F.colspan?+F.colspan:1,((p=+F.rowspan)>1||x>1)&&E.push({s:{r:f,c:h},e:{r:f+(p||1)-1,c:h+x-1}});var A=F.t||F["data-t"]||"";if(!D.length){h+=x;continue}if(D=eC(D),m.s.r>f&&(m.s.r=f),m.e.r<f&&(m.e.r=f),m.s.c>h&&(m.s.c=h),m.e.c<h&&(m.e.c=h),!D.length){h+=x;continue}var b={t:"s",v:D};t.raw||!D.trim().length||A=="s"||(D==="TRUE"?b={t:"b",v:!0}:D==="FALSE"?b={t:"b",v:!1}:isNaN(yl(D))?isNaN(Jd(D).getDate())||(b={t:"d",v:Ns(D)},t.cellDates||(b={t:"n",v:Ba(b.v)}),b.z=t.dateNF||Ir[14]):b={t:"n",v:yl(D)}),t.dense?(n[f]||(n[f]=[]),n[f][h]=b):n[Sr({r:f,c:h})]=b,h+=x}}}}return n["!ref"]=Zr(m),E.length&&(n["!merges"]=E),n}function v$(r,e,t,n){for(var i=r["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>t||i[f].s.c>a)&&!(i[f].e.r<t||i[f].e.c<a)){if(i[f].s.r<t||i[f].s.c<a){o=-1;break}o=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(o<0)){var h=Sr({r:t,c:a}),p=n.dense?(r[t]||[])[a]:r[h],x=p&&p.v!=null&&(p.h||sw(p.w||(jc(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?x='<span contenteditable="true">'+x+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+p.l.Target+'">'+x+"</a>")),m.id=(n.id||"sjs")+"-"+h,s.push(nj("td",x,m))}}var E="<tr>";return E+s.join("")+"</tr>"}var x$='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',y$="</body></html>";function _$(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return vf(jb(t[0],e),e);var n=Tw();return t.forEach(function(i,s){bw(n,jb(i,e),"Sheet"+(s+1))}),n}function w$(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function E$(r,e){var t=e||{},n=t.header!=null?t.header:x$,i=t.footer!=null?t.footer:y$,s=[n],a=g0(r["!ref"]);t.dense=Array.isArray(r),s.push(w$(r,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(v$(r,a,o,t));return s.push("</table>"+i),s.join("")}function sN(r,e,t){var n=t||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Oa(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var h=g0(r["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),i==-1&&(f.e.r=i=h.e.r+1)}var p=[],x=0,m=r["!rows"]||(r["!rows"]=[]),E=0,w=0,T=0,P=0,j=0,D=0;for(r["!cols"]||(r["!cols"]=[]);E<o.length&&w<c;++E){var q=o[E];if(Ub(q)){if(n.display)continue;m[w]={hidden:!0}}var se=q.children;for(T=P=0;T<se.length;++T){var Q=se[T];if(!(n.display&&Ub(Q))){var F=Q.hasAttribute("data-v")?Q.getAttribute("data-v"):Q.hasAttribute("v")?Q.getAttribute("v"):eC(Q.innerHTML),A=Q.getAttribute("data-z")||Q.getAttribute("z");for(x=0;x<p.length;++x){var b=p[x];b.s.c==P+s&&b.s.r<w+i&&w+i<=b.e.r&&(P=b.e.c+1-s,x=-1)}D=+Q.getAttribute("colspan")||1,((j=+Q.getAttribute("rowspan")||1)>1||D>1)&&p.push({s:{r:w+i,c:P+s},e:{r:w+i+(j||1)-1,c:P+s+(D||1)-1}});var M={t:"s",v:F},C=Q.getAttribute("data-t")||Q.getAttribute("t")||"";F!=null&&(F.length==0?M.t=C||"z":n.raw||F.trim().length==0||C=="s"||(F==="TRUE"?M={t:"b",v:!0}:F==="FALSE"?M={t:"b",v:!1}:isNaN(yl(F))?isNaN(Jd(F).getDate())||(M={t:"d",v:Ns(F)},n.cellDates||(M={t:"n",v:Ba(M.v)}),M.z=n.dateNF||Ir[14]):M={t:"n",v:yl(F)})),M.z===void 0&&A!=null&&(M.z=A);var N="",B=Q.getElementsByTagName("A");if(B&&B.length)for(var ce=0;ce<B.length&&!(B[ce].hasAttribute("href")&&(N=B[ce].getAttribute("href"),N.charAt(0)!="#"));++ce);N&&N.charAt(0)!="#"&&(M.l={Target:N}),n.dense?(r[w+i]||(r[w+i]=[]),r[w+i][P+s]=M):r[Sr({c:P+s,r:w+i})]=M,f.e.c<P+s&&(f.e.c=P+s),P+=D}}++w}return p.length&&(r["!merges"]=(r["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,w-1+i),r["!ref"]=Zr(f),w>=c&&(r["!fullref"]=Zr((f.e.r=o.length-E+w-1+i,f))),r}function aN(r,e){var t=e||{},n=t.dense?[]:{};return sN(n,r,e)}function T$(r,e){return vf(aN(r,e),e)}function Ub(r){var e="",t=b$(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function b$(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function A$(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=on(e.replace(/<[^>]*>/g,""));return[t]}var zb={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function oN(r,e){var t=e||{},n=aw(r),i=[],s,a,o={name:""},c="",f=0,h,p,x={},m=[],E=t.dense?[]:{},w,T,P={value:""},j="",D=0,q=[],se=-1,Q=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,b={},M=[],C={},N=0,B=0,ce=[],be=1,ke=1,Te=[],de={Names:[]},te={},Ce=["",""],re=[],S={},U="",W=0,K=!1,ie=!1,pe=0;for(Qp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=Qp.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"工作表":w[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?E["!ref"]=Zr(F):E["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=F.e.r&&(E["!fullref"]=E["!ref"],F.e.r=t.sheetRows-1,E["!ref"]=Zr(F)),M.length&&(E["!merges"]=M),ce.length&&(E["!rows"]=ce),h.name=h.名称||h.name,typeof JSON<"u"&&JSON.stringify(h),m.push(h.name),x[h.name]=E,ie=!1):w[0].charAt(w[0].length-2)!=="/"&&(h=gr(w[0],!1),se=Q=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,E=t.dense?[]:{},M=[],ce=[],ie=!0);break;case"table-row-group":w[1]==="/"?--A:++A;break;case"table-row":case"行":if(w[1]==="/"){se+=be,be=1;break}if(p=gr(w[0],!1),p.行号?se=p.行号-1:se==-1&&(se=0),be=+p["number-rows-repeated"]||1,be<10)for(pe=0;pe<be;++pe)A>0&&(ce[se+pe]={level:A});Q=-1;break;case"covered-table-cell":w[1]!=="/"&&++Q,t.sheetStubs&&(t.dense?(E[se]||(E[se]=[]),E[se][Q]={t:"z"}):E[Sr({r:se,c:Q})]={t:"z"}),j="",q=[];break;case"table-cell":case"数据":if(w[0].charAt(w[0].length-2)==="/")++Q,P=gr(w[0],!1),ke=parseInt(P["number-columns-repeated"]||"1",10),T={t:"z",v:null},P.formula&&t.cellFormula!=!1&&(T.f=Ob(on(P.formula))),(P.数据类型||P["value-type"])=="string"&&(T.t="s",T.v=on(P["string-value"]||""),t.dense?(E[se]||(E[se]=[]),E[se][Q]=T):E[Sr({r:se,c:Q})]=T),Q+=ke-1;else if(w[1]!=="/"){++Q,j="",D=0,q=[],ke=1;var Ee=be?se+be-1:se;if(Q>F.e.c&&(F.e.c=Q),Q<F.s.c&&(F.s.c=Q),se<F.s.r&&(F.s.r=se),Ee>F.e.r&&(F.e.r=Ee),P=gr(w[0],!1),re=[],S={},T={t:P.数据类型||P["value-type"],v:null},t.cellFormula)if(P.formula&&(P.formula=on(P.formula)),P["number-matrix-columns-spanned"]&&P["number-matrix-rows-spanned"]&&(N=parseInt(P["number-matrix-rows-spanned"],10)||0,B=parseInt(P["number-matrix-columns-spanned"],10)||0,C={s:{r:se,c:Q},e:{r:se+N-1,c:Q+B-1}},T.F=Zr(C),Te.push([C,T.F])),P.formula)T.f=Ob(P.formula);else for(pe=0;pe<Te.length;++pe)se>=Te[pe][0].s.r&&se<=Te[pe][0].e.r&&Q>=Te[pe][0].s.c&&Q<=Te[pe][0].e.c&&(T.F=Te[pe][1]);switch((P["number-columns-spanned"]||P["number-rows-spanned"])&&(N=parseInt(P["number-rows-spanned"],10)||0,B=parseInt(P["number-columns-spanned"],10)||0,C={s:{r:se,c:Q},e:{r:se+N-1,c:Q+B-1}},M.push(C)),P["number-columns-repeated"]&&(ke=parseInt(P["number-columns-repeated"],10)),T.t){case"boolean":T.t="b",T.v=ni(P["boolean-value"]);break;case"float":T.t="n",T.v=parseFloat(P.value);break;case"percentage":T.t="n",T.v=parseFloat(P.value);break;case"currency":T.t="n",T.v=parseFloat(P.value);break;case"date":T.t="d",T.v=Ns(P["date-value"]),t.cellDates||(T.t="n",T.v=Ba(T.v)),T.z="m/d/yy";break;case"time":T.t="n",T.v=BV(P["time-value"])/86400,t.cellDates&&(T.t="d",T.v=Cv(T.v)),T.z="HH:MM:SS";break;case"number":T.t="n",T.v=parseFloat(P.数据数值);break;default:if(T.t==="string"||T.t==="text"||!T.t)T.t="s",P["string-value"]!=null&&(j=on(P["string-value"]),q=[]);else throw new Error("Unsupported value type "+T.t)}}else{if(K=!1,T.t==="s"&&(T.v=j||"",q.length&&(T.R=q),K=D==0),te.Target&&(T.l=te),re.length>0&&(T.c=re,re=[]),j&&t.cellText!==!1&&(T.w=j),K&&(T.t="z",delete T.v),(!K||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=se))for(var xe=0;xe<be;++xe){if(ke=parseInt(P["number-columns-repeated"]||"1",10),t.dense)for(E[se+xe]||(E[se+xe]=[]),E[se+xe][Q]=xe==0?T:Gs(T);--ke>0;)E[se+xe][Q+ke]=Gs(T);else for(E[Sr({r:se+xe,c:Q})]=T;--ke>0;)E[Sr({r:se+xe,c:Q+ke})]=Gs(T);F.e.c<=Q&&(F.e.c=Q)}ke=parseInt(P["number-columns-repeated"]||"1",10),Q+=ke-1,ke=0,T={},j="",q=[]}te={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;S.t=j,q.length&&(S.R=q),S.a=U,re.push(S)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);U="",W=0,j="",D=0,q=[];break;case"creator":w[1]==="/"?U=n.slice(W,w.index):W=w.index+w[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);j="",D=0,q=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(b[o.name]=c,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(c="",o=gr(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=gr(w[0],!1),c+=zb[w[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=gr(w[0],!1),c+=zb[w[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(f,w.index);break}else f=w.index+w[0].length;break;case"named-range":a=gr(w[0],!1),Ce=Y2(a["cell-range-address"]);var Ae={Name:a.name,Ref:Ce[0]+"!"+Ce[1]};ie&&(Ae.Sheet=m.length),de.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!P||!P["string-value"])){var Me=A$(n.slice(D,w.index));j=(j.length>0?j+`
`:"")+Me[0]}else gr(w[0],!1),D=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{Ce=Y2(gr(w[0])["target-range-address"]),x[Ce[0]]["!autofilter"]={ref:Ce[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(te=gr(w[0],!1),!te.href)break;te.Target=on(te.href),delete te.href,te.Target.charAt(0)=="#"&&te.Target.indexOf(".")>-1?(Ce=Y2(te.Target.slice(1)),te.Target="#"+Ce[0]+"!"+Ce[1]):te.Target.match(/^\.\.[\\\/]/)&&(te.Target=te.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(t.WTF)throw new Error(w)}}var ae={Sheets:x,SheetNames:m,Workbook:de};return t.bookSheets&&delete ae.Sheets,ae}function qb(r,e){e=e||{},qo(r,"META-INF/manifest.xml")&&Uj(Yi(r,"META-INF/manifest.xml"),e);var t=yo(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=oN(zn(t),e);return qo(r,"meta.xml")&&(n.Props=_C(Yi(r,"meta.xml"))),n}function Hb(r,e){return oN(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function yw(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function hy(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):zn(Ah(r))}function dy(r){var e=r.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function Wb(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function S$(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function t1(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function fs(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function wa(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=t1(r,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=t[0];r[t[0]++]>=128;);o=r.slice(c,t[0])}break;case 5:a=4,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=t1(r,t),o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var f={data:o,type:s};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function _w(r,e){return r?.map(function(t){return e(t.data)})||[]}function k$(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=t1(r,n),s=wa(r.slice(n[0],n[0]+i));n[0]+=i;var a={id:fs(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=wa(o.data),f=fs(c[3][0].data);a.messages.push({meta:c,data:r.slice(n[0],n[0]+f)}),n[0]+=f}),(e=s[3])!=null&&e[0]&&(a.merge=fs(s[3][0].data)>>>0>0),t.push(a)}return t}function I$(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=t1(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var c=0,f=0;if(s==1?(f=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[dy(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(i.push(i[0].slice(-c)),f-=c;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-c,-c+f))}}var h=dy(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function C$(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(I$(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return dy(e)}function N$(r,e,t,n){var i=yw(r),s=i.getUint32(4,!0),a=(n>1?12:8)+Wb(s&(n>1?3470:398))*4,o=-1,c=-1,f=NaN,h=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=Wb(s&(n>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(f=i.getFloat64(a,!0),a+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var p;switch(r[2]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:t[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(f))p={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return p}function P$(r,e,t){var n=yw(r),i=n.getUint32(8,!0),s=12,a=-1,o=-1,c=NaN,f=NaN,h=new Date(2001,0,1);i&1&&(c=S$(r,s),s+=16),i&2&&(f=n.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var p;switch(r[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return p}function R$(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return N$(r,e,t,r[0]);case 5:return P$(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Wu(r){var e=wa(r);return t1(e[1][0].data)}function Gb(r,e){var t=wa(e.data),n=fs(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var o=wa(a.data),c=fs(o[1][0].data)>>>0;switch(n){case 1:s[c]=hy(o[3][0].data);break;case 8:{var f=r[Wu(o[9][0].data)][0],h=wa(f.data),p=r[Wu(h[1][0].data)][0],x=fs(p.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var m=wa(p.data);s[c]=m[3].map(function(E){return hy(E.data)}).join("")}break}}),s}function L$(r,e){var t,n,i,s,a,o,c,f,h,p,x,m,E,w,T=wa(r),P=fs(T[1][0].data)>>>0,j=fs(T[2][0].data)>>>0,D=((n=(t=T[8])==null?void 0:t[0])==null?void 0:n.data)&&fs(T[8][0].data)>0||!1,q,se;if((s=(i=T[7])==null?void 0:i[0])!=null&&s.data&&e!=0)q=(o=(a=T[7])==null?void 0:a[0])==null?void 0:o.data,se=(f=(c=T[6])==null?void 0:c[0])==null?void 0:f.data;else if((p=(h=T[4])==null?void 0:h[0])!=null&&p.data&&e!=1)q=(m=(x=T[4])==null?void 0:x[0])==null?void 0:m.data,se=(w=(E=T[3])==null?void 0:E[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var Q=D?4:1,F=yw(q),A=[],b=0;b<q.length/2;++b){var M=F.getUint16(b*2,!0);M<65535&&A.push([b,M])}if(A.length!=j)throw"Expected ".concat(j," cells, found ").concat(A.length);var C=[];for(b=0;b<A.length-1;++b)C[A[b][0]]=se.subarray(A[b][1]*Q,A[b+1][1]*Q);return A.length>=1&&(C[A[A.length-1][0]]=se.subarray(A[A.length-1][1]*Q)),{R:P,cells:C}}function F$(r,e){var t,n=wa(e.data),i=(t=n?.[7])!=null&&t[0]?fs(n[7][0].data)>>>0>0?1:0:-1,s=_w(n[5],function(a){return L$(a,i)});return{nrows:fs(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,f){if(a[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));a[o.R][f]=c}),a},[])}}function D$(r,e,t){var n,i=wa(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(fs(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(fs(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Zr(s);var a=wa(i[4][0].data),o=Gb(r,r[Wu(a[4][0].data)][0]),c=(n=a[17])!=null&&n[0]?Gb(r,r[Wu(a[17][0].data)][0]):[],f=wa(a[3][0].data),h=0;f[1].forEach(function(p){var x=wa(p.data),m=r[Wu(x[2][0].data)][0],E=fs(m.meta[1][0].data);if(E!=6002)throw new Error("6001 unexpected reference to ".concat(E));var w=F$(r,m);w.data.forEach(function(T,P){T.forEach(function(j,D){var q=Sr({r:h+P,c:D}),se=R$(j,o,c);se&&(t[q]=se)})}),h+=w.nrows})}function O$(r,e){var t=wa(e.data),n={"!ref":"A1"},i=r[Wu(t[2][0].data)],s=fs(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return D$(r,i[0],n),n}function M$(r,e){var t,n=wa(e.data),i={name:(t=n[1])!=null&&t[0]?hy(n[1][0].data):"",sheets:[]},s=_w(n[2],Wu);return s.forEach(function(a){r[a].forEach(function(o){var c=fs(o.meta[1][0].data);c==6e3&&i.sheets.push(O$(r,o))})}),i}function B$(r,e){var t=Tw(),n=wa(e.data),i=_w(n[1],Wu);if(i.forEach(function(s){r[s].forEach(function(a){var o=fs(a.meta[1][0].data);if(o==2){var c=M$(r,a);c.sheets.forEach(function(f,h){bw(t,f,h==0?c.name:c.name+"_"+h,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function J2(r){var e,t,n,i,s={},a=[];if(r.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=C$(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var h;try{h=k$(f)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){s[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=s?.[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&fs(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(c){s[c].forEach(function(f){var h=fs(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return B$(s,o)}function V$(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function ww(r){V$([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function j$(r){return xd.WS.indexOf(r)>-1?"sheet":r==xd.CS?"chart":r==xd.DS?"dialog":r==xd.MS?"macro":r&&r.length?r:"sheet"}function U$(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,j$(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function z$(r,e,t,n,i,s,a,o,c,f,h,p){try{s[n]=bp(yo(r,t,!0),e);var x=Yi(r,e),m;switch(o){case"sheet":m=KG(x,e,i,c,s[n],f,h,p);break;case"chart":if(m=XG(x,e,i,c,s[n],f,h,p),!m||!m["!drawel"])break;var E=cp(m["!drawel"].Target,e),w=oy(E),T=$q(yo(r,E,!0),bp(yo(r,w,!0),E)),P=cp(T,E),j=oy(P);m=PG(yo(r,P,!0),P,c,bp(yo(r,j,!0),P),f,m);break;case"macro":m=YG(x,e,i,c,s[n],f,h,p);break;case"dialog":m=QG(x,e,i,c,s[n],f,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=m;var D=[];s&&s[n]&&tc(s[n]).forEach(function(q){var se="";if(s[n][q].Type==xd.CMNT){se=cp(s[n][q].Target,e);var Q=t$(Yi(r,se,!0),se,c);if(!Q||!Q.length)return;Pb(m,Q,!1)}s[n][q].Type==xd.TCMNT&&(se=cp(s[n][q].Target,e),D=D.concat(Xq(Yi(r,se,!0),c)))}),D&&D.length&&Pb(m,D,!0,c.people||[])}catch(q){if(c.WTF)throw q}}function Uo(r){return r.charAt(0)=="/"?r.slice(1):r}function q$(r,e){if(WI(),e=e||{},ww(e),qo(r,"META-INF/manifest.xml")||qo(r,"objectdata.xml"))return qb(r,e);if(qo(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof J2<"u"){if(r.FileIndex)return J2(r);var t=Jr.utils.cfb_new();return ib(r).forEach(function(ce){HV(t,ce,qV(r,ce))}),J2(t)}throw new Error("Unsupported NUMBERS file")}if(!qo(r,"[Content_Types].xml"))throw qo(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):qo(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=ib(r),i=Vj(yo(r,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Yi(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Yi(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},f={};if(!e.bookSheets&&!e.bookProps){if(kp=[],i.sst)try{kp=e$(Yi(r,Uo(i.sst)),i.sst,e)}catch(ce){if(e.WTF)throw ce}e.cellStyles&&i.themes.length&&(c=ZG(yo(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=JG(Yi(r,Uo(i.style)),i.style,c,e))}i.links.map(function(ce){try{var be=bp(yo(r,oy(Uo(ce))),ce);return n$(Yi(r,Uo(ce)),be,ce,e)}catch{}});var h=$G(Yi(r,Uo(i.workbooks[0])),i.workbooks[0],e),p={},x="";i.coreprops.length&&(x=Yi(r,Uo(i.coreprops[0]),!0),x&&(p=_C(x)),i.extprops.length!==0&&(x=Yi(r,Uo(i.extprops[0]),!0),x&&Hj(x,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(x=yo(r,Uo(i.custprops[0]),!0),x&&(m=Gj(x,e)));var E={};if((e.bookSheets||e.bookProps)&&(h.Sheets?a=h.Sheets.map(function(be){return be.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(E.Props=p,E.Custprops=m),e.bookSheets&&typeof a<"u"&&(E.SheetNames=a),e.bookSheets?E.SheetNames:e.bookProps))return E;a={};var w={};e.bookDeps&&i.calcchain&&(w=r$(Yi(r,Uo(i.calcchain)),i.calcchain));var T=0,P={},j,D;{var q=h.Sheets;p.Worksheets=q.length,p.SheetNames=[];for(var se=0;se!=q.length;++se)p.SheetNames[se]=q[se].name}var Q=s?"bin":"xml",F=i.workbooks[0].lastIndexOf("/"),A=(i.workbooks[0].slice(0,F+1)+"_rels/"+i.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");qo(r,A)||(A="xl/_rels/workbook."+Q+".rels");var b=bp(yo(r,A,!0),A.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=i$(Yi(r,Uo(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Yq(Yi(r,Uo(i.people[0])),e)),b&&(b=U$(b,h.Sheets));var M=Yi(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(T=0;T!=p.Worksheets;++T){var C="sheet";if(b&&b[T]?(j="xl/"+b[T][1].replace(/[\/]?xl\//,""),qo(r,j)||(j=b[T][1]),qo(r,j)||(j=A.replace(/_rels\/.*$/,"")+b[T][1]),C=b[T][2]):(j="xl/worksheets/sheet"+(T+1-M)+"."+Q,j=j.replace(/sheet0\./,"sheet.")),D=j.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(T!=e.sheets)continue e;break;case"string":if(p.SheetNames[T].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var N=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==T&&(N=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==p.SheetNames[T].toLowerCase()&&(N=1);if(!N)continue e}}z$(r,j,D,p.SheetNames[T],T,P,a,C,e,h,c,f)}return E={Directory:i,Workbook:h,Props:p,Custprops:m,Deps:w,Sheets:a,SheetNames:p.SheetNames,Strings:kp,Styles:f,Themes:c,SSF:Gs(Ir)},e&&e.bookFiles&&(r.files?(E.keys=n,E.files=r.files):(E.keys=[],E.files={},r.FullPaths.forEach(function(ce,be){ce=ce.replace(/^Root Entry[\/]/,""),E.keys.push(ce),E.files[ce]=r.FileIndex[be]}))),e&&e.bookVBA&&(i.vba.length>0?E.vbaraw=Yi(r,Uo(i.vba[0]),!0):i.defaults&&i.defaults.bin===eH&&(E.vbaraw=Yi(r,"xl/vbaProject.bin",!0))),E}function H$(r,e){var t=e||{},n="Workbook",i=Jr.find(r,n);try{if(n="/!DataSpaces/Version",i=Jr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Oz(i.content),n="/!DataSpaces/DataSpaceMap",i=Jr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Bz(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Jr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=Vz(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Jr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Uz(i.content)}catch{}if(n="/EncryptionInfo",i=Jr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=zz(i.content);if(n="/EncryptedPackage",i=Jr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function Ew(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=bo(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function W$(r,e){return Jr.find(r,"EncryptedPackage")?H$(r,e):iN(r,e)}function G$(r,e){var t,n=r,i=e||{};return i.type||(i.type=Kr&&Buffer.isBuffer(r)?"buffer":"base64"),t=QI(n,i),q$(t,i)}function lN(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return uy(r.slice(t),e);default:break e}return Jp.to_workbook(r,e)}function $$(r,e){var t="",n=Ew(r,e);switch(e.type){case"base64":t=bo(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=gh(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=zn(t)),e.type="binary",lN(t,e)}function K$(r,e){var t=r;return e.type=="base64"&&(t=bo(t)),t=Kp.utils.decode(1200,t.slice(2),"str"),e.type="binary",lN(t,e)}function X$(r){return r.match(/[^\x00-\x7F]/)?up(r):r}function Z2(r,e,t,n){return n?(t.type="string",Jp.to_workbook(r,t)):Jp.to_workbook(e,t)}function py(r,e){LI();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return py(new Uint8Array(r),(t=Gs(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Id={},t.dateNF&&(Id.dateNF=t.dateNF),t.type||(t.type=Kr&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Kr?"buffer":"binary",n=OV(r),typeof Uint8Array<"u"&&!Kr&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,n=X$(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=Gs(t),t.type="array",py(ew(n),t)}switch((i=Ew(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return W$(Jr.read(n,t),t);break;case 9:if(i[1]<=8)return iN(n,t);break;case 60:return uy(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Tz(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return wz.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?G$(n,t):Z2(r,n,t,s);case 239:return i[3]===60?uy(n,t):Z2(r,n,t,s);case 255:if(i[1]===254)return K$(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return Sp.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Sp.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return Nb.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return eq.to_workbook(n,t);break;case 10:case 13:case 32:return $$(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return yz.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Nb.to_workbook(n,t):Z2(r,n,t,s)}function Y$(r,e,t,n,i,s,a,o){var c=$s(t),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,x=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:t,enumerable:!1})}catch{x.__rowNum__=t}else x.__rowNum__=t;if(!a||r[t])for(var m=e.s.c;m<=e.e.c;++m){var E=a?r[t][m]:r[n[m]+c];if(E===void 0||E.t===void 0){if(f===void 0)continue;s[m]!=null&&(x[s[m]]=f);continue}var w=E.v;switch(E.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(s[m]!=null){if(w==null)if(E.t=="e"&&w===null)x[s[m]]=null;else if(f!==void 0)x[s[m]]=f;else if(h&&w===null)x[s[m]]=null;else continue;else x[s[m]]=h&&(E.t!=="n"||E.t==="n"&&o.rawNumbers!==!1)?w:jc(E,w,o);w!=null&&(p=!1)}}return{row:x,isempty:p}}function my(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},h=f.range!=null?f.range:r["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":c=Ii(h);break;case"number":c=Ii(r["!ref"]),c.s.r=h;break;default:c=h}n>0&&(i=0);var p=$s(c.s.r),x=[],m=[],E=0,w=0,T=Array.isArray(r),P=c.s.r,j=0,D={};T&&!r[P]&&(r[P]=[]);var q=f.skipHidden&&r["!cols"]||[],se=f.skipHidden&&r["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(q[j]||{}).hidden)switch(x[j]=us(j),t=T?r[P][j]:r[x[j]+p],n){case 1:s[j]=j-c.s.c;break;case 2:s[j]=x[j];break;case 3:s[j]=f.header[j-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=jc(t,null,f),w=D[a]||0,!w)D[a]=1;else{do o=a+"_"+w++;while(D[o]);D[a]=w,D[o]=1}s[j]=o}for(P=c.s.r+i;P<=c.e.r;++P)if(!(se[P]||{}).hidden){var Q=Y$(r,c,P,x,n,s,T,f);(Q.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(m[E++]=Q.row)}return m.length=E,m}var $b=/"/g;function Q$(r,e,t,n,i,s,a,o){for(var c=!0,f=[],h="",p=$s(t),x=e.s.c;x<=e.e.c;++x)if(n[x]){var m=o.dense?(r[t]||[])[x]:r[n[x]+p];if(m==null)h="";else if(m.v!=null){c=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:jc(m,null,o));for(var E=0,w=0;E!==h.length;++E)if((w=h.charCodeAt(E))===i||w===s||w===34||o.forceQuotes){h='"'+h.replace($b,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(c=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace($b,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&c?null:f.join(a)}function cN(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Ii(r["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),h="",p=[];n.dense=Array.isArray(r);for(var x=n.skipHidden&&r["!cols"]||[],m=n.skipHidden&&r["!rows"]||[],E=i.s.c;E<=i.e.c;++E)(x[E]||{}).hidden||(p[E]=us(E));for(var w=0,T=i.s.r;T<=i.e.r;++T)(m[T]||{}).hidden||(h=Q$(r,i,T,p,a,c,s,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&t.push((w++?o:"")+h)));return delete n.dense,t.join("")}function J$(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=cN(r,e);return t}function Z$(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Ii(r["!ref"]),s="",a=[],o,c=[],f=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)a[o]=us(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=$s(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=f?(r[h]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}c[c.length]=e+"="+n}return c}function uN(r,e,t){var n=t||{},i=+!n.skipHeader,s=r||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Oa(n.origin):n.origin;a=c.r,o=c.c}var f,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=Ii(s["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),a==-1&&(a=p.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var x=n.header||[],m=0;e.forEach(function(w,T){tc(w).forEach(function(P){(m=x.indexOf(P))==-1&&(x[m=x.length]=P);var j=w[P],D="z",q="",se=Sr({c:o+m,r:a+T+i});f=r1(s,se),j&&typeof j=="object"&&!(j instanceof Date)?s[se]=j:(typeof j=="number"?D="n":typeof j=="boolean"?D="b":typeof j=="string"?D="s":j instanceof Date?(D="d",n.cellDates||(D="n",j=Ba(j)),q=n.dateNF||Ir[14]):j===null&&n.nullError&&(D="e",j=0),f?(f.t=D,f.v=j,delete f.w,delete f.R,q&&(f.z=q)):s[se]=f={t:D,v:j},q&&(f.z=q))})}),h.e.c=Math.max(h.e.c,o+x.length-1);var E=$s(a);if(i)for(m=0;m<x.length;++m)s[us(m+o)+E]={t:"s",v:x[m]};return s["!ref"]=Zr(h),s}function eK(r,e){return uN(null,r,e)}function r1(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Oa(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?r1(r,Sr(e)):r1(r,Sr({r:e,c:t||0}))}function tK(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Tw(){return{SheetNames:[],Sheets:{}}}function bw(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=a+i)!=-1;++i);}if(VG(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function rK(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=tK(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function nK(r,e){return r.z=e,r}function fN(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function iK(r,e,t){return fN(r,"#"+e,t)}function sK(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function aK(r,e,t,n){for(var i=typeof e!="string"?e:Ii(e),s=typeof e=="string"?e:Zr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=r1(r,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=t,n&&(c.D=!0))}return r}var oK={encode_col:us,encode_row:$s,encode_cell:Sr,encode_range:Zr,decode_col:cw,decode_row:lw,split_cell:xj,decode_cell:Oa,decode_range:g0,format_cell:jc,sheet_add_aoa:mC,sheet_add_json:uN,sheet_add_dom:sN,aoa_to_sheet:v0,json_to_sheet:eK,table_to_sheet:aN,table_to_book:T$,sheet_to_csv:cN,sheet_to_txt:J$,sheet_to_json:my,sheet_to_html:E$,sheet_to_formulae:Z$,sheet_to_row_object_array:my,sheet_get_cell:r1,book_new:Tw,book_append_sheet:bw,book_set_sheet_visibility:rK,cell_set_number_format:nK,cell_set_hyperlink:fN,cell_set_internal_link:iK,cell_add_comment:sK,sheet_set_array_formula:aK,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const lK=r=>new Promise((e,t)=>{sV.parse(r,{header:!0,skipEmptyLines:!0,complete:n=>e(n.data),error:t})}),cK=async r=>{const e=await r.arrayBuffer(),t=py(e,{type:"array"}),n=t.Sheets[t.SheetNames[0]];return oK.sheet_to_json(n)};function uK({pharmacyId:r,onClose:e}){const[t,n]=Xe.useState(""),i=()=>{const a=[{name:"Paracetamol",price:800,description:"OTC analgesic",image:"https://...",category:"Over‑the‑Counter",stock:50,sku:"PAR-500"},{name:"Ibuprofen",price:1200,description:"NSAID",image:"https://...",category:"Over‑the‑Counter",stock:30,sku:"IBU-200"}],o=Object.keys(a[0]),c=[o.join(","),...a.map(x=>o.map(m=>x[m]).join(","))].join(`
`),f=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(f),p=document.createElement("a");p.href=h,p.download="pharmasea_inventory_template.csv",p.click(),URL.revokeObjectURL(h)},s=async a=>{try{n("");const o=a?.[0];if(!o)return;let c=[];o.name.endsWith(".csv")?c=await lK(o):c=await cK(o);const f=c.map(h=>({name:h.name,price:Number(h.price),description:h.description||"",image:h.image||"",category:h.category||"Over‑the‑Counter",stock:Number(h.stock||0),sku:h.sku||""})).filter(h=>h.name&&h.price);if(!f.length)throw new Error("No valid rows found. Expect headers: name, price, description, image, category, stock, sku");await NI(f,r),e()}catch(o){n(o.message||"Failed to parse file")}};return z.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:z.jsxs("div",{className:"bg-white rounded-[5px] p-7 w-[90vw] max-w-sm shadow-xl border border-green-300 relative",children:[z.jsx("button",{className:"absolute top-3 right-3 text-zinc-400 hover:text-zinc-700 text-2xl",onClick:e,children:"×"}),z.jsx("div",{className:"text-x font-bold font-poppins mb-4 text-green-700",children:"Bulk Upload Products"}),z.jsx("div",{className:"space-y-3",children:z.jsx("input",{className:"w-full border border-green-200 rounded px-3 py-2 text-[15px] font-light outline-green-400 focus:border-green-500 transition",placeholder:"CSV or XLSX File",type:"file",onChange:a=>s(a.target.files),accept:".csv,.xlsx"})}),z.jsxs("div",{className:"flex gap-2 mt-6",children:[z.jsx("button",{onClick:i,className:"flex-1 rounded-[5px] bg-green-600 text-white text-[13px] font-semibold py-2 shadow hover:bg-green-700 transition",children:"Download CSV template"}),z.jsx("button",{className:"flex-1 rounded-[5px] border border-orange-500 text-orange-600 text-[13px] font-semibold py-2 hover:bg-orange-50 transition",onClick:e,children:"Cancel"})]}),t&&z.jsx("div",{className:"mt-3 text-red-600 text-sm text-center",children:t})]})})}function Tn(r){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(r)}var El=Uint8Array,wo=Uint16Array,Aw=Int32Array,Sw=new El([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kw=new El([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kb=new El([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hN=function(r,e){for(var t=new wo(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Aw(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},dN=hN(Sw,2),fK=dN.b,gy=dN.r;fK[28]=258,gy[258]=28;var hK=hN(kw,0),Xb=hK.r,vy=new wo(32768);for(var Kn=0;Kn<32768;++Kn){var Su=(Kn&43690)>>1|(Kn&21845)<<1;Su=(Su&52428)>>2|(Su&13107)<<2,Su=(Su&61680)>>4|(Su&3855)<<4,vy[Kn]=((Su&65280)>>8|(Su&255)<<8)>>1}var Np=(function(r,e,t){for(var n=r.length,i=0,s=new wo(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new wo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new wo(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var f=i<<4|r[i],h=e-r[i],p=a[r[i]-1]++<<h,x=p|(1<<h)-1;p<=x;++p)o[vy[p]>>c]=f}else for(o=new wo(n),i=0;i<n;++i)r[i]&&(o[i]=vy[a[r[i]-1]++]>>15-r[i]);return o}),xh=new El(288);for(var Kn=0;Kn<144;++Kn)xh[Kn]=8;for(var Kn=144;Kn<256;++Kn)xh[Kn]=9;for(var Kn=256;Kn<280;++Kn)xh[Kn]=7;for(var Kn=280;Kn<288;++Kn)xh[Kn]=8;var Kg=new El(32);for(var Kn=0;Kn<32;++Kn)Kg[Kn]=5;var dK=Np(xh,9,0),pK=Np(Kg,5,0),pN=function(r){return(r+7)/8|0},mK=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new El(r.subarray(e,t))},bc=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},J0=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},ex=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:gN,l:0};if(i==1){var a=new El(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(se,Q){return se.f-Q.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],f=0,h=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=t[t[f].f<t[p].f?f++:p++],c=t[f!=h&&t[f].f<t[p].f?f++:p++],t[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var x=s[0].s,n=1;n<i;++n)s[n].s>x&&(x=s[n].s);var m=new wo(x+1),E=xy(t[h-1],m,0);if(E>e){var n=0,w=0,T=E-e,P=1<<T;for(s.sort(function(Q,F){return m[F.s]-m[Q.s]||Q.f-F.f});n<i;++n){var j=s[n].s;if(m[j]>e)w+=P-(1<<E-m[j]),m[j]=e;else break}for(w>>=T;w>0;){var D=s[n].s;m[D]<e?w-=1<<e-m[D]++-1:++n}for(;n>=0&&w;--n){var q=s[n].s;m[q]==e&&(--m[q],++w)}E=e}return{t:new El(m),l:E}},xy=function(r,e,t){return r.s==-1?Math.max(xy(r.l,e,t+1),xy(r.r,e,t+1)):e[r.s]=t},Yb=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new wo(++e),n=0,i=r[0],s=1,a=function(c){t[n++]=c},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},Z0=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},mN=function(r,e,t){var n=t.length,i=pN(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},Qb=function(r,e,t,n,i,s,a,o,c,f,h){bc(e,h++,t),++i[256];for(var p=ex(i,15),x=p.t,m=p.l,E=ex(s,15),w=E.t,T=E.l,P=Yb(x),j=P.c,D=P.n,q=Yb(w),se=q.c,Q=q.n,F=new wo(19),A=0;A<j.length;++A)++F[j[A]&31];for(var A=0;A<se.length;++A)++F[se[A]&31];for(var b=ex(F,7),M=b.t,C=b.l,N=19;N>4&&!M[Kb[N-1]];--N);var B=f+5<<3,ce=Z0(i,xh)+Z0(s,Kg)+a,be=Z0(i,x)+Z0(s,w)+a+14+3*N+Z0(F,M)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&B<=ce&&B<=be)return mN(e,h,r.subarray(c,c+f));var ke,Te,de,te;if(bc(e,h,1+(be<ce)),h+=2,be<ce){ke=Np(x,m,0),Te=x,de=Np(w,T,0),te=w;var Ce=Np(M,C,0);bc(e,h,D-257),bc(e,h+5,Q-1),bc(e,h+10,N-4),h+=14;for(var A=0;A<N;++A)bc(e,h+3*A,M[Kb[A]]);h+=3*N;for(var re=[j,se],S=0;S<2;++S)for(var U=re[S],A=0;A<U.length;++A){var W=U[A]&31;bc(e,h,Ce[W]),h+=M[W],W>15&&(bc(e,h,U[A]>>5&127),h+=U[A]>>12)}}else ke=dK,Te=xh,de=pK,te=Kg;for(var A=0;A<o;++A){var K=n[A];if(K>255){var W=K>>18&31;J0(e,h,ke[W+257]),h+=Te[W+257],W>7&&(bc(e,h,K>>23&31),h+=Sw[W]);var ie=K&31;J0(e,h,de[ie]),h+=te[ie],ie>3&&(J0(e,h,K>>5&8191),h+=kw[ie])}else J0(e,h,ke[K]),h+=Te[K]}return J0(e,h,ke[256]),h+Te[256]},gK=new Aw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gN=new El(0),vK=function(r,e,t,n,i,s){var a=s.z||r.length,o=new El(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),f=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var p=gK[e-1],x=p>>13,m=p&8191,E=(1<<t)-1,w=s.p||new wo(32768),T=s.h||new wo(E+1),P=Math.ceil(t/3),j=2*P,D=function(Re){return(r[Re]^r[Re+1]<<P^r[Re+2]<<j)&E},q=new Aw(25e3),se=new wo(288),Q=new wo(32),F=0,A=0,b=s.i||0,M=0,C=s.w||0,N=0;b+2<a;++b){var B=D(b),ce=b&32767,be=T[B];if(w[ce]=be,T[B]=ce,C<=b){var ke=a-b;if((F>7e3||M>24576)&&(ke>423||!f)){h=Qb(r,c,0,q,se,Q,A,M,N,b-N,h),M=F=A=0,N=b;for(var Te=0;Te<286;++Te)se[Te]=0;for(var Te=0;Te<30;++Te)Q[Te]=0}var de=2,te=0,Ce=m,re=ce-be&32767;if(ke>2&&B==D(b-re))for(var S=Math.min(x,ke)-1,U=Math.min(32767,b),W=Math.min(258,ke);re<=U&&--Ce&&ce!=be;){if(r[b+de]==r[b+de-re]){for(var K=0;K<W&&r[b+K]==r[b+K-re];++K);if(K>de){if(de=K,te=re,K>S)break;for(var ie=Math.min(re,K-2),pe=0,Te=0;Te<ie;++Te){var Ee=b-re+Te&32767,xe=w[Ee],Ae=Ee-xe&32767;Ae>pe&&(pe=Ae,be=Ee)}}}ce=be,be=w[ce],re+=ce-be&32767}if(te){q[M++]=268435456|gy[de]<<18|Xb[te];var Me=gy[de]&31,ae=Xb[te]&31;A+=Sw[Me]+kw[ae],++se[257+Me],++Q[ae],C=b+de,++F}else q[M++]=r[b],++se[r[b]]}}for(b=Math.max(b,C);b<a;++b)q[M++]=r[b],++se[r[b]];h=Qb(r,c,f,q,se,Q,A,M,N,b-N,h),f||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=T,s.p=w,s.i=b,s.w=C)}else{for(var b=s.w||0;b<a+f;b+=65535){var at=b+65535;at>=a&&(c[h/8|0]=f,at=a),h=mN(c,h+1,r.subarray(b,at))}s.i=a}return mK(o,0,n+pN(h)+i)},vN=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},xK=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new El(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return vK(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},xN=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},yK=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=vN();i.p(e.dictionary),xN(r,2,i.d())}};function yy(r,e){e||(e={});var t=vN();t.p(r);var n=xK(r,e,e.dictionary?6:2,4);return yK(n,e),xN(n,n.length-4,t.d()),n}var _K=typeof TextDecoder<"u"&&new TextDecoder,wK=0;try{_K.decode(gN,{stream:!0}),wK=1}catch{}function EK(r){if(Array.isArray(r))return r}function TK(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],c=!0,f=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(f)throw i}}return o}}function Jb(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function bK(r,e){if(r){if(typeof r=="string")return Jb(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Jb(r,e):void 0}}function AK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zb(r,e){return EK(r)||TK(r,e)||bK(r,e)||AK()}function e4(r,e="utf8"){return new TextDecoder(e).decode(r)}const SK=new TextEncoder;function kK(r){return SK.encode(r)}const IK=1024*8,CK=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),tx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Iw{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=IK,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Iw)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=tx[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===CK&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const c=new tx[t](o.buffer);return this.offset+=n,c.reverse(),c}const a=new tx[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return e4(this.readBytes(e))}decodeText(e=1,t="utf8"){return e4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(kK(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function x0(r){let e=r.length;for(;--e>=0;)r[e]=0}const NK=3,PK=258,yN=29,RK=256,LK=RK+1+yN,_N=30,FK=512,DK=new Array((LK+2)*2);x0(DK);const OK=new Array(_N*2);x0(OK);const MK=new Array(FK);x0(MK);const BK=new Array(PK-NK+1);x0(BK);const VK=new Array(yN);x0(VK);const jK=new Array(_N);x0(jK);const UK=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var _y=UK;const zK=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},qK=new Uint32Array(zK()),HK=(r,e,t,n)=>{const i=qK,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var Ul=HK,wy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const WK=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var GK=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)WK(t,n)&&(r[n]=t[n])}}return r},$K=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},EN={assign:GK,flattenChunks:$K};let TN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TN=!1}const n1=new Uint8Array(256);for(let r=0;r<256;r++)n1[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;n1[254]=n1[254]=1;var KK=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,o=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const XK=(r,e)=>{if(e<65534&&r.subarray&&TN)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var YK=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let o=n1[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|r[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return XK(s,i)},QK=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+n1[r[t]]>e?t:e},Ey={string2buf:KK,buf2string:YK,utf8border:QK};function JK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ZK=JK;const Bm=16209,eX=16191;var tX=function(e,t){let n,i,s,a,o,c,f,h,p,x,m,E,w,T,P,j,D,q,se,Q,F,A,b,M;const C=e.state;n=e.next_in,b=e.input,i=n+(e.avail_in-5),s=e.next_out,M=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),c=C.dmax,f=C.wsize,h=C.whave,p=C.wnext,x=C.window,m=C.hold,E=C.bits,w=C.lencode,T=C.distcode,P=(1<<C.lenbits)-1,j=(1<<C.distbits)-1;e:do{E<15&&(m+=b[n++]<<E,E+=8,m+=b[n++]<<E,E+=8),D=w[m&P];t:for(;;){if(q=D>>>24,m>>>=q,E-=q,q=D>>>16&255,q===0)M[s++]=D&65535;else if(q&16){se=D&65535,q&=15,q&&(E<q&&(m+=b[n++]<<E,E+=8),se+=m&(1<<q)-1,m>>>=q,E-=q),E<15&&(m+=b[n++]<<E,E+=8,m+=b[n++]<<E,E+=8),D=T[m&j];r:for(;;){if(q=D>>>24,m>>>=q,E-=q,q=D>>>16&255,q&16){if(Q=D&65535,q&=15,E<q&&(m+=b[n++]<<E,E+=8,E<q&&(m+=b[n++]<<E,E+=8)),Q+=m&(1<<q)-1,Q>c){e.msg="invalid distance too far back",C.mode=Bm;break e}if(m>>>=q,E-=q,q=s-a,Q>q){if(q=Q-q,q>h&&C.sane){e.msg="invalid distance too far back",C.mode=Bm;break e}if(F=0,A=x,p===0){if(F+=f-q,q<se){se-=q;do M[s++]=x[F++];while(--q);F=s-Q,A=M}}else if(p<q){if(F+=f+p-q,q-=p,q<se){se-=q;do M[s++]=x[F++];while(--q);if(F=0,p<se){q=p,se-=q;do M[s++]=x[F++];while(--q);F=s-Q,A=M}}}else if(F+=p-q,q<se){se-=q;do M[s++]=x[F++];while(--q);F=s-Q,A=M}for(;se>2;)M[s++]=A[F++],M[s++]=A[F++],M[s++]=A[F++],se-=3;se&&(M[s++]=A[F++],se>1&&(M[s++]=A[F++]))}else{F=s-Q;do M[s++]=M[F++],M[s++]=M[F++],M[s++]=M[F++],se-=3;while(se>2);se&&(M[s++]=M[F++],se>1&&(M[s++]=M[F++]))}}else if((q&64)===0){D=T[(D&65535)+(m&(1<<q)-1)];continue r}else{e.msg="invalid distance code",C.mode=Bm;break e}break}}else if((q&64)===0){D=w[(D&65535)+(m&(1<<q)-1)];continue t}else if(q&32){C.mode=eX;break e}else{e.msg="invalid literal/length code",C.mode=Bm;break e}break}}while(n<i&&s<o);se=E>>3,n-=se,E-=se<<3,m&=(1<<E)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),C.hold=m,C.bits=E};const ad=15,t4=852,r4=592,n4=0,rx=1,i4=2,rX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aX=(r,e,t,n,i,s,a,o)=>{const c=o.bits;let f=0,h=0,p=0,x=0,m=0,E=0,w=0,T=0,P=0,j=0,D,q,se,Q,F,A=null,b;const M=new Uint16Array(ad+1),C=new Uint16Array(ad+1);let N=null,B,ce,be;for(f=0;f<=ad;f++)M[f]=0;for(h=0;h<n;h++)M[e[t+h]]++;for(m=c,x=ad;x>=1&&M[x]===0;x--);if(m>x&&(m=x),x===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<x&&M[p]===0;p++);for(m<p&&(m=p),T=1,f=1;f<=ad;f++)if(T<<=1,T-=M[f],T<0)return-1;if(T>0&&(r===n4||x!==1))return-1;for(C[1]=0,f=1;f<ad;f++)C[f+1]=C[f]+M[f];for(h=0;h<n;h++)e[t+h]!==0&&(a[C[e[t+h]]++]=h);if(r===n4?(A=N=a,b=20):r===rx?(A=rX,N=nX,b=257):(A=iX,N=sX,b=0),j=0,h=0,f=p,F=s,E=m,w=0,se=-1,P=1<<m,Q=P-1,r===rx&&P>t4||r===i4&&P>r4)return 1;for(;;){B=f-w,a[h]+1<b?(ce=0,be=a[h]):a[h]>=b?(ce=N[a[h]-b],be=A[a[h]-b]):(ce=96,be=0),D=1<<f-w,q=1<<E,p=q;do q-=D,i[F+(j>>w)+q]=B<<24|ce<<16|be|0;while(q!==0);for(D=1<<f-1;j&D;)D>>=1;if(D!==0?(j&=D-1,j+=D):j=0,h++,--M[f]===0){if(f===x)break;f=e[t+a[h]]}if(f>m&&(j&Q)!==se){for(w===0&&(w=m),F+=p,E=f-w,T=1<<E;E+w<x&&(T-=M[E+w],!(T<=0));)E++,T<<=1;if(P+=1<<E,r===rx&&P>t4||r===i4&&P>r4)return 1;se=j&Q,i[se]=m<<24|E<<16|F-s|0}}return j!==0&&(i[F+j]=f-w<<24|64<<16|0),o.bits=m,0};var Pp=aX;const oX=0,bN=1,AN=2,{Z_FINISH:s4,Z_BLOCK:lX,Z_TREES:Vm,Z_OK:yh,Z_STREAM_END:cX,Z_NEED_DICT:uX,Z_STREAM_ERROR:$o,Z_DATA_ERROR:SN,Z_MEM_ERROR:kN,Z_BUF_ERROR:fX,Z_DEFLATED:a4}=wN,Lv=16180,o4=16181,l4=16182,c4=16183,u4=16184,f4=16185,h4=16186,d4=16187,p4=16188,m4=16189,Xg=16190,Ac=16191,nx=16192,g4=16193,ix=16194,v4=16195,x4=16196,y4=16197,_4=16198,jm=16199,Um=16200,w4=16201,E4=16202,T4=16203,b4=16204,A4=16205,sx=16206,S4=16207,k4=16208,ti=16209,IN=16210,CN=16211,hX=852,dX=592,pX=15,mX=pX,I4=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function gX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nh=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Lv||e.mode>CN?1:0},NN=r=>{if(Nh(r))return $o;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Lv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hX),e.distcode=e.distdyn=new Int32Array(dX),e.sane=1,e.back=-1,yh},PN=r=>{if(Nh(r))return $o;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,NN(r)},RN=(r,e)=>{let t;if(Nh(r))return $o;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$o:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,PN(r))},LN=(r,e)=>{if(!r)return $o;const t=new gX;r.state=t,t.strm=r,t.window=null,t.mode=Lv;const n=RN(r,e);return n!==yh&&(r.state=null),n},vX=r=>LN(r,mX);let C4=!0,ax,ox;const xX=r=>{if(C4){ax=new Int32Array(512),ox=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Pp(bN,r.lens,0,288,ax,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Pp(AN,r.lens,0,32,ox,0,r.work,{bits:5}),C4=!1}r.lencode=ax,r.lenbits=9,r.distcode=ox,r.distbits=5},FN=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},yX=(r,e)=>{let t,n,i,s,a,o,c,f,h,p,x,m,E,w,T=0,P,j,D,q,se,Q,F,A;const b=new Uint8Array(4);let M,C;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nh(r)||!r.output||!r.input&&r.avail_in!==0)return $o;t=r.state,t.mode===Ac&&(t.mode=nx),a=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,f=t.hold,h=t.bits,p=o,x=c,A=yh;e:for(;;)switch(t.mode){case Lv:if(t.wrap===0){t.mode=nx;break}for(;h<16;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,b[0]=f&255,b[1]=f>>>8&255,t.check=Ul(t.check,b,2,0),f=0,h=0,t.mode=o4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){r.msg="incorrect header check",t.mode=ti;break}if((f&15)!==a4){r.msg="unknown compression method",t.mode=ti;break}if(f>>>=4,h-=4,F=(f&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){r.msg="invalid window size",t.mode=ti;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=f&512?m4:Ac,f=0,h=0;break;case o4:for(;h<16;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(t.flags=f,(t.flags&255)!==a4){r.msg="unknown compression method",t.mode=ti;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=ti;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(b[0]=f&255,b[1]=f>>>8&255,t.check=Ul(t.check,b,2,0)),f=0,h=0,t.mode=l4;case l4:for(;h<32;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(b[0]=f&255,b[1]=f>>>8&255,b[2]=f>>>16&255,b[3]=f>>>24&255,t.check=Ul(t.check,b,4,0)),f=0,h=0,t.mode=c4;case c4:for(;h<16;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(b[0]=f&255,b[1]=f>>>8&255,t.check=Ul(t.check,b,2,0)),f=0,h=0,t.mode=u4;case u4:if(t.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(b[0]=f&255,b[1]=f>>>8&255,t.check=Ul(t.check,b,2,0)),f=0,h=0}else t.head&&(t.head.extra=null);t.mode=f4;case f4:if(t.flags&1024&&(m=t.length,m>o&&(m=o),m&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+m),F)),t.flags&512&&t.wrap&4&&(t.check=Ul(t.check,n,m,s)),o-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=h4;case h4:if(t.flags&2048){if(o===0)break e;m=0;do F=n[s+m++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Ul(t.check,n,m,s)),o-=m,s+=m,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=d4;case d4:if(t.flags&4096){if(o===0)break e;m=0;do F=n[s+m++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Ul(t.check,n,m,s)),o-=m,s+=m,F)break e}else t.head&&(t.head.comment=null);t.mode=p4;case p4:if(t.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(t.wrap&4&&f!==(t.check&65535)){r.msg="header crc mismatch",t.mode=ti;break}f=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Ac;break;case m4:for(;h<32;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}r.adler=t.check=I4(f),f=0,h=0,t.mode=Xg;case Xg:if(t.havedict===0)return r.next_out=a,r.avail_out=c,r.next_in=s,r.avail_in=o,t.hold=f,t.bits=h,uX;r.adler=t.check=1,t.mode=Ac;case Ac:if(e===lX||e===Vm)break e;case nx:if(t.last){f>>>=h&7,h-=h&7,t.mode=sx;break}for(;h<3;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}switch(t.last=f&1,f>>>=1,h-=1,f&3){case 0:t.mode=g4;break;case 1:if(xX(t),t.mode=jm,e===Vm){f>>>=2,h-=2;break e}break;case 2:t.mode=x4;break;case 3:r.msg="invalid block type",t.mode=ti}f>>>=2,h-=2;break;case g4:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){r.msg="invalid stored block lengths",t.mode=ti;break}if(t.length=f&65535,f=0,h=0,t.mode=ix,e===Vm)break e;case ix:t.mode=v4;case v4:if(m=t.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;i.set(n.subarray(s,s+m),a),o-=m,s+=m,c-=m,a+=m,t.length-=m;break}t.mode=Ac;break;case x4:for(;h<14;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(t.nlen=(f&31)+257,f>>>=5,h-=5,t.ndist=(f&31)+1,f>>>=5,h-=5,t.ncode=(f&15)+4,f>>>=4,h-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=ti;break}t.have=0,t.mode=y4;case y4:for(;t.have<t.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}t.lens[N[t.have++]]=f&7,f>>>=3,h-=3}for(;t.have<19;)t.lens[N[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,M={bits:t.lenbits},A=Pp(oX,t.lens,0,19,t.lencode,0,t.work,M),t.lenbits=M.bits,A){r.msg="invalid code lengths set",t.mode=ti;break}t.have=0,t.mode=_4;case _4:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[f&(1<<t.lenbits)-1],P=T>>>24,j=T>>>16&255,D=T&65535,!(P<=h);){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(D<16)f>>>=P,h-=P,t.lens[t.have++]=D;else{if(D===16){for(C=P+2;h<C;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(f>>>=P,h-=P,t.have===0){r.msg="invalid bit length repeat",t.mode=ti;break}F=t.lens[t.have-1],m=3+(f&3),f>>>=2,h-=2}else if(D===17){for(C=P+3;h<C;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}f>>>=P,h-=P,F=0,m=3+(f&7),f>>>=3,h-=3}else{for(C=P+7;h<C;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}f>>>=P,h-=P,F=0,m=11+(f&127),f>>>=7,h-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=ti;break}for(;m--;)t.lens[t.have++]=F}}if(t.mode===ti)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=ti;break}if(t.lenbits=9,M={bits:t.lenbits},A=Pp(bN,t.lens,0,t.nlen,t.lencode,0,t.work,M),t.lenbits=M.bits,A){r.msg="invalid literal/lengths set",t.mode=ti;break}if(t.distbits=6,t.distcode=t.distdyn,M={bits:t.distbits},A=Pp(AN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,M),t.distbits=M.bits,A){r.msg="invalid distances set",t.mode=ti;break}if(t.mode=jm,e===Vm)break e;case jm:t.mode=Um;case Um:if(o>=6&&c>=258){r.next_out=a,r.avail_out=c,r.next_in=s,r.avail_in=o,t.hold=f,t.bits=h,tX(r,x),a=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,f=t.hold,h=t.bits,t.mode===Ac&&(t.back=-1);break}for(t.back=0;T=t.lencode[f&(1<<t.lenbits)-1],P=T>>>24,j=T>>>16&255,D=T&65535,!(P<=h);){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(j&&(j&240)===0){for(q=P,se=j,Q=D;T=t.lencode[Q+((f&(1<<q+se)-1)>>q)],P=T>>>24,j=T>>>16&255,D=T&65535,!(q+P<=h);){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}f>>>=q,h-=q,t.back+=q}if(f>>>=P,h-=P,t.back+=P,t.length=D,j===0){t.mode=A4;break}if(j&32){t.back=-1,t.mode=Ac;break}if(j&64){r.msg="invalid literal/length code",t.mode=ti;break}t.extra=j&15,t.mode=w4;case w4:if(t.extra){for(C=t.extra;h<C;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=E4;case E4:for(;T=t.distcode[f&(1<<t.distbits)-1],P=T>>>24,j=T>>>16&255,D=T&65535,!(P<=h);){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if((j&240)===0){for(q=P,se=j,Q=D;T=t.distcode[Q+((f&(1<<q+se)-1)>>q)],P=T>>>24,j=T>>>16&255,D=T&65535,!(q+P<=h);){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}f>>>=q,h-=q,t.back+=q}if(f>>>=P,h-=P,t.back+=P,j&64){r.msg="invalid distance code",t.mode=ti;break}t.offset=D,t.extra=j&15,t.mode=T4;case T4:if(t.extra){for(C=t.extra;h<C;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=ti;break}t.mode=b4;case b4:if(c===0)break e;if(m=x-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=ti;break}m>t.wnext?(m-=t.wnext,E=t.wsize-m):E=t.wnext-m,m>t.length&&(m=t.length),w=t.window}else w=i,E=a-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do i[a++]=w[E++];while(--m);t.length===0&&(t.mode=Um);break;case A4:if(c===0)break e;i[a++]=t.length,c--,t.mode=Um;break;case sx:if(t.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[s++]<<h,h+=8}if(x-=c,r.total_out+=x,t.total+=x,t.wrap&4&&x&&(r.adler=t.check=t.flags?Ul(t.check,i,x,a-x):_y(t.check,i,x,a-x)),x=c,t.wrap&4&&(t.flags?f:I4(f))!==t.check){r.msg="incorrect data check",t.mode=ti;break}f=0,h=0}t.mode=S4;case S4:if(t.wrap&&t.flags){for(;h<32;){if(o===0)break e;o--,f+=n[s++]<<h,h+=8}if(t.wrap&4&&f!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=ti;break}f=0,h=0}t.mode=k4;case k4:A=cX;break e;case ti:A=SN;break e;case IN:return kN;case CN:default:return $o}return r.next_out=a,r.avail_out=c,r.next_in=s,r.avail_in=o,t.hold=f,t.bits=h,(t.wsize||x!==r.avail_out&&t.mode<ti&&(t.mode<sx||e!==s4))&&FN(r,r.output,r.next_out,x-r.avail_out),p-=r.avail_in,x-=r.avail_out,r.total_in+=p,r.total_out+=x,t.total+=x,t.wrap&4&&x&&(r.adler=t.check=t.flags?Ul(t.check,i,x,r.next_out-x):_y(t.check,i,x,r.next_out-x)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Ac?128:0)+(t.mode===jm||t.mode===ix?256:0),(p===0&&x===0||e===s4)&&A===yh&&(A=fX),A},_X=r=>{if(Nh(r))return $o;let e=r.state;return e.window&&(e.window=null),r.state=null,yh},wX=(r,e)=>{if(Nh(r))return $o;const t=r.state;return(t.wrap&2)===0?$o:(t.head=e,e.done=!1,yh)},EX=(r,e)=>{const t=e.length;let n,i,s;return Nh(r)||(n=r.state,n.wrap!==0&&n.mode!==Xg)?$o:n.mode===Xg&&(i=1,i=_y(i,e,t,0),i!==n.check)?SN:(s=FN(r,e,t,t),s?(n.mode=IN,kN):(n.havedict=1,yh))};var TX=PN,bX=RN,AX=NN,SX=vX,kX=LN,IX=yX,CX=_X,NX=wX,PX=EX,RX="pako inflate (from Nodeca project)",Sc={inflateReset:TX,inflateReset2:bX,inflateResetKeep:AX,inflateInit:SX,inflateInit2:kX,inflate:IX,inflateEnd:CX,inflateGetHeader:NX,inflateSetDictionary:PX,inflateInfo:RX};function LX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FX=LX;const DN=Object.prototype.toString,{Z_NO_FLUSH:DX,Z_FINISH:OX,Z_OK:i1,Z_STREAM_END:lx,Z_NEED_DICT:cx,Z_STREAM_ERROR:MX,Z_DATA_ERROR:N4,Z_MEM_ERROR:BX}=wN;function D1(r){this.options=EN.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZK,this.strm.avail_out=0;let t=Sc.inflateInit2(this.strm,e.windowBits);if(t!==i1)throw new Error(wy[t]);if(this.header=new FX,Sc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ey.string2buf(e.dictionary):DN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Sc.inflateSetDictionary(this.strm,e.dictionary),t!==i1)))throw new Error(wy[t])}D1.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?OX:DX,DN.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Sc.inflate(t,a),s===cx&&i&&(s=Sc.inflateSetDictionary(t,i),s===i1?s=Sc.inflate(t,a):s===N4&&(s=cx));t.avail_in>0&&s===lx&&t.state.wrap>0&&r[t.next_in]!==0;)Sc.inflateReset(t),s=Sc.inflate(t,a);switch(s){case MX:case N4:case cx:case BX:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===lx))if(this.options.to==="string"){let c=Ey.utf8border(t.output,t.next_out),f=t.next_out-c,h=Ey.buf2string(t.output,c);t.next_out=f,t.avail_out=n-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===i1&&o===0)){if(s===lx)return s=Sc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};D1.prototype.onData=function(r){this.chunks.push(r)};D1.prototype.onEnd=function(r){r===i1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=EN.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function VX(r,e){const t=new D1(e);if(t.push(r),t.err)throw t.msg||wy[t.err];return t.result}var jX=D1,UX=VX,zX={Inflate:jX,inflate:UX};const{Inflate:qX,inflate:HX}=zX;var P4=qX,WX=HX;const ON=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;ON[r]=e}const R4=4294967295;function GX(r,e,t){let n=r;for(let i=0;i<t;i++)n=ON[(n^e[i])&255]^n>>>8;return n}function $X(r,e){return(GX(R4,r,e)^R4)>>>0}function L4(r,e,t){const n=r.readUint32(),i=$X(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function MN(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function BN(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function VN(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function jN(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function UN(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+KX(e[s-i],t[s],t[s-i])&255}}function KX(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function XX(r,e,t,n,i,s){switch(r){case 0:MN(e,t,i);break;case 1:BN(e,t,i,s);break;case 2:VN(e,t,n,i);break;case 3:jN(e,t,n,i,s);break;case 4:UN(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const YX=new Uint16Array([255]),QX=new Uint8Array(YX.buffer),JX=QX[0]===255;function ZX(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(n*t*o);let f=0;for(let h=0;h<7;h++){const p=a[h],x=Math.ceil((t-p.x)/p.xStep),m=Math.ceil((n-p.y)/p.yStep);if(x<=0||m<=0)continue;const E=x*o,w=new Uint8Array(E);for(let T=0;T<m;T++){const P=e[f++],j=e.subarray(f,f+E);f+=E;const D=new Uint8Array(E);XX(P,j,D,w,E,o),w.set(D);for(let q=0;q<x;q++){const se=p.x+q*p.xStep,Q=p.y+T*p.yStep;if(!(se>=t||Q>=n))for(let F=0;F<o;F++)c[(Q*t+se)*o+F]=D[q*o+F]}}}if(s===16){const h=new Uint16Array(c.buffer);if(JX)for(let p=0;p<h.length;p++)h[p]=eY(h[p]);return h}else return c}function eY(r){return(r&255)<<8|r>>8&255}const tY=new Uint16Array([255]),rY=new Uint8Array(tY.buffer),nY=rY[0]===255,iY=new Uint8Array(0);function F4(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),c=new Uint8Array(n*o);let f=iY,h=0,p,x;for(let m=0;m<n;m++){switch(p=e.subarray(h+1,h+1+o),x=c.subarray(m*o,(m+1)*o),e[h]){case 0:MN(p,x,o);break;case 1:BN(p,x,o,a);break;case 2:VN(p,x,f,o);break;case 3:jN(p,x,f,o,a);break;case 4:UN(p,x,f,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}f=x,h+=o+1}if(s===16){const m=new Uint16Array(c.buffer);if(nY)for(let E=0;E<m.length;E++)m[E]=sY(m[E]);return m}else return c}function sY(r){return(r&255)<<8|r>>8&255}const cg=Uint8Array.of(137,80,78,71,13,10,26,10);function D4(r){if(!aY(r.readBytes(cg.length)))throw new Error("wrong PNG signature")}function aY(r){if(r.length<cg.length)return!1;for(let e=0;e<cg.length;e++)if(r[e]!==cg[e])return!1;return!0}const oY="tEXt",lY=0,zN=new TextDecoder("latin1");function cY(r){if(fY(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const uY=/^[\u0000-\u00FF]*$/;function fY(r){if(!uY.test(r))throw new Error("invalid latin1 text")}function hY(r,e,t){const n=qN(e);r[n]=dY(e,t-n.length-1)}function qN(r){for(r.mark();r.readByte()!==lY;);const e=r.offset;r.reset();const t=zN.decode(r.readBytes(e-r.offset-1));return r.skip(1),cY(t),t}function dY(r,e){return zN.decode(r.readBytes(e))}const vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ux={UNKNOWN:-1,DEFLATE:0},O4={UNKNOWN:-1,ADAPTIVE:0},fx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},zm={NONE:0,BACKGROUND:1,PREVIOUS:2},hx={SOURCE:0,OVER:1};class pY extends Iw{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new P4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ux.UNKNOWN,this._filterMethod=O4.UNKNOWN,this._interlaceMethod=fx.UNKNOWN,this._colorType=vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(D4(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(D4(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case oY:hY(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?L4(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?L4(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=mY(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case vo.GREYSCALE:n=1;break;case vo.TRUECOLOUR:n=3;break;case vo.INDEXED_COLOUR:n=1;break;case vo.GREYSCALE_ALPHA:n=2;break;case vo.TRUECOLOUR_ALPHA:n=4;break;case vo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ux.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case vo.GREYSCALE:case vo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case vo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case vo.UNKNOWN:case vo.GREYSCALE_ALPHA:case vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=qN(this),n=this.readUint8();if(n!==ux.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:WX(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=F4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case zm.NONE:break;case zm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case zm.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(s,a)=>{const o=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,c=(s*t.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(t.blendOp){case hx.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let f=0;f<this._png.channels;f++)e.data[o+f]=t.data[c+f]}break;case hx.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let f=0;f<this._png.channels;f++){const h=t.data[c+this._png.channels-1]/n,p=f%(this._png.channels-1)===0?1:t.data[c+f],x=Math.floor(h*p+(1-h)*e.data[o+f]);e.data[o+f]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==O4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===fx.NO_INTERLACE)this._png.data=F4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===fx.ADAM7)this._png.data=ZX({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:zm.NONE,blendOp:hx.SOURCE,data:e}),this._inflator=new P4,this._writingDataChunks=!1}}function mY(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var M4;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(M4||(M4={}));function gY(r,e){return new pY(r,e).decode()}var yr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function dx(){yr.console&&typeof yr.console.log=="function"&&yr.console.log.apply(yr.console,arguments)}var Dn={log:dx,warn:function(r){yr.console&&(typeof yr.console.warn=="function"?yr.console.warn.apply(yr.console,arguments):dx.call(null,arguments))},error:function(r){yr.console&&(typeof yr.console.error=="function"?yr.console.error.apply(yr.console,arguments):dx(r))}};function px(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Uf(n.response,e,t)},n.onerror=function(){Dn.error("could not download file")},n.send()}function B4(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function qm(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Uf=yr.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==yr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=yr.URL||yr.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?B4(i.href)?px(r,e,t):qm(i,i.target="_blank"):qm(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){qm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(B4(r))px(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){qm(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Tn(s)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return px(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(yr.HTMLElement)||yr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(r)}else{var c=yr.URL||yr.webkitURL,f=c.createObjectURL(r);n?n.location=f:location.href=f,n=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HN(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+o+c+f}}var ug=yr.atob.bind(yr),V4=yr.btoa.bind(yr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mx(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=pa(t,n,i,s,e[0],7,-680876936),s=pa(s,t,n,i,e[1],12,-389564586),i=pa(i,s,t,n,e[2],17,606105819),n=pa(n,i,s,t,e[3],22,-1044525330),t=pa(t,n,i,s,e[4],7,-176418897),s=pa(s,t,n,i,e[5],12,1200080426),i=pa(i,s,t,n,e[6],17,-1473231341),n=pa(n,i,s,t,e[7],22,-45705983),t=pa(t,n,i,s,e[8],7,1770035416),s=pa(s,t,n,i,e[9],12,-1958414417),i=pa(i,s,t,n,e[10],17,-42063),n=pa(n,i,s,t,e[11],22,-1990404162),t=pa(t,n,i,s,e[12],7,1804603682),s=pa(s,t,n,i,e[13],12,-40341101),i=pa(i,s,t,n,e[14],17,-1502002290),t=ma(t,n=pa(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ma(s,t,n,i,e[6],9,-1069501632),i=ma(i,s,t,n,e[11],14,643717713),n=ma(n,i,s,t,e[0],20,-373897302),t=ma(t,n,i,s,e[5],5,-701558691),s=ma(s,t,n,i,e[10],9,38016083),i=ma(i,s,t,n,e[15],14,-660478335),n=ma(n,i,s,t,e[4],20,-405537848),t=ma(t,n,i,s,e[9],5,568446438),s=ma(s,t,n,i,e[14],9,-1019803690),i=ma(i,s,t,n,e[3],14,-187363961),n=ma(n,i,s,t,e[8],20,1163531501),t=ma(t,n,i,s,e[13],5,-1444681467),s=ma(s,t,n,i,e[2],9,-51403784),i=ma(i,s,t,n,e[7],14,1735328473),t=ga(t,n=ma(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ga(s,t,n,i,e[8],11,-2022574463),i=ga(i,s,t,n,e[11],16,1839030562),n=ga(n,i,s,t,e[14],23,-35309556),t=ga(t,n,i,s,e[1],4,-1530992060),s=ga(s,t,n,i,e[4],11,1272893353),i=ga(i,s,t,n,e[7],16,-155497632),n=ga(n,i,s,t,e[10],23,-1094730640),t=ga(t,n,i,s,e[13],4,681279174),s=ga(s,t,n,i,e[0],11,-358537222),i=ga(i,s,t,n,e[3],16,-722521979),n=ga(n,i,s,t,e[6],23,76029189),t=ga(t,n,i,s,e[9],4,-640364487),s=ga(s,t,n,i,e[12],11,-421815835),i=ga(i,s,t,n,e[15],16,530742520),t=va(t,n=ga(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=va(s,t,n,i,e[7],10,1126891415),i=va(i,s,t,n,e[14],15,-1416354905),n=va(n,i,s,t,e[5],21,-57434055),t=va(t,n,i,s,e[12],6,1700485571),s=va(s,t,n,i,e[3],10,-1894986606),i=va(i,s,t,n,e[10],15,-1051523),n=va(n,i,s,t,e[1],21,-2054922799),t=va(t,n,i,s,e[8],6,1873313359),s=va(s,t,n,i,e[15],10,-30611744),i=va(i,s,t,n,e[6],15,-1560198380),n=va(n,i,s,t,e[13],21,1309151649),t=va(t,n,i,s,e[4],6,-145523070),s=va(s,t,n,i,e[11],10,-1120210379),i=va(i,s,t,n,e[2],15,718787259),n=va(n,i,s,t,e[9],21,-343485551),r[0]=zu(t,r[0]),r[1]=zu(n,r[1]),r[2]=zu(i,r[2]),r[3]=zu(s,r[3])}function Fv(r,e,t,n,i,s){return e=zu(zu(e,r),zu(n,s)),zu(e<<i|e>>>32-i,t)}function pa(r,e,t,n,i,s,a){return Fv(e&t|~e&n,r,e,i,s,a)}function ma(r,e,t,n,i,s,a){return Fv(e&n|t&~n,r,e,i,s,a)}function ga(r,e,t,n,i,s,a){return Fv(e^t^n,r,e,i,s,a)}function va(r,e,t,n,i,s,a){return Fv(t^(e|~n),r,e,i,s,a)}function WN(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)mx(n,vY(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(mx(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,mx(n,i),n}function vY(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var j4="0123456789abcdef".split("");function xY(r){for(var e="",t=0;t<4;t++)e+=j4[r>>8*t+4&15]+j4[r>>8*t&15];return e}function yY(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Ty(r){return WN(r).map(yY).join("")}var _Y=(function(r){for(var e=0;e<r.length;e++)r[e]=xY(r[e]);return r.join("")})(WN("hello"))!="5d41402abc4b2a76b9719d911017c592";function zu(r,e){if(_Y){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function by(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var f=0;for(c=0;c<256;c++){var h=o[c];f=(f+h+a.charCodeAt(c))%256,o[c]=o[f],o[f]=h}t=r,n=o}else o=n;var p=e.length,x=0,m=0,E="";for(c=0;c<p;c++)m=(m+(h=o[x=(x+1)%256]))%256,o[x]=o[m],o[m]=h,a=o[(o[x]+o[m])%256],E+=String.fromCharCode(e.charCodeAt(c)^a);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var U4={print:4,modify:8,copy:16,"annot-forms":32};function md(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(U4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=U4[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Ty(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=by(this.encryptionKey,this.padding)}function gd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function z4(r){if(Tn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){yr.console&&Dn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Yg(r){if(!(this instanceof Yg))return new Yg(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function GN(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function $f(r,e,t,n,i){if(!(this instanceof $f))return new $f(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,GN.call(this,n,i)}function yd(r,e,t,n,i){if(!(this instanceof yd))return new yd(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,GN.call(this,n,i)}function sr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,f="S",h=null;Tn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(h=r.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),f=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var p=r.putOnlyUsedFonts||!1,x={},m={internal:{},__private__:{}};m.__private__.PubSub=z4;var E="1.3",w=m.__private__.getPdfVersion=function(){return E};m.__private__.setPdfVersion=function(I){E=I};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return T};var P=m.__private__.getPageFormat=function(I){return T[I]};i=i||"a4";var j="compat",D="advanced",q=j;function se(){this.saveGraphicsState(),G(new nr(yt,0,0,-yt,0,qi()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),f="n",q=D}function Q(){this.restoreGraphicsState(),f="S",q=j}var F=m.__private__.combineFontStyleAndFontWeight=function(I,X){if(I=="bold"&&X=="normal"||I=="bold"&&X==400||I=="normal"&&X=="italic"||I=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(I=X==400||X==="normal"?I==="italic"?"italic":"normal":X!=700&&X!=="bold"||I!=="normal"?(X==700?"bold":X)+""+I:"bold"),I};m.advancedAPI=function(I){var X=q===j;return X&&se.call(this),typeof I!="function"||(I(this),X&&Q.call(this)),this},m.compatAPI=function(I){var X=q===D;return X&&Q.call(this),typeof I!="function"||(I(this),X&&se.call(this)),this},m.isAdvancedAPI=function(){return q===D};var A,b=function(I){if(q!==D)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=m.roundToPrecision=m.__private__.roundToPrecision=function(I,X){var ge=e||X;if(isNaN(I)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ge).replace(/0+$/,"")};A=m.hpf=m.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return M(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return M(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return M(I,16)};var C=m.f2=m.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return M(I,2)},N=m.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return M(I,3)},B=m.scale=m.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return q===j?I*yt:q===D?I:void 0},ce=function(I){return B((function(X){return q===j?qi()-X:q===D?X:void 0})(I))};m.__private__.setPrecision=m.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var be,ke="00000000000000000000000000000000",Te=m.__private__.getFileId=function(){return ke},de=m.__private__.setFileId=function(I){return ke=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():ke.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(dn=new md(h.userPermissions,h.userPassword,h.ownerPassword,ke)),ke};m.setFileId=function(I){return de(I),this},m.getFileId=function(){return Te()};var te=m.__private__.convertDateToPDFDate=function(I){var X=I.getTimezoneOffset(),ge=X<0?"+":"-",Ie=Math.floor(Math.abs(X/60)),Oe=Math.abs(X%60),ot=[ge,W(Ie),"'",W(Oe),"'"].join("");return["D:",I.getFullYear(),W(I.getMonth()+1),W(I.getDate()),W(I.getHours()),W(I.getMinutes()),W(I.getSeconds()),ot].join("")},Ce=m.__private__.convertPDFDateToDate=function(I){var X=parseInt(I.substr(2,4),10),ge=parseInt(I.substr(6,2),10)-1,Ie=parseInt(I.substr(8,2),10),Oe=parseInt(I.substr(10,2),10),ot=parseInt(I.substr(12,2),10),ft=parseInt(I.substr(14,2),10);return new Date(X,ge,Ie,Oe,ot,ft,0)},re=m.__private__.setCreationDate=function(I){var X;if(I===void 0&&(I=new Date),I instanceof Date)X=te(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=I}return be=X},S=m.__private__.getCreationDate=function(I){var X=be;return I==="jsDate"&&(X=Ce(be)),X};m.setCreationDate=function(I){return re(I),this},m.getCreationDate=function(I){return S(I)};var U,W=m.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},K=m.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ie=0,pe=[],Ee=[],xe=0,Ae=[],Me=[],ae=!1,at=Ee;m.__private__.setCustomOutputDestination=function(I){ae=!0,at=I};var Re=function(I){ae||(at=I)};m.__private__.resetCustomOutputDestination=function(){ae=!1,at=Ee};var G=m.__private__.out=function(I){return I=I.toString(),xe+=I.length+1,at.push(I),at},Fe=m.__private__.write=function(I){return G(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},$e=m.__private__.getArrayBuffer=function(I){for(var X=I.length,ge=new ArrayBuffer(X),Ie=new Uint8Array(ge);X--;)Ie[X]=I.charCodeAt(X);return ge},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return nt};var tt=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(I){return tt=q===D?I/yt:I,this};var _t,ut=m.__private__.getFontSize=m.getFontSize=function(){return q===j?tt:tt*yt},Wt=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(I){return Wt=I,this},m.__private__.getR2L=m.getR2L=function(){return Wt};var Rt,Bt=m.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))_t=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');_t=I}else _t=parseInt(I,10)};m.__private__.getZoomMode=function(){return _t};var Ot,bt=m.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Rt=I};m.__private__.getPageMode=function(){return Rt};var Vt=m.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Ot=I};m.__private__.getLayoutMode=function(){return Ot},m.__private__.setDisplayMode=m.setDisplayMode=function(I,X,ge){return Bt(I),Vt(X),bt(ge),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(I){if(Object.keys(Pt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[I]},m.__private__.getDocumentProperties=function(){return Pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(I){for(var X in Pt)Pt.hasOwnProperty(X)&&I[X]&&(Pt[X]=I[X]);return this},m.__private__.setDocumentProperty=function(I,X){if(Object.keys(Pt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[I]=X};var Lt,yt,Tt,tr,Yt,Ft={},fr={},Wr=[],rr={},wr={},lr={},hn={},Xr=null,Nr=0,ir=[],kr=new z4(m),ka=r.hotfixes||[],On={},Rs={},vi=[],nr=function I(X,ge,Ie,Oe,ot,ft){if(!(this instanceof I))return new I(X,ge,Ie,Oe,ot,ft);isNaN(X)&&(X=1),isNaN(ge)&&(ge=0),isNaN(Ie)&&(Ie=0),isNaN(Oe)&&(Oe=1),isNaN(ot)&&(ot=0),isNaN(ft)&&(ft=0),this._matrix=[X,ge,Ie,Oe,ot,ft]};Object.defineProperty(nr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(nr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(nr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(nr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(nr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(nr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(nr.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(nr.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(nr.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(nr.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(nr.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(nr.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(nr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nr.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(I)},nr.prototype.multiply=function(I){var X=I.sx*this.sx+I.shy*this.shx,ge=I.sx*this.shy+I.shy*this.sy,Ie=I.shx*this.sx+I.sy*this.shx,Oe=I.shx*this.shy+I.sy*this.sy,ot=I.tx*this.sx+I.ty*this.shx+this.tx,ft=I.tx*this.shy+I.ty*this.sy+this.ty;return new nr(X,ge,Ie,Oe,ot,ft)},nr.prototype.decompose=function(){var I=this.sx,X=this.shy,ge=this.shx,Ie=this.sy,Oe=this.tx,ot=this.ty,ft=Math.sqrt(I*I+X*X),Dt=(I/=ft)*ge+(X/=ft)*Ie;ge-=I*Dt,Ie-=X*Dt;var Ut=Math.sqrt(ge*ge+Ie*Ie);return Dt/=Ut,I*(Ie/=Ut)<X*(ge/=Ut)&&(I=-I,X=-X,Dt=-Dt,ft=-ft),{scale:new nr(ft,0,0,Ut,0,0),translate:new nr(1,0,0,1,Oe,ot),rotate:new nr(I,X,-X,I,0,0),skew:new nr(1,0,Dt,1,0,0)}},nr.prototype.toString=function(I){return this.join(" ")},nr.prototype.inversed=function(){var I=this.sx,X=this.shy,ge=this.shx,Ie=this.sy,Oe=this.tx,ot=this.ty,ft=1/(I*Ie-X*ge),Dt=Ie*ft,Ut=-X*ft,ar=-ge*ft,pr=I*ft;return new nr(Dt,Ut,ar,pr,-Dt*Oe-ar*ot,-Ut*Oe-pr*ot)},nr.prototype.applyToPoint=function(I){var X=I.x*this.sx+I.y*this.shx+this.tx,ge=I.x*this.shy+I.y*this.sy+this.ty;return new Ia(X,ge)},nr.prototype.applyToRectangle=function(I){var X=this.applyToPoint(I),ge=this.applyToPoint(new Ia(I.x+I.w,I.y+I.h));return new Co(X.x,X.y,ge.x-X.x,ge.y-X.y)},nr.prototype.clone=function(){var I=this.sx,X=this.shy,ge=this.shx,Ie=this.sy,Oe=this.tx,ot=this.ty;return new nr(I,X,ge,Ie,Oe,ot)},m.Matrix=nr;var en=m.matrixMult=function(I,X){return X.multiply(I)},ps=new nr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ps;var An=function(I,X){if(!wr[I]){var ge=(X instanceof $f?"Sh":"P")+(Object.keys(rr).length+1).toString(10);X.id=ge,wr[I]=ge,rr[ge]=X,kr.publish("addPattern",X)}};m.ShadingPattern=$f,m.TilingPattern=yd,m.addShadingPattern=function(I,X){return b("addShadingPattern()"),An(I,X),this},m.beginTilingPattern=function(I){b("beginTilingPattern()"),is(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},m.endTilingPattern=function(I,X){b("endTilingPattern()"),X.stream=Me[U].join(`
`),An(I,X),kr.publish("endTilingPattern",X),vi.pop().restore()};var xi,cn=m.__private__.newObject=function(){var I=Rn();return J(I,!0),I},Rn=m.__private__.newObjectDeferred=function(){return ie++,pe[ie]=function(){return xe},ie},J=function(I,X){return X=typeof X=="boolean"&&X,pe[I]=xe,X&&G(I+" 0 obj"),I},ye=m.__private__.newAdditionalObject=function(){var I={objId:Rn(),content:""};return Ae.push(I),I},fe=Rn(),he=Rn(),_e=m.__private__.decodeColorString=function(I){var X=I.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var ge=parseFloat(X[0]);X=[ge,ge,ge,"r"]}for(var Ie="#",Oe=0;Oe<3;Oe++)Ie+=("0"+Math.floor(255*parseFloat(X[Oe])).toString(16)).slice(-2);return Ie},we=m.__private__.encodeColorString=function(I){var X;typeof I=="string"&&(I={ch1:I});var ge=I.ch1,Ie=I.ch2,Oe=I.ch3,ot=I.ch4,ft=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Dt=new HN(ge);if(Dt.ok)ge=Dt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Ut=parseInt(ge.substr(1),16);ge=Ut>>16&255,Ie=Ut>>8&255,Oe=255&Ut}if(Ie===void 0||ot===void 0&&ge===Ie&&Ie===Oe)X=typeof ge=="string"?ge+" "+ft[0]:I.precision===2?C(ge/255)+" "+ft[0]:N(ge/255)+" "+ft[0];else if(ot===void 0||Tn(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return["1.","1.","1.",ft[1]].join(" ");X=typeof ge=="string"?[ge,Ie,Oe,ft[1]].join(" "):I.precision===2?[C(ge/255),C(Ie/255),C(Oe/255),ft[1]].join(" "):[N(ge/255),N(Ie/255),N(Oe/255),ft[1]].join(" ")}else X=typeof ge=="string"?[ge,Ie,Oe,ot,ft[2]].join(" "):I.precision===2?[C(ge),C(Ie),C(Oe),C(ot),ft[2]].join(" "):[N(ge),N(Ie),N(Oe),N(ot),ft[2]].join(" ");return X},je=m.__private__.getFilters=function(){return a},Qe=m.__private__.putStream=function(I){var X=(I=I||{}).data||"",ge=I.filters||je(),Ie=I.alreadyAppliedFilters||[],Oe=I.addLength1||!1,ot=X.length,ft=I.objectId,Dt=function(Yn){return Yn};if(h!==null&&ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Dt=dn.encryptor(ft,0));var Ut={};ge===!0&&(ge=["FlateEncode"]);var ar=I.additionalKeyValues||[],pr=(Ut=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(X,ge):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(Ut.data.length!==0&&(ar.push({key:"Length",value:Ut.data.length}),Oe===!0&&ar.push({key:"Length1",value:ot})),pr.length!=0)if(pr.split("/").length-1==1)ar.push({key:"Filter",value:pr});else{ar.push({key:"Filter",value:"["+pr+"]"});for(var Vr=0;Vr<ar.length;Vr+=1)if(ar[Vr].key==="DecodeParms"){for(var Sn=[],Ln=0;Ln<Ut.reverseChain.split("/").length-1;Ln+=1)Sn.push("null");Sn.push(ar[Vr].value),ar[Vr].value="["+Sn.join(" ")+"]"}}G("<<");for(var $r=0;$r<ar.length;$r++)G("/"+ar[$r].key+" "+ar[$r].value);G(">>"),Ut.data.length!==0&&(G("stream"),G(Dt(Ut.data)),G("endstream"))},qe=m.__private__.putPage=function(I){var X=I.number,ge=I.data,Ie=I.objId,Oe=I.contentsObjId;J(Ie,!0),G("<</Type /Page"),G("/Parent "+I.rootDictionaryObjId+" 0 R"),G("/Resources "+I.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(A(I.mediaBox.bottomLeftX))+" "+parseFloat(A(I.mediaBox.bottomLeftY))+" "+A(I.mediaBox.topRightX)+" "+A(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&G("/CropBox ["+A(I.cropBox.bottomLeftX)+" "+A(I.cropBox.bottomLeftY)+" "+A(I.cropBox.topRightX)+" "+A(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&G("/BleedBox ["+A(I.bleedBox.bottomLeftX)+" "+A(I.bleedBox.bottomLeftY)+" "+A(I.bleedBox.topRightX)+" "+A(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&G("/TrimBox ["+A(I.trimBox.bottomLeftX)+" "+A(I.trimBox.bottomLeftY)+" "+A(I.trimBox.topRightX)+" "+A(I.trimBox.topRightY)+"]"),I.artBox!==null&&G("/ArtBox ["+A(I.artBox.bottomLeftX)+" "+A(I.artBox.bottomLeftY)+" "+A(I.artBox.topRightX)+" "+A(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&G("/UserUnit "+I.userUnit),kr.publish("putPage",{objId:Ie,pageContext:ir[X],pageNumber:X,page:ge}),G("/Contents "+Oe+" 0 R"),G(">>"),G("endobj");var ot=ge.join(`
`);return q===D&&(ot+=`
Q`),J(Oe,!0),Qe({data:ot,filters:je(),objectId:Oe}),G("endobj"),Ie},He=m.__private__.putPages=function(){var I,X,ge=[];for(I=1;I<=Nr;I++)ir[I].objId=Rn(),ir[I].contentsObjId=Rn();for(I=1;I<=Nr;I++)ge.push(qe({number:I,data:Me[I],objId:ir[I].objId,contentsObjId:ir[I].contentsObjId,mediaBox:ir[I].mediaBox,cropBox:ir[I].cropBox,bleedBox:ir[I].bleedBox,trimBox:ir[I].trimBox,artBox:ir[I].artBox,userUnit:ir[I].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:he}));J(fe,!0),G("<</Type /Pages");var Ie="/Kids [";for(X=0;X<Nr;X++)Ie+=ge[X]+" 0 R ";G(Ie+"]"),G("/Count "+Nr),G(">>"),G("endobj"),kr.publish("postPutPages")},Ke=function(I){kr.publish("putFont",{font:I,out:G,newObject:cn,putStream:Qe}),I.isAlreadyPutted!==!0&&(I.objectNumber=cn(),G("<<"),G("/Type /Font"),G("/BaseFont /"+gd(I.postScriptName)),G("/Subtype /Type1"),typeof I.encoding=="string"&&G("/Encoding /"+I.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},ht=function(I){I.objectNumber=cn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[A(I.x),A(I.y),A(I.x+I.width),A(I.y+I.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ge=I.pages[1].join(`
`);Qe({data:ge,additionalKeyValues:X,objectId:I.objectNumber}),G("endobj")},At=function(I,X){X||(X=21);var ge=cn(),Ie=(function(ft,Dt){var Ut,ar=[],pr=1/(Dt-1);for(Ut=0;Ut<1;Ut+=pr)ar.push(Ut);if(ar.push(1),ft[0].offset!=0){var Vr={offset:0,color:ft[0].color};ft.unshift(Vr)}if(ft[ft.length-1].offset!=1){var Sn={offset:1,color:ft[ft.length-1].color};ft.push(Sn)}for(var Ln="",$r=0,Yn=0;Yn<ar.length;Yn++){for(Ut=ar[Yn];Ut>ft[$r+1].offset;)$r++;var gn=ft[$r].offset,yi=(Ut-gn)/(ft[$r+1].offset-gn),za=ft[$r].color,oo=ft[$r+1].color;Ln+=K(Math.round((1-yi)*za[0]+yi*oo[0]).toString(16))+K(Math.round((1-yi)*za[1]+yi*oo[1]).toString(16))+K(Math.round((1-yi)*za[2]+yi*oo[2]).toString(16))}return Ln.trim()})(I.colors,X),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+X+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe({data:Ie,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),G("endobj"),I.objectNumber=cn(),G("<< /ShadingType "+I.type),G("/ColorSpace /DeviceRGB");var ot="/Coords ["+A(parseFloat(I.coords[0]))+" "+A(parseFloat(I.coords[1]))+" ";I.type===2?ot+=A(parseFloat(I.coords[2]))+" "+A(parseFloat(I.coords[3])):ot+=A(parseFloat(I.coords[2]))+" "+A(parseFloat(I.coords[3]))+" "+A(parseFloat(I.coords[4]))+" "+A(parseFloat(I.coords[5])),G(ot+="]"),I.matrix&&G("/Matrix ["+I.matrix.toString()+"]"),G("/Function "+ge+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Ct=function(I,X){var ge=Rn(),Ie=cn();X.push({resourcesOid:ge,objectOid:Ie}),I.objectNumber=Ie;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+I.boundingBox.map(A).join(" ")+"]"}),Oe.push({key:"XStep",value:A(I.xStep)}),Oe.push({key:"YStep",value:A(I.yStep)}),Oe.push({key:"Resources",value:ge+" 0 R"}),I.matrix&&Oe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Qe({data:I.stream,additionalKeyValues:Oe,objectId:I.objectNumber}),G("endobj")},Et=function(I){for(var X in I.objectNumber=cn(),G("<<"),I)switch(X){case"opacity":G("/ca "+C(I[X]));break;case"stroke-opacity":G("/CA "+C(I[X]))}G(">>"),G("endobj")},mt=function(I){J(I.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in G("/Font <<"),Ft)Ft.hasOwnProperty(X)&&(p===!1||p===!0&&x.hasOwnProperty(X))&&G("/"+X+" "+Ft[X].objectNumber+" 0 R");G(">>")})(),(function(){if(Object.keys(rr).length>0){for(var X in G("/Shading <<"),rr)rr.hasOwnProperty(X)&&rr[X]instanceof $f&&rr[X].objectNumber>=0&&G("/"+X+" "+rr[X].objectNumber+" 0 R");kr.publish("putShadingPatternDict"),G(">>")}})(),(function(X){if(Object.keys(rr).length>0){for(var ge in G("/Pattern <<"),rr)rr.hasOwnProperty(ge)&&rr[ge]instanceof m.TilingPattern&&rr[ge].objectNumber>=0&&rr[ge].objectNumber<X&&G("/"+ge+" "+rr[ge].objectNumber+" 0 R");kr.publish("putTilingPatternDict"),G(">>")}})(I.objectOid),(function(){if(Object.keys(lr).length>0){var X;for(X in G("/ExtGState <<"),lr)lr.hasOwnProperty(X)&&lr[X].objectNumber>=0&&G("/"+X+" "+lr[X].objectNumber+" 0 R");kr.publish("putGStateDict"),G(">>")}})(),(function(){for(var X in G("/XObject <<"),On)On.hasOwnProperty(X)&&On[X].objectNumber>=0&&G("/"+X+" "+On[X].objectNumber+" 0 R");kr.publish("putXobjectDict"),G(">>")})(),G(">>"),G("endobj")},cr=function(I){fr[I.fontName]=fr[I.fontName]||{},fr[I.fontName][I.fontStyle]=I.id},Ur=function(I,X,ge,Ie,Oe){var ot={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:I,fontName:X,fontStyle:ge,encoding:Ie,isStandardFont:Oe||!1,metadata:{}};return kr.publish("addFont",{font:ot,instance:this}),Ft[ot.id]=ot,cr(ot),ot.id},Er=m.__private__.pdfEscape=m.pdfEscape=function(I,X){return(function(ge,Ie){var Oe,ot,ft,Dt,Ut,ar,pr,Vr,Sn;if(ft=(Ie=Ie||{}).sourceEncoding||"Unicode",Ut=Ie.outputEncoding,(Ie.autoencode||Ut)&&Ft[Lt].metadata&&Ft[Lt].metadata[ft]&&Ft[Lt].metadata[ft].encoding&&(Dt=Ft[Lt].metadata[ft].encoding,!Ut&&Ft[Lt].encoding&&(Ut=Ft[Lt].encoding),!Ut&&Dt.codePages&&(Ut=Dt.codePages[0]),typeof Ut=="string"&&(Ut=Dt[Ut]),Ut)){for(pr=!1,ar=[],Oe=0,ot=ge.length;Oe<ot;Oe++)(Vr=Ut[ge.charCodeAt(Oe)])?ar.push(String.fromCharCode(Vr)):ar.push(ge[Oe]),ar[Oe].charCodeAt(0)>>8&&(pr=!0);ge=ar.join("")}for(Oe=ge.length;pr===void 0&&Oe!==0;)ge.charCodeAt(Oe-1)>>8&&(pr=!0),Oe--;if(!pr)return ge;for(ar=Ie.noBOM?[]:[254,255],Oe=0,ot=ge.length;Oe<ot;Oe++){if((Sn=(Vr=ge.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ar.push(Sn),ar.push(Vr-(Sn<<8))}return String.fromCharCode.apply(void 0,ar)})(I,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gr=m.__private__.beginPage=function(I){Me[++Nr]=[],ir[Nr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},ms(Nr),Re(Me[U])},Ks=function(I,X){var ge,Ie,Oe;switch(t=X||t,typeof I=="string"&&(ge=P(I.toLowerCase()),Array.isArray(ge)&&(Ie=ge[0],Oe=ge[1])),Array.isArray(I)&&(Ie=I[0]*yt,Oe=I[1]*yt),isNaN(Ie)&&(Ie=i[0],Oe=i[1]),(Ie>14400||Oe>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Oe=Math.min(14400,Oe)),i=[Ie,Oe],t.substr(0,1)){case"l":Oe>Ie&&(i=[Oe,Ie]);break;case"p":Ie>Oe&&(i=[Oe,Ie])}Gr(i),Js(Fs),G(ja),mn!==0&&G(mn+" J"),cc!==0&&G(cc+" j"),kr.publish("addPage",{pageNumber:Nr})},Xs=function(I){I>0&&I<=Nr&&(Me.splice(I,1),ir.splice(I,1),Nr--,U>Nr&&(U=Nr),this.setPage(U))},ms=function(I){I>0&&I<=Nr&&(U=I)},Mn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Me.length-1},to=function(I,X,ge){var Ie,Oe=void 0;return ge=ge||{},I=I!==void 0?I:Ft[Lt].fontName,X=X!==void 0?X:Ft[Lt].fontStyle,Ie=I.toLowerCase(),fr[Ie]!==void 0&&fr[Ie][X]!==void 0?Oe=fr[Ie][X]:fr[I]!==void 0&&fr[I][X]!==void 0?Oe=fr[I][X]:ge.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+I+"', '"+X+"'. Refer to getFontList() for available fonts."),Oe||ge.noFallback||(Oe=fr.times[X])==null&&(Oe=fr.times.normal),Oe},un=m.__private__.putInfo=function(){var I=cn(),X=function(Ie){return Ie};for(var ge in h!==null&&(X=dn.encryptor(I,0)),G("<<"),G("/Producer ("+Er(X("jsPDF "+sr.version))+")"),Pt)Pt.hasOwnProperty(ge)&&Pt[ge]&&G("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Er(X(Pt[ge]))+")");G("/CreationDate ("+Er(X(be))+")"),G(">>"),G("endobj")},oc=m.__private__.putCatalog=function(I){var X=(I=I||{}).rootDictionaryObjId||fe;switch(cn(),G("<<"),G("/Type /Catalog"),G("/Pages "+X+" 0 R"),_t||(_t="fullwidth"),_t){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+_t;ge.substr(ge.length-1)==="%"&&(_t=parseInt(_t)/100),typeof _t=="number"&&G("/OpenAction [3 0 R /XYZ null null "+C(_t)+"]")}switch(Ot||(Ot="continuous"),Ot){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Rt&&G("/PageMode /"+Rt),kr.publish("putCatalog"),G(">>"),G("endobj")},Hn=m.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ie+1)),G("/Root "+ie+" 0 R"),G("/Info "+(ie-1)+" 0 R"),h!==null&&G("/Encrypt "+dn.oid+" 0 R"),G("/ID [ <"+ke+"> <"+ke+"> ]"),G(">>")},lc=m.__private__.putHeader=function(){G("%PDF-"+E),G("%ºß¬à")},Xo=m.__private__.putXRef=function(){var I="0000000000";G("xref"),G("0 "+(ie+1)),G("0000000000 65535 f ");for(var X=1;X<=ie;X++)typeof pe[X]=="function"?G((I+pe[X]()).slice(-10)+" 00000 n "):pe[X]!==void 0?G((I+pe[X]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Ys=m.__private__.buildDocument=function(){var I;ie=0,xe=0,Ee=[],pe=[],Ae=[],fe=Rn(),he=Rn(),Re(Ee),kr.publish("buildDocument"),lc(),He(),(function(){kr.publish("putAdditionalObjects");for(var ge=0;ge<Ae.length;ge++){var Ie=Ae[ge];J(Ie.objId,!0),G(Ie.content),G("endobj")}kr.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var ge in Ft)Ft.hasOwnProperty(ge)&&(p===!1||p===!0&&x.hasOwnProperty(ge))&&Ke(Ft[ge])})(),(function(){var ge;for(ge in lr)lr.hasOwnProperty(ge)&&Et(lr[ge])})(),(function(){for(var ge in On)On.hasOwnProperty(ge)&&ht(On[ge])})(),(function(ge){var Ie;for(Ie in rr)rr.hasOwnProperty(Ie)&&(rr[Ie]instanceof $f?At(rr[Ie]):rr[Ie]instanceof yd&&Ct(rr[Ie],ge))})(I),kr.publish("putResources"),I.forEach(mt),mt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),kr.publish("postPutResources"),h!==null&&(dn.oid=cn(),G("<<"),G("/Filter /Standard"),G("/V "+dn.v),G("/R "+dn.r),G("/U <"+dn.toHexString(dn.U)+">"),G("/O <"+dn.toHexString(dn.O)+">"),G("/P "+dn.P),G(">>"),G("endobj")),un(),oc();var X=xe;return Xo(),Hn(),G("startxref"),G(""+X),G("%%EOF"),Re(Me[U]),Ee.join(`
`)},Qs=m.__private__.getBlob=function(I){return new Blob([$e(I)],{type:"application/pdf"})},Zi=m.output=m.__private__.output=(xi=function(I,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",I){case void 0:return Ys();case"save":m.save(X.filename);break;case"arraybuffer":return $e(Ys());case"blob":return Qs(Ys());case"bloburi":case"bloburl":if(yr.URL!==void 0&&typeof yr.URL.createObjectURL=="function")return yr.URL&&yr.URL.createObjectURL(Qs(Ys()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Ie=Ys();try{ge=V4(Ie)}catch{ge=V4(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+X.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yr)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Oe=X.pdfObjectUrl,ot="");var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Dt=yr.open();return Dt!==null&&Dt.document.write(ft),Dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yr)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',ar=yr.open();if(ar!==null){ar.document.write(Ut);var pr=this;ar.document.documentElement.querySelector("#pdfViewer").onload=function(){ar.document.title=X.filename,ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',Sn=yr.open();if(Sn!==null&&(Sn.document.write(Vr),Sn.document.title=X.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return yr.document.location.href=this.output("datauristring",X);default:return null}},xi.foo=function(){try{return xi.apply(this,arguments)}catch(ge){var I=ge.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var X="Error in function "+I.split(`
`)[0].split("<")[0]+": "+ge.message;if(!yr.console)throw new Error(X);yr.console.error(X,ge),yr.alert&&alert(X)}},xi.foo.bar=xi,xi.foo),Yo=function(I){return Array.isArray(ka)===!0&&ka.indexOf(I)>-1};switch(n){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=Yo("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);yt=n}var dn=null;re(),de();var es=m.__private__.getPageInfo=m.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ir[I].objId,pageNumber:I,pageContext:ir[I]}},Qo=m.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in ir)if(ir[X].objId===I)break;return es(X)},So=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ir[U].objId,pageNumber:U,pageContext:ir[U]}};m.addPage=function(){return Ks.apply(this,arguments),this},m.setPage=function(){return ms.apply(this,arguments),Re.call(this,Me[U]),this},m.insertPage=function(I){return this.addPage(),this.movePage(U,I),this},m.movePage=function(I,X){var ge,Ie;if(I>X){ge=Me[I],Ie=ir[I];for(var Oe=I;Oe>X;Oe--)Me[Oe]=Me[Oe-1],ir[Oe]=ir[Oe-1];Me[X]=ge,ir[X]=Ie,this.setPage(X)}else if(I<X){ge=Me[I],Ie=ir[I];for(var ot=I;ot<X;ot++)Me[ot]=Me[ot+1],ir[ot]=ir[ot+1];Me[X]=ge,ir[X]=Ie,this.setPage(X)}return this},m.deletePage=function(){return Xs.apply(this,arguments),this},m.__private__.text=m.text=function(I,X,ge,Ie,Oe){var ot,ft,Dt,Ut,ar,pr,Vr,Sn,Ln,$r=(Ie=Ie||{}).scope||this;if(typeof I=="number"&&typeof X=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Yn=ge;ge=X,X=I,I=Yn}if(arguments[3]instanceof nr==0?(Dt=arguments[4],Ut=arguments[5],Tn(Vr=arguments[3])==="object"&&Vr!==null||(typeof Dt=="string"&&(Ut=Dt,Dt=null),typeof Vr=="string"&&(Ut=Vr,Vr=null),typeof Vr=="number"&&(Dt=Vr,Vr=null),Ie={flags:Vr,angle:Dt,align:Ut})):(b("The transform parameter of text() with a Matrix value"),Ln=Oe),isNaN(X)||isNaN(ge)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return $r;var gn,yi="",za=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:rs,oo=$r.internal.scaleFactor;function uc(kn){return kn=kn.split("	").join(Array(Ie.TabLen||9).join(" ")),Er(kn,Vr)}function Zo(kn){for(var In,li=kn.concat(),ci=[],Ri=li.length;Ri--;)typeof(In=li.shift())=="string"?ci.push(In):Array.isArray(kn)&&(In.length===1||In[1]===void 0&&In[2]===void 0)?ci.push(In[0]):ci.push([In[0],In[1],In[2]]);return ci}function oi(kn,In){var li;if(typeof kn=="string")li=In(kn)[0];else if(Array.isArray(kn)){for(var ci,Ri,Lo=kn.concat(),co=[],nu=Lo.length;nu--;)typeof(ci=Lo.shift())=="string"?co.push(In(ci)[0]):Array.isArray(ci)&&typeof ci[0]=="string"&&(Ri=In(ci[0],ci[1],ci[2]),co.push([Ri[0],Ri[1],Ri[2]]));li=co}return li}var ea=!1,Cl=!0;if(typeof I=="string")ea=!0;else if(Array.isArray(I)){var Ds=I.concat();ft=[];for(var v,L=Ds.length;L--;)(typeof(v=Ds.shift())!="string"||Array.isArray(v)&&typeof v[0]!="string")&&(Cl=!1);ea=Cl}if(ea===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var H=tt/$r.internal.scaleFactor,le=H*(za-1);switch(Ie.baseline){case"bottom":ge-=le;break;case"top":ge+=H-le;break;case"hanging":ge+=H-2*le;break;case"middle":ge+=H/2-le}if((pr=Ie.maxWidth||0)>0&&(typeof I=="string"?I=$r.splitTextToSize(I,pr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(kn,In){return kn.concat($r.splitTextToSize(In,pr))},[]))),ot={text:I,x:X,y:ge,options:Ie,mutex:{pdfEscape:Er,activeFontKey:Lt,fonts:Ft,activeFontSize:tt}},kr.publish("preProcessText",ot),I=ot.text,Dt=(Ie=ot.options).angle,Ln instanceof nr==0&&Dt&&typeof Dt=="number"){Dt*=Math.PI/180,Ie.rotationDirection===0&&(Dt=-Dt),q===D&&(Dt=-Dt);var Be=Math.cos(Dt),et=Math.sin(Dt);Ln=new nr(Be,et,-et,Be,0,0)}else Dt&&Dt instanceof nr&&(Ln=Dt);q!==D||Ln||(Ln=ps),(ar=Ie.charSpace||Zs)!==void 0&&(yi+=A(B(ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=Ie.horizontalScale)!==void 0&&(yi+=A(100*Sn)+` Tz
`),Ie.lang;var xt=-1,Yr=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,Bn=$r.internal.getCurrentPageInfo().pageContext;switch(Yr){case 0:case!1:case"fill":xt=0;break;case 1:case!0:case"stroke":xt=1;break;case 2:case"fillThenStroke":xt=2;break;case 3:case"invisible":xt=3;break;case 4:case"fillAndAddForClipping":xt=4;break;case 5:case"strokeAndAddPathForClipping":xt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xt=6;break;case 7:case"addToPathForClipping":xt=7}var Rr=Bn.usedRenderingMode!==void 0?Bn.usedRenderingMode:-1;xt!==-1?yi+=xt+` Tr
`:Rr!==-1&&(yi+=`0 Tr
`),xt!==-1&&(Bn.usedRenderingMode=xt),Ut=Ie.align||"left";var Dr,tn=tt*za,vs=$r.internal.pageSize.getWidth(),ss=Ft[Lt];ar=Ie.charSpace||Zs,pr=Ie.maxWidth||0,Vr=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var ta=[],lo=function(kn){return $r.getStringUnitWidth(kn,{font:ss,charSpace:ar,fontSize:tt,doKerning:!1})*tt/oo};if(Object.prototype.toString.call(I)==="[object Array]"){var Os;ft=Zo(I),Ut!=="left"&&(Dr=ft.map(lo));var Ms,Nl=0;if(Ut==="right"){X-=Dr[0],I=[],L=ft.length;for(var Bs=0;Bs<L;Bs++)Bs===0?(Ms=Xn(X),Os=io(ge)):(Ms=B(Nl-Dr[Bs]),Os=-tn),I.push([ft[Bs],Ms,Os]),Nl=Dr[Bs]}else if(Ut==="center"){X-=Dr[0]/2,I=[],L=ft.length;for(var Pl=0;Pl<L;Pl++)Pl===0?(Ms=Xn(X),Os=io(ge)):(Ms=B((Nl-Dr[Pl])/2),Os=-tn),I.push([ft[Pl],Ms,Os]),Nl=Dr[Pl]}else if(Ut==="left"){I=[],L=ft.length;for(var yf=0;yf<L;yf++)I.push(ft[yf])}else if(Ut==="justify"&&ss.encoding==="Identity-H"){I=[],L=ft.length,pr=pr!==0?pr:vs;for(var Rl=0,Qn=0;Qn<L;Qn++)if(Os=Qn===0?io(ge):-tn,Ms=Qn===0?Xn(X):Rl,Qn<L-1){var Rh=B((pr-Dr[Qn])/(ft[Qn].split(" ").length-1)),ra=ft[Qn].split(" ");I.push([ra[0]+" ",Ms,Os]),Rl=0;for(var na=1;na<ra.length;na++){var eu=(lo(ra[na-1]+" "+ra[na])-lo(ra[na]))*oo+Rh;na==ra.length-1?I.push([ra[na],eu,0]):I.push([ra[na]+" ",eu,0]),Rl-=eu}}else I.push([ft[Qn],Ms,Os]);I.push(["",Rl,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],L=ft.length,pr=pr!==0?pr:vs,Qn=0;Qn<L;Qn++)Os=Qn===0?io(ge):-tn,Ms=Qn===0?Xn(X):0,Qn<L-1?ta.push(A(B((pr-Dr[Qn])/(ft[Qn].split(" ").length-1)))):ta.push(0),I.push([ft[Qn],Ms,Os])}}(typeof Ie.R2L=="boolean"?Ie.R2L:Wt)===!0&&(I=oi(I,function(kn,In,li){return[kn.split("").reverse().join(""),In,li]})),ot={text:I,x:X,y:ge,options:Ie,mutex:{pdfEscape:Er,activeFontKey:Lt,fonts:Ft,activeFontSize:tt}},kr.publish("postProcessText",ot),I=ot.text,gn=ot.mutex.isHex||!1;var Ll=Ft[Lt].encoding;Ll!=="WinAnsiEncoding"&&Ll!=="StandardEncoding"||(I=oi(I,function(kn,In,li){return[uc(kn),In,li]})),ft=Zo(I),I=[];for(var tu,fc,el,tl=Array.isArray(ft[0])?1:0,Po="",ru=function(kn,In,li){var ci="";return li instanceof nr?(li=typeof Ie.angle=="number"?en(li,new nr(1,0,0,1,kn,In)):en(new nr(1,0,0,1,kn,In),li),q===D&&(li=en(new nr(1,0,0,-1,0,0),li)),ci=li.join(" ")+` Tm
`):ci=A(kn)+" "+A(In)+` Td
`,ci},ia=0;ia<ft.length;ia++){switch(Po="",tl){case 1:el=(gn?"<":"(")+ft[ia][0]+(gn?">":")"),tu=parseFloat(ft[ia][1]),fc=parseFloat(ft[ia][2]);break;case 0:el=(gn?"<":"(")+ft[ia]+(gn?">":")"),tu=Xn(X),fc=io(ge)}ta!==void 0&&ta[ia]!==void 0&&(Po=ta[ia]+` Tw
`),ia===0?I.push(Po+ru(tu,fc,Ln)+el):tl===0?I.push(Po+el):tl===1&&I.push(Po+ru(tu,fc,Ln)+el)}I=tl===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Ro=`BT
/`;return Ro+=Lt+" "+tt+` Tf
`,Ro+=A(tt*za)+` TL
`,Ro+=ns+`
`,Ro+=yi,Ro+=I,G(Ro+="ET"),x[Lt]=!0,$r};var ko=m.__private__.clip=m.clip=function(I){return G(I==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ko("evenodd")},m.__private__.discardPath=m.discardPath=function(){return G("n"),this};var Fr=m.__private__.isValidStyle=function(I){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(X=!0),X};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(I){return Fr(I)&&(f=I),this};var ro=m.__private__.getStyle=m.getStyle=function(I){var X=f;switch(I){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=I}return X},Pr=m.close=function(){return G("h"),this};m.stroke=function(){return G("S"),this},m.fill=function(I){return Ls("f",I),this},m.fillEvenOdd=function(I){return Ls("f*",I),this},m.fillStroke=function(I){return Ls("B",I),this},m.fillStrokeEvenOdd=function(I){return Ls("B*",I),this};var Ls=function(I,X){Tn(X)==="object"?Yc(X,I):G(I)},Al=function(I){I===null||q===D&&I===void 0||(I=ro(I),G(I))};function Sl(I,X,ge,Ie,Oe){var ot=new yd(X||this.boundingBox,ge||this.xStep,Ie||this.yStep,this.gState,Oe||this.matrix);ot.stream=this.stream;var ft=I+"$$"+this.cloneIndex+++"$$";return An(ft,ot),ot}var Yc=function(I,X){var ge=wr[I.key],Ie=rr[ge];if(Ie instanceof $f)G("q"),G(Qc(X)),Ie.gState&&m.setGState(Ie.gState),G(I.matrix.toString()+" cm"),G("/"+ge+" sh"),G("Q");else if(Ie instanceof yd){var Oe=new nr(1,0,0,-1,0,qi());I.matrix&&(Oe=Oe.multiply(I.matrix||ps),ge=Sl.call(Ie,I.key,I.boundingBox,I.xStep,I.yStep,Oe).id),G("q"),G("/Pattern cs"),G("/"+ge+" scn"),Ie.gState&&m.setGState(Ie.gState),G(X),G("Q")}},Qc=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kl=m.moveTo=function(I,X){return G(A(B(I))+" "+A(ce(X))+" m"),this},no=m.lineTo=function(I,X){return G(A(B(I))+" "+A(ce(X))+" l"),this},ts=m.curveTo=function(I,X,ge,Ie,Oe,ot){return G([A(B(I)),A(ce(X)),A(B(ge)),A(ce(Ie)),A(B(Oe)),A(ce(ot)),"c"].join(" ")),this};m.__private__.line=m.line=function(I,X,ge,Ie,Oe){if(isNaN(I)||isNaN(X)||isNaN(ge)||isNaN(Ie)||!Fr(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return q===j?this.lines([[ge-I,Ie-X]],I,X,[1,1],Oe||"S"):this.lines([[ge-I,Ie-X]],I,X,[1,1]).stroke()},m.__private__.lines=m.lines=function(I,X,ge,Ie,Oe,ot){var ft,Dt,Ut,ar,pr,Vr,Sn,Ln,$r,Yn,gn,yi;if(typeof I=="number"&&(yi=ge,ge=X,X=I,I=yi),Ie=Ie||[1,1],ot=ot||!1,isNaN(X)||isNaN(ge)||!Array.isArray(I)||!Array.isArray(Ie)||!Fr(Oe)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kl(X,ge),ft=Ie[0],Dt=Ie[1],ar=I.length,Yn=X,gn=ge,Ut=0;Ut<ar;Ut++)(pr=I[Ut]).length===2?(Yn=pr[0]*ft+Yn,gn=pr[1]*Dt+gn,no(Yn,gn)):(Vr=pr[0]*ft+Yn,Sn=pr[1]*Dt+gn,Ln=pr[2]*ft+Yn,$r=pr[3]*Dt+gn,Yn=pr[4]*ft+Yn,gn=pr[5]*Dt+gn,ts(Vr,Sn,Ln,$r,Yn,gn));return ot&&Pr(),Al(Oe),this},m.path=function(I){for(var X=0;X<I.length;X++){var ge=I[X],Ie=ge.c;switch(ge.op){case"m":kl(Ie[0],Ie[1]);break;case"l":no(Ie[0],Ie[1]);break;case"c":ts.apply(this,Ie);break;case"h":Pr()}}return this},m.__private__.rect=m.rect=function(I,X,ge,Ie,Oe){if(isNaN(I)||isNaN(X)||isNaN(ge)||isNaN(Ie)||!Fr(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return q===j&&(Ie=-Ie),G([A(B(I)),A(ce(X)),A(B(ge)),A(B(Ie)),"re"].join(" ")),Al(Oe),this},m.__private__.triangle=m.triangle=function(I,X,ge,Ie,Oe,ot,ft){if(isNaN(I)||isNaN(X)||isNaN(ge)||isNaN(Ie)||isNaN(Oe)||isNaN(ot)||!Fr(ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-I,Ie-X],[Oe-ge,ot-Ie],[I-Oe,X-ot]],I,X,[1,1],ft,!0),this},m.__private__.roundedRect=m.roundedRect=function(I,X,ge,Ie,Oe,ot,ft){if(isNaN(I)||isNaN(X)||isNaN(ge)||isNaN(Ie)||isNaN(Oe)||isNaN(ot)||!Fr(ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Dt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*ge),ot=Math.min(ot,.5*Ie),this.lines([[ge-2*Oe,0],[Oe*Dt,0,Oe,ot-ot*Dt,Oe,ot],[0,Ie-2*ot],[0,ot*Dt,-Oe*Dt,ot,-Oe,ot],[2*Oe-ge,0],[-Oe*Dt,0,-Oe,-ot*Dt,-Oe,-ot],[0,2*ot-Ie],[0,-ot*Dt,Oe*Dt,-ot,Oe,-ot]],I+Oe,X,[1,1],ft,!0),this},m.__private__.ellipse=m.ellipse=function(I,X,ge,Ie,Oe){if(isNaN(I)||isNaN(X)||isNaN(ge)||isNaN(Ie)||!Fr(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*ge,ft=4/3*(Math.SQRT2-1)*Ie;return kl(I+ge,X),ts(I+ge,X-ft,I+ot,X-Ie,I,X-Ie),ts(I-ot,X-Ie,I-ge,X-ft,I-ge,X),ts(I-ge,X+ft,I-ot,X+Ie,I,X+Ie),ts(I+ot,X+Ie,I+ge,X+ft,I+ge,X),Al(Oe),this},m.__private__.circle=m.circle=function(I,X,ge,Ie){if(isNaN(I)||isNaN(X)||isNaN(ge)||!Fr(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,X,ge,ge,Ie)},m.setFont=function(I,X,ge){return ge&&(X=F(X,ge)),Lt=to(I,X,{disableWarning:!1}),this};var Ni=m.__private__.getFont=m.getFont=function(){return Ft[to.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var I,X,ge={};for(I in fr)if(fr.hasOwnProperty(I))for(X in ge[I]=[],fr[I])fr[I].hasOwnProperty(X)&&ge[I].push(X);return ge},m.addFont=function(I,X,ge,Ie,Oe){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(ge=F(ge,Ie)),Ur.call(this,I,X,ge,Oe=Oe||"Identity-H")};var rs,Fs=r.lineWidth||.200025,or=m.__private__.getLineWidth=m.getLineWidth=function(){return Fs},Js=m.__private__.setLineWidth=m.setLineWidth=function(I){return Fs=I,G(A(B(I))+" w"),this};m.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(I,X){if(I=I||[],X=X||0,isNaN(X)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ge){return A(B(ge))}).join(" "),X=A(B(X)),G("["+I+"] "+X+" d"),this};var Va=m.__private__.getLineHeight=m.getLineHeight=function(){return tt*rs};m.__private__.getLineHeight=m.getLineHeight=function(){return tt*rs};var xf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(rs=I),this},Jc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return rs};xf(r.lineHeight);var Xn=m.__private__.getHorizontalCoordinate=function(I){return B(I)},io=m.__private__.getVerticalCoordinate=function(I){return q===D?I:ir[U].mediaBox.topRightY-ir[U].mediaBox.bottomLeftY-B(I)},Zc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(I){return A(Xn(I))},so=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(I){return A(io(I))},ja=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return _e(ja)},m.__private__.setStrokeColor=m.setDrawColor=function(I,X,ge,Ie){return ja=we({ch1:I,ch2:X,ch3:ge,ch4:Ie,pdfColorType:"draw",precision:2}),G(ja),this};var Il=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return _e(Il)},m.__private__.setFillColor=m.setFillColor=function(I,X,ge,Ie){return Il=we({ch1:I,ch2:X,ch3:ge,ch4:Ie,pdfColorType:"fill",precision:2}),G(Il),this};var ns=r.textColor||"0 g",gs=m.__private__.getTextColor=m.getTextColor=function(){return _e(ns)};m.__private__.setTextColor=m.setTextColor=function(I,X,ge,Ie){return ns=we({ch1:I,ch2:X,ch3:ge,ch4:Ie,pdfColorType:"text",precision:3}),this};var Zs=r.charSpace,Io=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Zs||0)};m.__private__.setCharSpace=m.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zs=I,this};var mn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(I){var X=m.CapJoinStyles[I];if(X===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mn=X,G(X+" J"),this};var cc=0;m.__private__.setLineJoin=m.setLineJoin=function(I){var X=m.CapJoinStyles[I];if(X===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cc=X,G(X+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(A(B(I))+" M"),this},m.GState=Yg,m.setGState=function(I){(I=typeof I=="string"?lr[hn[I]]:ao(null,I)).equals(Xr)||(G("/"+I.id+" gs"),Xr=I)};var ao=function(I,X){if(!I||!hn[I]){var ge=!1;for(var Ie in lr)if(lr.hasOwnProperty(Ie)&&lr[Ie].equals(X)){ge=!0;break}if(ge)X=lr[Ie];else{var Oe="GS"+(Object.keys(lr).length+1).toString(10);lr[Oe]=X,X.id=Oe}return I&&(hn[I]=X.id),kr.publish("addGState",X),X}};m.addGState=function(I,X){return ao(I,X),this},m.saveGraphicsState=function(){return G("q"),Wr.push({key:Lt,size:tt,color:ns}),this},m.restoreGraphicsState=function(){G("Q");var I=Wr.pop();return Lt=I.key,tt=I.size,ns=I.color,Xr=null,this},m.setCurrentTransformationMatrix=function(I){return G(I.toString()+" cm"),this},m.comment=function(I){return G("#"+I),this};var Ia=function(I,X){var ge=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(ot){isNaN(ot)||(ge=parseFloat(ot))}});var Ie=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ot){isNaN(ot)||(Ie=parseFloat(ot))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(ot){Oe=ot.toString()}}),this},Co=function(I,X,ge,Ie){Ia.call(this,I,X),this.type="rect";var Oe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(ft){isNaN(ft)||(Oe=parseFloat(ft))}});var ot=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(ft){isNaN(ft)||(ot=parseFloat(ft))}}),this},No=function(){this.page=Nr,this.currentPage=U,this.pages=Me.slice(0),this.pagesContext=ir.slice(0),this.x=Tt,this.y=tr,this.matrix=Yt,this.width=zi(U),this.height=qi(U),this.outputDestination=at,this.id="",this.objectNumber=-1};No.prototype.restore=function(){Nr=this.page,U=this.currentPage,ir=this.pagesContext,Me=this.pages,Tt=this.x,tr=this.y,Yt=this.matrix,Jo(U,this.width),Pi(U,this.height),at=this.outputDestination};var is=function(I,X,ge,Ie,Oe){vi.push(new No),Nr=U=0,Me=[],Tt=I,tr=X,Yt=Oe,Gr([ge,Ie])};for(var Ua in m.beginFormObject=function(I,X,ge,Ie,Oe){return is(I,X,ge,Ie,Oe),this},m.endFormObject=function(I){return(function(X){if(Rs[X])vi.pop().restore();else{var ge=new No,Ie="Xo"+(Object.keys(On).length+1).toString(10);ge.id=Ie,Rs[X]=Ie,On[Ie]=ge,kr.publish("addFormObject",ge),vi.pop().restore()}})(I),this},m.doFormObject=function(I,X){var ge=On[Rs[I]];return G("q"),G(X.toString()+" cm"),G("/"+ge.id+" Do"),G("Q"),this},m.getFormObject=function(I){var X=On[Rs[I]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},m.save=function(I,X){return I=I||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Uf(Qs(Ys()),I),typeof Uf.unload=="function"&&yr.setTimeout&&setTimeout(Uf.unload,911),this):new Promise(function(ge,Ie){try{var Oe=Uf(Qs(Ys()),I);typeof Uf.unload=="function"&&yr.setTimeout&&setTimeout(Uf.unload,911),ge(Oe)}catch(ot){Ie(ot.message)}})},sr.API)sr.API.hasOwnProperty(Ua)&&(Ua==="events"&&sr.API.events.length?(function(I,X){var ge,Ie,Oe;for(Oe=X.length-1;Oe!==-1;Oe--)ge=X[Oe][0],Ie=X[Oe][1],I.subscribe.apply(I,[ge].concat(typeof Ie=="function"?[Ie]:Ie))})(kr,sr.API.events):m[Ua]=sr.API[Ua]);var zi=m.getPageWidth=function(I){return(ir[I=I||U].mediaBox.topRightX-ir[I].mediaBox.bottomLeftX)/yt},Jo=m.setPageWidth=function(I,X){ir[I].mediaBox.topRightX=X*yt+ir[I].mediaBox.bottomLeftX},qi=m.getPageHeight=function(I){return(ir[I=I||U].mediaBox.topRightY-ir[I].mediaBox.bottomLeftY)/yt},Pi=m.setPageHeight=function(I,X){ir[I].mediaBox.topRightY=X*yt+ir[I].mediaBox.bottomLeftY};return m.internal={pdfEscape:Er,getStyle:ro,getFont:Ni,getFontSize:ut,getCharSpace:Io,getTextColor:gs,getLineHeight:Va,getLineHeightFactor:Jc,getLineWidth:or,write:Fe,getHorizontalCoordinate:Xn,getVerticalCoordinate:io,getCoordinateString:Zc,getVerticalCoordinateString:so,collections:{},newObject:cn,newAdditionalObject:ye,newObjectDeferred:Rn,newObjectDeferredBegin:J,getFilters:je,putStream:Qe,events:kr,scaleFactor:yt,pageSize:{getWidth:function(){return zi(U)},setWidth:function(I){Jo(U,I)},getHeight:function(){return qi(U)},setHeight:function(I){Pi(U,I)}},encryptionOptions:h,encryption:dn,getEncryptor:function(I){return h!==null?dn.encryptor(I,0):function(X){return X}},output:Zi,getNumberOfPages:Mn,pages:Me,out:G,f2:C,f3:N,getPageInfo:es,getPageInfoByObjId:Qo,getCurrentPageInfo:So,getPDFVersion:w,Point:Ia,Rectangle:Co,Matrix:nr,hasHotfix:Yo},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return zi(U)},set:function(I){Jo(U,I)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return qi(U)},set:function(I){Pi(U,I)},enumerable:!0,configurable:!0}),(function(I){for(var X=0,ge=nt.length;X<ge;X++){var Ie=Ur.call(this,I[X][0],I[X][1],I[X][2],nt[X][3],!0);p===!1&&(x[Ie]=!0);var Oe=I[X][0].split("-");cr({id:Ie,fontName:Oe[0],fontStyle:Oe[1]||""})}kr.publish("addFonts",{fonts:Ft,dictionary:fr})}).call(m,nt),Lt="F1",Ks(i,t),kr.publish("initialized"),m}md.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},md.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},md.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},md.prototype.processOwnerPassword=function(r,e){return by(Ty(e).substr(0,5),r)},md.prototype.encryptor=function(r,e){var t=Ty(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return by(t,n)}},Yg.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Tn(r)!==Tn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},sr.API={events:[]},sr.version="3.0.2";var bi=sr.API,Cw=1,Ph=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},od=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ar=function(r){return r.toFixed(2)},ku=function(r){return r.toFixed(5)};bi.__acroform__={};var eo=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},q4=function(r){return r*Cw},ql=function(r){var e=new KN,t=Kt.internal.getHeight(r)||0,n=Kt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ar(n)),Number(Ar(t))],e},wY=bi.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},EY=bi.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},TY=bi.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Mi=bi.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TY(r,e-1)},Bi=bi.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wY(r,e-1)},Vi=bi.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EY(r,e-1)},bY=bi.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=n(s)||0,[Number(Ar(c.lowerLeft_X)),Number(Ar(c.lowerLeft_Y)),Number(Ar(c.upperRight_X)),Number(Ar(c.upperRight_Y))]},AY=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Ay(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Ar(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ql(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Ay=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=t,a=Kt.internal.getHeight(r)||0;a=a<0?-a:a;var o=Kt.internal.getWidth(r)||0;o=o<0?-o:o;var c=function(C,N,B){if(C+1<i.length){var ce=N+" "+i[C+1][0];return Hm(ce,r,B).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var f,h,p=Hm("3",r,s).height,x=r.multiline?a-s:(a-p)/2,m=x+=2,E=0,w=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Hm(e,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var P="",j=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var q=!1;if(i[D].length!==1&&T!==i[D].length-1){if((p+2)*(j+2)+2>a)continue e;P+=i[D][T],q=!0,w=D,D--}else{P=(P+=i[D][T]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var se=parseInt(D),Q=c(se,P,s),F=D>=i.length-1;if(Q&&!F){P+=" ",T=0;continue}if(Q||F){if(F)w=se;else if(r.multiline&&(p+2)*(j+2)+2>a)continue e}else{if(!r.multiline||(p+2)*(j+2)+2>a)continue e;w=se}}for(var A="",b=E;b<=w;b++){var M=i[b];if(r.multiline){if(b===w){A+=M[T]+" ",T=(T+1)%M.length;continue}if(b===E){A+=M[M.length-1]+" ";continue}}A+=M[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,h=Hm(A,r,s).width,r.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}e+=Ar(f)+" "+Ar(m)+` Td
`,e+="("+Ph(A)+`) Tj
`,e+=-Ar(f)+` 0 Td
`,m=-(s+2),h=0,E=q?w:w+1,j++,P=""}break}return n.text=e,n.fontSize=s,n},Hm=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},SY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kY=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},IY=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Tl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(SY)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Cw=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new XN,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&kY(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],f=o.Rect;if(o.Rect&&(o.Rect=bY(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Kt.createDefaultAppearanceStream(o),Tn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=AY(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var m=o.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var E=m[a];typeof E=="function"&&(E=E.call(i,o)),p+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=m)=="function"&&(E=E.call(i,o)),p+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(w,T){for(var P in w)if(w.hasOwnProperty(P)){var j=P,D=w[P];T.internal.newObjectDeferredBegin(D.objId,!0),Tn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete w[j]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},$N=bi.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Tn(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+Ph(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gx=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Ph(n(r))+")"},Kl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Kl.prototype.toString=function(){return this.objId+" 0 R"},Kl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Kl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:$N(i,this.objId,this.scope)}):i instanceof Kl?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var KN=function(){Kl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};eo(KN,Kl);var XN=function(){Kl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ph(t(r))+")"}},set:function(t){r=t}})};eo(XN,Kl);var Tl=function r(){Kl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mi(e,3)},set:function(P){P?this.F=Bi(e,3):this.F=Vi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(P){n=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(P){n[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(P){n[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(P){n[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(P){n[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Qg)return;s="FieldObject"+r.FieldNum++}var P=function(j){return j};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Ph(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(P){a=P}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(P){o=P}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Cw:f},set:function(P){f=P}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(P){h=P}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Qg||this instanceof th))return gx(p,this.objId,this.scope)},set:function(P){P=P.toString(),p=P}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Is==0?gx(x,this.objId,this.scope):x},set:function(P){P=P.toString(),x=this instanceof Is==0?P.substr(0,1)==="("?od(P.substr(1,P.length-2)):od(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is==1?od(x.substr(1,x.length-1)):x},set:function(P){P=P.toString(),x=this instanceof Is==1?"/"+P:P}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Is==0?gx(m,this.objId,this.scope):m},set:function(P){P=P.toString(),m=this instanceof Is==0?P.substr(0,1)==="("?od(P.substr(1,P.length-2)):od(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is==1?od(m.substr(1,m.length-1)):m},set:function(P){P=P.toString(),m=this instanceof Is==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(P){P=!!P,w=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(P){E=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,1)},set:function(P){P?this.Ff=Bi(this.Ff,1):this.Ff=Vi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,2)},set:function(P){P?this.Ff=Bi(this.Ff,2):this.Ff=Vi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,3)},set:function(P){P?this.Ff=Bi(this.Ff,3):this.Ff=Vi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');T=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(T){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};eo(Tl,Kl);var Cd=function(){Tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $N(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(s,a,o){o||(o=1);for(var c,f=[];c=a.exec(s);)f.push(c[o]);return f})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,18)},set:function(t){t?this.Ff=Bi(this.Ff,18):this.Ff=Vi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Bi(this.Ff,19):this.Ff=Vi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,20)},set:function(t){t?(this.Ff=Bi(this.Ff,20),e.sort()):this.Ff=Vi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,22)},set:function(t){t?this.Ff=Bi(this.Ff,22):this.Ff=Vi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(t){t?this.Ff=Bi(this.Ff,23):this.Ff=Vi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,27)},set:function(t){t?this.Ff=Bi(this.Ff,27):this.Ff=Vi(this.Ff,27)}}),this.hasAppearanceStream=!1};eo(Cd,Tl);var Nd=function(){Cd.call(this),this.fontName="helvetica",this.combo=!1};eo(Nd,Cd);var Pd=function(){Nd.call(this),this.combo=!0};eo(Pd,Nd);var fg=function(){Pd.call(this),this.edit=!0};eo(fg,Pd);var Is=function(){Tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,15)},set:function(t){t?this.Ff=Bi(this.Ff,15):this.Ff=Vi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,16)},set:function(t){t?this.Ff=Bi(this.Ff,16):this.Ff=Vi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,17)},set:function(t){t?this.Ff=Bi(this.Ff,17):this.Ff=Vi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(t){t?this.Ff=Bi(this.Ff,26):this.Ff=Vi(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Ph(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Tn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};eo(Is,Tl);var hg=function(){Is.call(this),this.pushButton=!0};eo(hg,Is);var Rd=function(){Is.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};eo(Rd,Is);var Qg=function(){var r,e;Tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Ph(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Tn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};eo(Qg,Tl),Rd.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Rd.prototype.createOption=function(r){var e=new Qg;return e.Parent=this,e.optionName=r,this.Kids.push(e),CY.call(this.scope,e),e};var dg=function(){Is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};eo(dg,Is);var th=function(){Tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,13)},set:function(e){e?this.Ff=Bi(this.Ff,13):this.Ff=Vi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,21)},set:function(e){e?this.Ff=Bi(this.Ff,21):this.Ff=Vi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(e){e?this.Ff=Bi(this.Ff,23):this.Ff=Vi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,24)},set:function(e){e?this.Ff=Bi(this.Ff,24):this.Ff=Vi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,25)},set:function(e){e?this.Ff=Bi(this.Ff,25):this.Ff=Vi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(e){e?this.Ff=Bi(this.Ff,26):this.Ff=Vi(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};eo(th,Tl);var pg=function(){th.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,14)},set:function(r){r?this.Ff=Bi(this.Ff,14):this.Ff=Vi(this.Ff,14)}}),this.password=!0};eo(pg,th);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ql(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=Ay(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ar(Kt.internal.getWidth(r))+" "+Ar(Kt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ar(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ql(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=Kt.internal.getHeight(r),a=Kt.internal.getWidth(r),o=Ay(r,r.caption);return i.push("1 g"),i.push("0 0 "+Ar(a)+" "+Ar(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ar(a-1)+" "+Ar(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Ar(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=ql(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ar(Kt.internal.getWidth(r))+" "+Ar(Kt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Kt.RadioButton.Circle.YesNormal,e.D[r]=Kt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ql(r);e.scope=r.scope;var t=[],n=Kt.internal.getWidth(r)<=Kt.internal.getHeight(r)?Kt.internal.getWidth(r)/4:Kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Kt.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ku(Kt.internal.getWidth(r)/2)+" "+ku(Kt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ql(r);e.scope=r.scope;var t=[],n=Kt.internal.getWidth(r)<=Kt.internal.getHeight(r)?Kt.internal.getWidth(r)/4:Kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Kt.internal.Bezier_C).toFixed(5)),a=Number((n*Kt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ku(Kt.internal.getWidth(r)/2)+" "+ku(Kt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ku(Kt.internal.getWidth(r)/2)+" "+ku(Kt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ql(r);e.scope=r.scope;var t=[],n=Kt.internal.getWidth(r)<=Kt.internal.getHeight(r)?Kt.internal.getWidth(r)/4:Kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Kt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ku(Kt.internal.getWidth(r)/2)+" "+ku(Kt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Kt.RadioButton.Cross.YesNormal,e.D[r]=Kt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ql(r);e.scope=r.scope;var t=[],n=Kt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ar(Kt.internal.getWidth(r)-2)+" "+Ar(Kt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ar(n.x1.x)+" "+Ar(n.x1.y)+" m"),t.push(Ar(n.x2.x)+" "+Ar(n.x2.y)+" l"),t.push(Ar(n.x4.x)+" "+Ar(n.x4.y)+" m"),t.push(Ar(n.x3.x)+" "+Ar(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ql(r);e.scope=r.scope;var t=Kt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ar(Kt.internal.getWidth(r))+" "+Ar(Kt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ar(Kt.internal.getWidth(r)-2)+" "+Ar(Kt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ar(t.x1.x)+" "+Ar(t.x1.y)+" m"),n.push(Ar(t.x2.x)+" "+Ar(t.x2.y)+" l"),n.push(Ar(t.x4.x)+" "+Ar(t.x4.y)+" m"),n.push(Ar(t.x3.x)+" "+Ar(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=ql(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ar(Kt.internal.getWidth(r))+" "+Ar(Kt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Kt.internal.getWidth(r),t=Kt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Kt.internal.getWidth=function(r){var e=0;return Tn(r)==="object"&&(e=q4(r.Rect[2])),e},Kt.internal.getHeight=function(r){var e=0;return Tn(r)==="object"&&(e=q4(r.Rect[3])),e};var CY=bi.addField=function(r){if(IY(this,r),!(r instanceof Tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};bi.AcroFormChoiceField=Cd,bi.AcroFormListBox=Nd,bi.AcroFormComboBox=Pd,bi.AcroFormEditBox=fg,bi.AcroFormButton=Is,bi.AcroFormPushButton=hg,bi.AcroFormRadioButton=Rd,bi.AcroFormCheckBox=dg,bi.AcroFormTextField=th,bi.AcroFormPasswordField=pg,bi.AcroFormAppearance=Kt,bi.AcroForm={ChoiceField:Cd,ListBox:Nd,ComboBox:Pd,EditBox:fg,Button:Is,PushButton:hg,RadioButton:Rd,CheckBox:dg,TextField:th,PasswordField:pg,Appearance:Kt},sr.AcroForm={ChoiceField:Cd,ListBox:Nd,ComboBox:Pd,EditBox:fg,Button:Is,PushButton:hg,RadioButton:Rd,CheckBox:dg,TextField:th,PasswordField:pg,Appearance:Kt};sr.AcroForm;function YN(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(C,N){var B,ce,be,ke,Te,de=t;if((N=N||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(Q(C))for(Te in n)for(be=n[Te],B=0;B<be.length;B+=1){for(ke=!0,ce=0;ce<be[B].length;ce+=1)if(be[B][ce]!==void 0&&be[B][ce]!==C[ce]){ke=!1;break}if(ke===!0){de=Te;break}}else for(Te in n)for(be=n[Te],B=0;B<be.length;B+=1){for(ke=!0,ce=0;ce<be[B].length;ce+=1)if(be[B][ce]!==void 0&&be[B][ce]!==C.charCodeAt(ce)){ke=!1;break}if(ke===!0){de=Te;break}}return de===t&&N!==t&&(de=N),de},s=function C(N){for(var B=this.internal.write,ce=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ke=[];if(ke.push({key:"Type",value:"/XObject"}),ke.push({key:"Subtype",value:"/Image"}),ke.push({key:"Width",value:N.width}),ke.push({key:"Height",value:N.height}),N.colorSpace===P.INDEXED?ke.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ke.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===P.DEVICE_CMYK&&ke.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ke.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ke.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var Te="",de=0,te=N.transparency.length;de<te;de++)Te+=N.transparency[de]+" "+N.transparency[de]+" ";ke.push({key:"Mask",value:"["+Te+"]"})}N.sMask!==void 0&&ke.push({key:"SMask",value:N.objectId+1+" 0 R"});var Ce=N.filter!==void 0?["/"+N.filter]:void 0;if(ce({data:N.data,additionalKeyValues:ke,alreadyAppliedFilters:Ce,objectId:N.objectId}),B("endobj"),"sMask"in N&&N.sMask!==void 0){var re=(N.predictor!=null?"/Predictor "+N.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+N.width,S={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:re,data:N.sMask};"filter"in N&&(S.filter=N.filter),C.call(this,S)}if(N.colorSpace===P.INDEXED){var U=this.internal.newObject();ce({data:A(new Uint8Array(N.palette)),objectId:U}),B("endobj")}},a=function(){var C=this.internal.collections[e+"images"];for(var N in C)s.call(this,C[N])},o=function(){var C,N=this.internal.collections[e+"images"],B=this.internal.write;for(var ce in N)B("/I"+(C=N[ce]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(C){return typeof r["process"+C.toUpperCase()]=="function"},x=function(C){return Tn(C)==="object"&&C.nodeType===1},m=function(C,N){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var B=""+C.getAttribute("src");if(B.indexOf("data:image/")===0)return ug(unescape(B).split("base64,").pop());var ce=r.loadFile(B,!0);if(ce!==void 0)return ce}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var be;switch(N){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return ug(C.toDataURL(be,1).split("base64,").pop())}},E=function(C){var N=this.internal.collections[e+"images"];if(N){for(var B in N)if(C===N[B].alias)return N[B]}},w=function(C,N,B){return C||N||(C=-96,N=-96),C<0&&(C=-1*B.width*72/C/this.internal.scaleFactor),N<0&&(N=-1*B.height*72/N/this.internal.scaleFactor),C===0&&(C=N*B.width/B.height),N===0&&(N=C*B.height/B.width),[C,N]},T=function(C,N,B,ce,be,ke){var Te=w.call(this,B,ce,be),de=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,Ce=f.call(this);if(B=Te[0],ce=Te[1],Ce[be.index]=be,ke){ke*=Math.PI/180;var re=Math.cos(ke),S=Math.sin(ke),U=function(K){return K.toFixed(4)},W=[U(re),U(S),U(-1*S),U(re),0,0,"cm"]}this.internal.write("q"),ke?(this.internal.write([1,"0","0",1,de(C),te(N+ce),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([de(B),"0","0",de(ce),"0","0","cm"].join(" "))):this.internal.write([de(B),"0","0",de(ce),de(C),te(N+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},P=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(C){var N,B,ce=0;if(typeof C=="string")for(B=C.length,N=0;N<B;N++)ce=(ce<<5)-ce+C.charCodeAt(N),ce|=0;else if(Q(C))for(B=C.byteLength/2,N=0;N<B;N++)ce=(ce<<5)-ce+C[N],ce|=0;return ce},q=r.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var N=!0;return C.length===0&&(N=!1),C.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(N=!1),N},se=r.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var N=C.indexOf(",");return N<0?null:C.substring(0,N).trim().endsWith("base64")?C.substring(N+1):null};r.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var Q=r.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},F=r.__addimage__.binaryStringToUint8Array=function(C){for(var N=C.length,B=new Uint8Array(N),ce=0;ce<N;ce++)B[ce]=C.charCodeAt(ce);return B},A=r.__addimage__.arrayBufferToBinaryString=function(C){for(var N="",B=Q(C)?C:new Uint8Array(C),ce=0;ce<B.length;ce+=8192)N+=String.fromCharCode.apply(null,B.subarray(ce,ce+8192));return N};r.addImage=function(){var C,N,B,ce,be,ke,Te,de,te;if(typeof arguments[1]=="number"?(N=t,B=arguments[1],ce=arguments[2],be=arguments[3],ke=arguments[4],Te=arguments[5],de=arguments[6],te=arguments[7]):(N=arguments[1],B=arguments[2],ce=arguments[3],be=arguments[4],ke=arguments[5],Te=arguments[6],de=arguments[7],te=arguments[8]),Tn(C=arguments[0])==="object"&&!x(C)&&"imageData"in C){var Ce=C;C=Ce.imageData,N=Ce.format||N||t,B=Ce.x||B||0,ce=Ce.y||ce||0,be=Ce.w||Ce.width||be,ke=Ce.h||Ce.height||ke,Te=Ce.alias||Te,de=Ce.compression||de,te=Ce.rotation||Ce.angle||te}var re=this.internal.getFilters();if(de===void 0&&re.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(B)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var S=b.call(this,C,N,Te,de);return T.call(this,B,ce,be,ke,S,te),this};var b=function(C,N,B,ce){var be,ke,Te;if(typeof C=="string"&&i(C)===t){C=unescape(C);var de=M(C,!1);(de!==""||(de=r.loadFile(C,!0))!==void 0)&&(C=de)}if(x(C)&&(C=m(C,N)),N=i(C,N),!p(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((Te=B)==null||Te.length===0)&&(B=(function(te){return typeof te=="string"||Q(te)?D(te):Q(te.data)?D(te.data):null})(C)),(be=E.call(this,B))||(C instanceof Uint8Array||N==="RGBA"||(ke=C,C=F(C)),be=this["process"+N.toUpperCase()](C,h.call(this),B,(function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in r.image_compression?te:j.NONE})(ce),ke)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},M=r.__addimage__.convertBase64ToBinaryString=function(C,N){N=typeof N!="boolean"||N;var B,ce="";if(typeof C=="string"){var be;B=(be=se(C))!==null&&be!==void 0?be:C;try{ce=ug(B)}catch(ke){if(N)throw q(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ke.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};r.getImageProperties=function(C){var N,B,ce="";if(x(C)&&(C=m(C)),typeof C=="string"&&i(C)===t&&((ce=M(C,!1))===""&&(ce=r.loadFile(C)||""),C=ce),B=i(C),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(C instanceof Uint8Array||(C=F(C)),!(N=this["process"+B.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=B,N}})(sr.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};sr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((n=f[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){n=f[x];var m=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(w.objId),j=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(P(n.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(P(j))+") >>",w.content=s;var D=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+D,n.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(w.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var q=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(E(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var se=this.annotations._nameMap[n.options.name];n.options.pageNumber=se.page,n.options.top=se.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var Q=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:f(n),w:c(t+i),h:f(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(t,o).length;a=Math.ceil(f*h)}else o=c,a=f;return this.text(t,n,i,s),i+=.2*f,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-f,o,a,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(sr.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=r.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&i.indexOf(w.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var f=r.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var h=r.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},p=r.__arabicParser__.resolveLigatures=function(w){var T=0,P=t,j="",D=0;for(T=0;T<w.length;T+=1)P[w.charCodeAt(T)]!==void 0?(D++,typeof(P=P[w.charCodeAt(T)])=="number"&&(j+=String.fromCharCode(P),P=t,D=0),T===w.length-1&&(P=t,j+=w.charAt(T-(D-1)),T-=D-1,D=0)):(P=t,j+=w.charAt(T-D),T-=D,D=0);return j};r.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var x=r.__arabicParser__.getCorrectForm=function(w,T,P){return a(w)?s(w)===!1?-1:!f(w)||!a(T)&&!a(P)||!a(P)&&o(T)||o(w)&&!a(T)||o(w)&&c(T)||o(w)&&o(T)?0:h(w)&&a(T)&&!o(T)&&a(P)&&f(P)?3:o(w)||!a(P)?1:2:-1},m=function(w){var T=0,P=0,j=0,D="",q="",se="",Q=(w=w||"").split("\\s+"),F=[];for(T=0;T<Q.length;T+=1){for(F.push(""),P=0;P<Q[T].length;P+=1)D=Q[T][P],q=Q[T][P-1],se=Q[T][P+1],a(D)?(j=x(D,q,se),F[T]+=j!==-1?String.fromCharCode(e[D.charCodeAt(0)][j]):D):F[T]+=D;F[T]=p(F[T])}return F.join(" ")},E=r.__arabicParser__.processArabic=r.processArabic=function(){var w,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(T)){var j=0;for(P=[],j=0;j<T.length;j+=1)Array.isArray(T[j])?P.push([m(T[j][0]),T[j][1],T[j][2]]):P.push([m(T[j])]);w=P}else w=m(T);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};r.events.push(["preProcessText",E])})(sr.API),sr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(sr.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(w){x=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(w){E=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,m=0,E=0,w=0,T=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var P=f.maxWidth;P>0?typeof c=="string"?c=this.splitTextToSize(c,P):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(D,q){return D.concat(T.splitTextToSize(q,P))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)m<(w=this.getStringUnitWidth(c[j],{font:p})*h)&&(m=w);return m!==0&&(E=c.length),{w:m/=x,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};r.table=function(c,f,h,p,x){if(n.call(this),!h)throw new Error("No data for PDF table.");var m,E,w,T,P=[],j=[],D=[],q={},se={},Q=[],F=[],A=(x=x||{}).autoSize||!1,b=x.printHeaders!==!1,M=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,C=x.margins||Object.assign({width:this.getPageWidth()},e),N=typeof x.padding=="number"?x.padding:3,B=x.headerBackgroundColor||"#c8c8c8",ce=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=ce,this.setFontSize(M),p==null)j=P=Object.keys(h[0]),D=P.map(function(){return"left"});else if(Array.isArray(p)&&Tn(p[0])==="object")for(P=p.map(function(Ce){return Ce.name}),j=p.map(function(Ce){return Ce.prompt||Ce.name||""}),D=p.map(function(Ce){return Ce.align||"left"}),m=0;m<p.length;m+=1)se[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(j=P=p,D=P.map(function(){return"left"}));if(A||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<P.length;m+=1){for(q[T=P[m]]=h.map(function(Ce){return Ce[T]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(j[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=q[T],this.setFont(void 0,"normal"),w=0;w<E.length;w+=1)Q.push(this.getTextDimensions(E[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[T]=Math.max.apply(null,Q)+N+N,Q=[]}if(b){var be={};for(m=0;m<P.length;m+=1)be[P[m]]={},be[P[m]].text=j[m],be[P[m]].align=D[m];var ke=o.call(this,be,se);F=P.map(function(Ce){return new s(c,f,se[Ce],ke,be[Ce].text,void 0,be[Ce].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var Te=p.reduce(function(Ce,re){return Ce[re.name]=re.align,Ce},{});for(m=0;m<h.length;m+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:m,data:h[m]},this);var de=o.call(this,h[m],se);for(w=0;w<P.length;w+=1){var te=h[m][P[w]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:m,col:w,data:te},this),a.call(this,new s(c,f,se[P[w]],de,te,m+2,Te[P[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var o=function(c,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(m){var E=c[m];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/x+h+h},this).reduce(function(m,E){return Math.max(m,E)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(E)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(sr.API);var QN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},JN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sy=YN(JN),ZN=[100,200,300,400,500,600,700,800,900],NY=YN(ZN);function vx(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return QN[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),i=(function(s){return typeof Sy[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function H4(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var PY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},W4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function G4(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function $4(r){return r.trimLeft()}function RY(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function LY(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Wm,K4,X4,ld,Gm,Y4,Q4,J4,xx=["times"];function Z4(r,e,t,n){var i=4,s=tA;switch(n){case sr.API.image_compression.FAST:i=1,s=eA;break;case sr.API.image_compression.MEDIUM:i=6,s=rA;break;case sr.API.image_compression.SLOW:i=9,s=nA}r=(function(o,c,f,h){for(var p,x=o.length/c,m=new Uint8Array(o.length+x),E=[FY,eA,tA,rA,nA],w=0;w<x;w+=1){var T=w*c,P=o.subarray(T,T+c);if(h)m.set(h(P,f,p),T+w);else{for(var j=E.length,D=[],q=0;q<j;q+=1)D[q]=E[q](P,f,p);var se=OY(D.concat());m.set(D[se],T+w)}p=P}return m})(r,e,t,s);var a=yy(r,{level:i});return sr.API.__addimage__.arrayBufferToBinaryString(a)}function FY(r){var e=Array.apply([],r);return e.unshift(0),e}function eA(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function tA(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function rA(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,o=t&&t[s]||0;i[s+1]=r[s]+256-(a+o>>>1)&255}return i}function nA(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=DY(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function DY(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function OY(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function yx(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return eP(r,i)>>s&a}function iA(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,c=(e&o)<<a;(function(f,h,p){if(h+1<f.byteLength)f.setUint16(h,p,!1);else{var x=p>>8&255;f.setUint8(h,x)}})(r,s,eP(r,s)&~(o<<a)&65535|c)}function eP(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function MY(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var f=!0,h=[],p=0,x=null,m=0,E=null;for(this.width=t,this.height=n;f&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,E=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((C=r[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=r[e++];p=r[e++]|r[e++]<<8,x=r[e++],1&w||(x=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((C=r[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,j=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,q=r[e++],se=q>>6&1,Q=1<<1+(7&q),F=o,A=c,b=!1;q>>7&&(b=!0,F=e,A=Q,e+=3*Q);var M=e;for(e++;;){var C;if(!((C=r[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}h.push({x:T,y:P,width:j,height:D,has_local_palette:b,palette_offset:F,palette_size:A,data_offset:M,data_length:e-M,transparent_index:x,interlaced:!!se,delay:p,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(N){if(N<0||N>=h.length)throw new Error("Frame index out of range.");return h[N]},this.decodeAndBlitFrameBGRA=function(N,B){var ce=this.frameInfo(N),be=ce.width*ce.height,ke=new Uint8Array(be);sA(r,ce.data_offset,ke,be);var Te=ce.palette_offset,de=ce.transparent_index;de===null&&(de=256);var te=ce.width,Ce=t-te,re=te,S=4*(ce.y*t+ce.x),U=4*((ce.y+ce.height)*t+ce.x),W=S,K=4*Ce;ce.interlaced===!0&&(K+=4*t*7);for(var ie=8,pe=0,Ee=ke.length;pe<Ee;++pe){var xe=ke[pe];if(re===0&&(re=te,(W+=K)>=U&&(K=4*Ce+4*t*(ie-1),W=S+(te+Ce)*(ie<<1),ie>>=1)),xe===de)W+=4;else{var Ae=r[Te+3*xe],Me=r[Te+3*xe+1],ae=r[Te+3*xe+2];B[W++]=ae,B[W++]=Me,B[W++]=Ae,B[W++]=255}--re}},this.decodeAndBlitFrameRGBA=function(N,B){var ce=this.frameInfo(N),be=ce.width*ce.height,ke=new Uint8Array(be);sA(r,ce.data_offset,ke,be);var Te=ce.palette_offset,de=ce.transparent_index;de===null&&(de=256);var te=ce.width,Ce=t-te,re=te,S=4*(ce.y*t+ce.x),U=4*((ce.y+ce.height)*t+ce.x),W=S,K=4*Ce;ce.interlaced===!0&&(K+=4*t*7);for(var ie=8,pe=0,Ee=ke.length;pe<Ee;++pe){var xe=ke[pe];if(re===0&&(re=te,(W+=K)>=U&&(K=4*Ce+4*t*(ie-1),W=S+(te+Ce)*(ie<<1),ie>>=1)),xe===de)W+=4;else{var Ae=r[Te+3*xe],Me=r[Te+3*xe+1],ae=r[Te+3*xe+2];B[W++]=Ae,B[W++]=Me,B[W++]=ae,B[W++]=255}--re}}}function sA(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,c=i+1,f=(1<<c)-1,h=0,p=0,x=0,m=r[e++],E=new Int32Array(4096),w=null;;){for(;h<16&&m!==0;)p|=r[e++]<<h,h+=8,m===1?m=r[e++]:--m;if(h<c)break;var T=p&f;if(p>>=c,h-=c,T!==s){if(T===a)break;for(var P=T<o?T:w,j=0,D=P;D>s;)D=E[D]>>8,++j;var q=D;if(x+j+(P!==T?1:0)>n)return void Dn.log("Warning, gif stream longer than expected.");t[x++]=q;var se=x+=j;for(P!==T&&(t[x++]=q),D=P;j--;)D=E[D],t[--se]=255&D,D>>=8;w!==null&&o<4096&&(E[o++]=w<<8|q,o>=f+1&&c<12&&(++c,f=f<<1|1)),w=T}else o=a+1,f=(1<<(c=i+1))-1,w=null}return x!==n&&Dn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _x(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),x=new Array(65535),m=new Array(64),E=new Array(64),w=[],T=0,P=7,j=new Array(64),D=new Array(64),q=new Array(64),se=new Array(256),Q=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ke(S,U){for(var W=0,K=0,ie=new Array,pe=1;pe<=16;pe++){for(var Ee=1;Ee<=S[pe];Ee++)ie[U[K]]=[],ie[U[K]][0]=W,ie[U[K]][1]=pe,K++,W++;W*=2}return ie}function Te(S){for(var U=S[0],W=S[1]-1;W>=0;)U&1<<W&&(T|=1<<P),W--,--P<0&&(T==255?(de(255),de(0)):de(T),P=7,T=0)}function de(S){w.push(S)}function te(S){de(S>>8&255),de(255&S)}function Ce(S,U,W,K,ie){for(var pe,Ee=ie[0],xe=ie[240],Ae=(function(tt,_t){var ut,Wt,Rt,Bt,Ot,bt,Vt,Pt,Lt,yt,Tt=0;for(Lt=0;Lt<8;++Lt){ut=tt[Tt],Wt=tt[Tt+1],Rt=tt[Tt+2],Bt=tt[Tt+3],Ot=tt[Tt+4],bt=tt[Tt+5],Vt=tt[Tt+6];var tr=ut+(Pt=tt[Tt+7]),Yt=ut-Pt,Ft=Wt+Vt,fr=Wt-Vt,Wr=Rt+bt,rr=Rt-bt,wr=Bt+Ot,lr=Bt-Ot,hn=tr+wr,Xr=tr-wr,Nr=Ft+Wr,ir=Ft-Wr;tt[Tt]=hn+Nr,tt[Tt+4]=hn-Nr;var kr=.707106781*(ir+Xr);tt[Tt+2]=Xr+kr,tt[Tt+6]=Xr-kr;var ka=.382683433*((hn=lr+rr)-(ir=fr+Yt)),On=.5411961*hn+ka,Rs=1.306562965*ir+ka,vi=.707106781*(Nr=rr+fr),nr=Yt+vi,en=Yt-vi;tt[Tt+5]=en+On,tt[Tt+3]=en-On,tt[Tt+1]=nr+Rs,tt[Tt+7]=nr-Rs,Tt+=8}for(Tt=0,Lt=0;Lt<8;++Lt){ut=tt[Tt],Wt=tt[Tt+8],Rt=tt[Tt+16],Bt=tt[Tt+24],Ot=tt[Tt+32],bt=tt[Tt+40],Vt=tt[Tt+48];var ps=ut+(Pt=tt[Tt+56]),An=ut-Pt,xi=Wt+Vt,cn=Wt-Vt,Rn=Rt+bt,J=Rt-bt,ye=Bt+Ot,fe=Bt-Ot,he=ps+ye,_e=ps-ye,we=xi+Rn,je=xi-Rn;tt[Tt]=he+we,tt[Tt+32]=he-we;var Qe=.707106781*(je+_e);tt[Tt+16]=_e+Qe,tt[Tt+48]=_e-Qe;var qe=.382683433*((he=fe+J)-(je=cn+An)),He=.5411961*he+qe,Ke=1.306562965*je+qe,ht=.707106781*(we=J+cn),At=An+ht,Ct=An-ht;tt[Tt+40]=Ct+He,tt[Tt+24]=Ct-He,tt[Tt+8]=At+Ke,tt[Tt+56]=At-Ke,Tt++}for(Lt=0;Lt<64;++Lt)yt=tt[Lt]*_t[Lt],m[Lt]=yt>0?yt+.5|0:yt-.5|0;return m})(S,U),Me=0;Me<64;++Me)E[F[Me]]=Ae[Me];var ae=E[0]-W;W=E[0],ae==0?Te(K[0]):(Te(K[x[pe=32767+ae]]),Te(p[pe]));for(var at=63;at>0&&E[at]==0;)at--;if(at==0)return Te(Ee),W;for(var Re,G=1;G<=at;){for(var Fe=G;E[G]==0&&G<=at;)++G;var $e=G-Fe;if($e>=16){Re=$e>>4;for(var nt=1;nt<=Re;++nt)Te(xe);$e&=15}pe=32767+E[G],Te(ie[($e<<4)+x[pe]]),Te(p[pe]),G++}return at!=63&&Te(Ee),W}function re(S){S=Math.min(Math.max(S,1),100),s!=S&&((function(U){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ie=a((W[K]*U+50)/100);ie=Math.min(Math.max(ie,1),255),o[F[K]]=ie}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var xe=a((pe[Ee]*U+50)/100);xe=Math.min(Math.max(xe,1),255),c[F[Ee]]=xe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,ae=0;ae<8;ae++)for(var at=0;at<8;at++)f[Me]=1/(o[F[Me]]*Ae[ae]*Ae[at]*8),h[Me]=1/(c[F[Me]]*Ae[ae]*Ae[at]*8),Me++})(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),s=S)}this.encode=function(S,U){U&&re(U),w=new Array,T=0,P=7,te(65496),te(65504),te(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),te(1),te(1),de(0),de(0),(function(){te(65499),te(132),de(0);for(var Wt=0;Wt<64;Wt++)de(o[Wt]);de(1);for(var Rt=0;Rt<64;Rt++)de(c[Rt])})(),(function(Wt,Rt){te(65472),te(17),de(8),te(Rt),te(Wt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(S.width,S.height),(function(){te(65476),te(418),de(0);for(var Wt=0;Wt<16;Wt++)de(A[Wt+1]);for(var Rt=0;Rt<=11;Rt++)de(b[Rt]);de(16);for(var Bt=0;Bt<16;Bt++)de(M[Bt+1]);for(var Ot=0;Ot<=161;Ot++)de(C[Ot]);de(1);for(var bt=0;bt<16;bt++)de(N[bt+1]);for(var Vt=0;Vt<=11;Vt++)de(B[Vt]);de(17);for(var Pt=0;Pt<16;Pt++)de(ce[Pt+1]);for(var Lt=0;Lt<=161;Lt++)de(be[Lt])})(),te(65498),te(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var W=0,K=0,ie=0;T=0,P=7,this.encode.displayName="_encode_";for(var pe,Ee,xe,Ae,Me,ae,at,Re,G,Fe=S.data,$e=S.width,nt=S.height,tt=4*$e,_t=0;_t<nt;){for(pe=0;pe<tt;){for(Me=tt*_t+pe,at=-1,Re=0,G=0;G<64;G++)ae=Me+(Re=G>>3)*tt+(at=4*(7&G)),_t+Re>=nt&&(ae-=tt*(_t+1+Re-nt)),pe+at>=tt&&(ae-=pe+at-tt+4),Ee=Fe[ae++],xe=Fe[ae++],Ae=Fe[ae++],j[G]=(Q[Ee]+Q[xe+256|0]+Q[Ae+512|0]>>16)-128,D[G]=(Q[Ee+768|0]+Q[xe+1024|0]+Q[Ae+1280|0]>>16)-128,q[G]=(Q[Ee+1280|0]+Q[xe+1536|0]+Q[Ae+1792|0]>>16)-128;W=Ce(j,f,W,e,n),K=Ce(D,h,K,t,i),ie=Ce(q,h,ie,t,i),pe+=32}_t+=8}if(P>=0){var ut=[];ut[1]=P+1,ut[0]=(1<<P+1)-1,Te(ut)}return te(65497),new Uint8Array(w)},r=r||50,(function(){for(var S=String.fromCharCode,U=0;U<256;U++)se[U]=S(U)})(),e=ke(A,b),t=ke(N,B),n=ke(M,C),i=ke(ce,be),(function(){for(var S=1,U=2,W=1;W<=15;W++){for(var K=S;K<U;K++)x[32767+K]=W,p[32767+K]=[],p[32767+K][1]=W,p[32767+K][0]=K;for(var ie=-(U-1);ie<=-S;ie++)x[32767+ie]=W,p[32767+ie]=[],p[32767+ie][1]=W,p[32767+ie][0]=U-1+ie;S<<=1,U<<=1}})(),(function(){for(var S=0;S<256;S++)Q[S]=19595*S,Q[S+256|0]=38470*S,Q[S+512|0]=7471*S+32768,Q[S+768|0]=-11059*S,Q[S+1024|0]=-21709*S,Q[S+1280|0]=32768*S+8421375,Q[S+1536|0]=-27439*S,Q[S+1792|0]=-5329*S})(),re(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function dl(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aA(r){function e(b){if(!b)throw Error("assert :P")}function t(b,M,C){for(var N=0;4>N;N++)if(b[M+N]!=C.charCodeAt(N))return!0;return!1}function n(b,M,C,N,B){for(var ce=0;ce<B;ce++)b[M+ce]=C[N+ce]}function i(b,M,C,N){for(var B=0;B<N;B++)b[M+B]=C}function s(b){return new Int32Array(b)}function a(b,M){for(var C=[],N=0;N<b;N++)C.push(new M);return C}function o(b,M){var C=[];return(function N(B,ce,be){for(var ke=be[ce],Te=0;Te<ke&&(B.push(be.length>ce+1?[]:new M),!(be.length<ce+1));Te++)N(B[Te],ce+1,be)})(C,0,b),C}var c=function(){var b=this;function M(g,_){for(var R=1<<_-1>>>0;g&R;)R>>>=1;return R?(g&R-1)+R:g}function C(g,_,R,V,Y){e(!(V%R));do g[_+(V-=R)]=Y;while(0<V)}function N(g,_,R,V,Y){if(e(2328>=Y),512>=Y)var ee=s(512);else if((ee=s(Y))==null)return 0;return(function(ne,oe,ue,me,Ne,ze){var ve,Le,Ve=oe,st=1<<ue,Ge=s(16),rt=s(16);for(e(Ne!=0),e(me!=null),e(ne!=null),e(0<ue),Le=0;Le<Ne;++Le){if(15<me[Le])return 0;++Ge[me[Le]]}if(Ge[0]==Ne)return 0;for(rt[1]=0,ve=1;15>ve;++ve){if(Ge[ve]>1<<ve)return 0;rt[ve+1]=rt[ve]+Ge[ve]}for(Le=0;Le<Ne;++Le)ve=me[Le],0<me[Le]&&(ze[rt[ve]++]=Le);if(rt[15]==1)return(me=new B).g=0,me.value=ze[0],C(ne,Ve,1,st,me),st;var it,lt=-1,ct=st-1,Jt=0,zt=1,Tr=1,Gt=1<<ue;for(Le=0,ve=1,Ne=2;ve<=ue;++ve,Ne<<=1){if(zt+=Tr<<=1,0>(Tr-=Ge[ve]))return 0;for(;0<Ge[ve];--Ge[ve])(me=new B).g=ve,me.value=ze[Le++],C(ne,Ve+Jt,Ne,Gt,me),Jt=M(Jt,ve)}for(ve=ue+1,Ne=2;15>=ve;++ve,Ne<<=1){if(zt+=Tr<<=1,0>(Tr-=Ge[ve]))return 0;for(;0<Ge[ve];--Ge[ve]){if(me=new B,(Jt&ct)!=lt){for(Ve+=Gt,it=1<<(lt=ve)-ue;15>lt&&!(0>=(it-=Ge[lt]));)++lt,it<<=1;st+=Gt=1<<(it=lt-ue),ne[oe+(lt=Jt&ct)].g=it+ue,ne[oe+lt].value=Ve-oe-lt}me.g=ve-ue,me.value=ze[Le++],C(ne,Ve+(Jt>>ue),Ne,Gt,me),Jt=M(Jt,ve)}}return zt!=2*rt[15]-1?0:st})(g,_,R,V,Y,ee)}function B(){this.value=this.g=0}function ce(){this.value=this.g=0}function be(){this.G=a(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Bs,ce)}function ke(g,_,R,V){e(g!=null),e(_!=null),e(2147483648>V),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=R,g.Jd=_,g.Yc=R+V,g.Zc=4<=V?R+V-4+1:R,Ee(g)}function Te(g,_){for(var R=0;0<_--;)R|=Ae(g,128)<<_;return R}function de(g,_){var R=Te(g,_);return xe(g)?-R:R}function te(g,_,R,V){var Y,ee=0;for(e(g!=null),e(_!=null),e(4294967288>V),g.Sb=V,g.Ra=0,g.u=0,g.h=0,4<V&&(V=4),Y=0;Y<V;++Y)ee+=_[R+Y]<<8*Y;g.Ra=ee,g.bb=V,g.oa=_,g.pa=R}function Ce(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Rl-8>>>0,++g.bb,g.u-=8;K(g)&&(g.h=1,g.u=0)}function re(g,_){if(e(0<=_),!g.h&&_<=yf){var R=W(g)&Pl[_];return g.u+=_,Ce(g),R}return g.h=1,g.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(g){return g.Ra>>>(g.u&Rl-1)>>>0}function K(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Rl}function ie(g,_){g.u=_,g.h=K(g)}function pe(g){g.u>=Qn&&(e(g.u>=Qn),Ce(g))}function Ee(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function xe(g){return Te(g,1)}function Ae(g,_){var R=g.Ca;0>g.b&&Ee(g);var V=g.b,Y=R*_>>>8,ee=(g.I>>>V>Y)+0;for(ee?(R-=Y,g.I-=Y+1<<V>>>0):R=Y+1,V=R,Y=0;256<=V;)Y+=8,V>>=8;return V=7^Y+Rh[V],g.b-=V,g.Ca=(R<<V)-1,ee}function Me(g,_,R){g[_+0]=R>>24&255,g[_+1]=R>>16&255,g[_+2]=R>>8&255,g[_+3]=255&R}function ae(g,_){return g[_+0]|g[_+1]<<8}function at(g,_){return ae(g,_)|g[_+2]<<16}function Re(g,_){return ae(g,_)|ae(g,_+2)<<16}function G(g,_){var R=1<<_;return e(g!=null),e(0<_),g.X=s(R),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Fe(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),n(_.X,0,g.X,0,1<<_.Xa)}function $e(){this.X=[],this.Xa=this.Mb=0}function nt(g,_,R,V){e(R!=null),e(V!=null);var Y=R[0],ee=V[0];return Y==0&&(Y=(g*ee+_/2)/_),ee==0&&(ee=(_*Y+g/2)/g),0>=Y||0>=ee?0:(R[0]=Y,V[0]=ee,1)}function tt(g,_){return g+(1<<_)-1>>>_}function _t(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function ut(g,_){b[_]=function(R,V,Y,ee,ne,oe,ue){var me;for(me=0;me<ne;++me){var Ne=b[g](oe[ue+me-1],Y,ee+me);oe[ue+me]=_t(R[V+me],Ne)}}}function Wt(){this.ud=this.hd=this.jd=0}function Rt(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Bt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ot(g,_){return Bt(g+(g-_+.5>>1))}function bt(g,_,R){return Math.abs(_-R)-Math.abs(g-R)}function Vt(g,_,R,V,Y,ee,ne){for(V=ee[ne-1],R=0;R<Y;++R)ee[ne+R]=V=_t(g[_+R],V)}function Pt(g,_,R,V,Y){var ee;for(ee=0;ee<R;++ee){var ne=g[_+ee],oe=ne>>8&255,ue=16711935&(ue=(ue=16711935&ne)+((oe<<16)+oe));V[Y+ee]=(4278255360&ne)+ue>>>0}}function Lt(g,_){_.jd=255&g,_.hd=g>>8&255,_.ud=g>>16&255}function yt(g,_,R,V,Y,ee){var ne;for(ne=0;ne<V;++ne){var oe=_[R+ne],ue=oe>>>8,me=oe,Ne=255&(Ne=(Ne=oe>>>16)+((g.jd<<24>>24)*(ue<<24>>24)>>>5));me=255&(me=(me+=(g.hd<<24>>24)*(ue<<24>>24)>>>5)+((g.ud<<24>>24)*(Ne<<24>>24)>>>5)),Y[ee+ne]=(4278255360&oe)+(Ne<<16)+me}}function Tt(g,_,R,V,Y){b[_]=function(ee,ne,oe,ue,me,Ne,ze,ve,Le){for(ue=ze;ue<ve;++ue)for(ze=0;ze<Le;++ze)me[Ne++]=Y(oe[V(ee[ne++])])},b[g]=function(ee,ne,oe,ue,me,Ne,ze){var ve=8>>ee.b,Le=ee.Ea,Ve=ee.K[0],st=ee.w;if(8>ve)for(ee=(1<<ee.b)-1,st=(1<<ve)-1;ne<oe;++ne){var Ge,rt=0;for(Ge=0;Ge<Le;++Ge)Ge&ee||(rt=V(ue[me++])),Ne[ze++]=Y(Ve[rt&st]),rt>>=ve}else b["VP8LMapColor"+R](ue,me,Ve,st,Ne,ze,ne,oe,Le)}}function tr(g,_,R,V,Y){for(R=_+R;_<R;){var ee=g[_++];V[Y++]=ee>>16&255,V[Y++]=ee>>8&255,V[Y++]=255&ee}}function Yt(g,_,R,V,Y){for(R=_+R;_<R;){var ee=g[_++];V[Y++]=ee>>16&255,V[Y++]=ee>>8&255,V[Y++]=255&ee,V[Y++]=ee>>24&255}}function Ft(g,_,R,V,Y){for(R=_+R;_<R;){var ee=(ne=g[_++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;V[Y++]=ee,V[Y++]=ne}}function fr(g,_,R,V,Y){for(R=_+R;_<R;){var ee=(ne=g[_++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;V[Y++]=ee,V[Y++]=ne}}function Wr(g,_,R,V,Y){for(R=_+R;_<R;){var ee=g[_++];V[Y++]=255&ee,V[Y++]=ee>>8&255,V[Y++]=ee>>16&255}}function rr(g,_,R,V,Y,ee){if(ee==0)for(R=_+R;_<R;)Me(V,((ee=g[_++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else n(V,Y,g,_,R)}function wr(g,_){b[_][0]=b[g+"0"],b[_][1]=b[g+"1"],b[_][2]=b[g+"2"],b[_][3]=b[g+"3"],b[_][4]=b[g+"4"],b[_][5]=b[g+"5"],b[_][6]=b[g+"6"],b[_][7]=b[g+"7"],b[_][8]=b[g+"8"],b[_][9]=b[g+"9"],b[_][10]=b[g+"10"],b[_][11]=b[g+"11"],b[_][12]=b[g+"12"],b[_][13]=b[g+"13"],b[_][14]=b[g+"0"],b[_][15]=b[g+"0"]}function lr(g){return g==au||g==mc||g==bf||g==Af}function hn(){this.eb=[],this.size=this.A=this.fb=0}function Xr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hn,this.f.kb=new Xr,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ka(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function On(g,_){var R=g.T,V=_.ba.f.RGBA,Y=V.eb,ee=V.fb+g.ka*V.A,ne=aa[_.ba.S],oe=g.y,ue=g.O,me=g.f,Ne=g.N,ze=g.ea,ve=g.W,Le=_.cc,Ve=_.dc,st=_.Mc,Ge=_.Nc,rt=g.ka,it=g.ka+g.T,lt=g.U,ct=lt+1>>1;for(rt==0?ne(oe,ue,null,null,me,Ne,ze,ve,me,Ne,ze,ve,Y,ee,null,null,lt):(ne(_.ec,_.fc,oe,ue,Le,Ve,st,Ge,me,Ne,ze,ve,Y,ee-V.A,Y,ee,lt),++R);rt+2<it;rt+=2)Le=me,Ve=Ne,st=ze,Ge=ve,Ne+=g.Rc,ve+=g.Rc,ee+=2*V.A,ne(oe,(ue+=2*g.fa)-g.fa,oe,ue,Le,Ve,st,Ge,me,Ne,ze,ve,Y,ee-V.A,Y,ee,lt);return ue+=g.fa,g.j+it<g.o?(n(_.ec,_.fc,oe,ue,lt),n(_.cc,_.dc,me,Ne,ct),n(_.Mc,_.Nc,ze,ve,ct),R--):1&it||ne(oe,ue,null,null,me,Ne,ze,ve,me,Ne,ze,ve,Y,ee+V.A,null,null,lt),R}function Rs(g,_,R){var V=g.F,Y=[g.J];if(V!=null){var ee=g.U,ne=_.ba.S,oe=ne==Tf||ne==bf;_=_.ba.f.RGBA;var ue=[0],me=g.ka;ue[0]=g.T,g.Kb&&(me==0?--ue[0]:(--me,Y[0]-=g.width),g.j+g.ka+g.T==g.o&&(ue[0]=g.o-g.j-me));var Ne=_.eb;me=_.fb+me*_.A,g=wf(V,Y[0],g.width,ee,ue,Ne,me+(oe?0:3),_.A),e(R==ue),g&&lr(ne)&&pc(Ne,me,oe,ee,ue,_.A)}return 0}function vi(g){var _=g.ma,R=_.ba.S,V=11>R,Y=R==Fl||R==Ef||R==Tf||R==yn||R==12||lr(R);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Os(_.Oa,g,Y?11:12))return 0;if(Y&&lr(R)&&Cl(),g.da)alert("todo:use_scaling");else{if(V){if(_.Ib=ka,g.Kb){if(R=g.U+1>>1,_.memory=s(g.U+2*R),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+R,_.Ib=On,Cl()}}else alert("todo:EmitYUV");Y&&(_.Jb=Rs,V&&oi())}if(V&&!as){for(g=0;256>g;++g)oa[g]=89858*(g-128)+uo>>rl,la[g]=-22014*(g-128)+uo,uu[g]=-45773*(g-128),yc[g]=113618*(g-128)+uo>>rl;for(g=pn;g<vn;++g)_=76283*(g-16)+uo>>rl,jh[g-pn]=Dr(_,255),q1[g-pn]=Dr(_+8>>4,15);as=1}return 1}function nr(g){var _=g.ma,R=g.U,V=g.T;return e(!(1&g.ka)),0>=R||0>=V?0:(R=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,R),_.Dc+=R,1)}function en(g){g.ma.memory=null}function ps(g,_,R,V){return re(g,8)!=47?0:(_[0]=re(g,14)+1,R[0]=re(g,14)+1,V[0]=re(g,1),re(g,3)!=0?0:!g.h)}function An(g,_){if(4>g)return g+1;var R=g-2>>1;return(2+(1&g)<<R)+re(_,R)+1}function xi(g,_){return 120<_?_-120:1<=(R=((R=Mv[_-1])>>4)*g+(8-(15&R)))?R:1;var R}function cn(g,_,R){var V=W(R),Y=g[_+=255&V].g-8;return 0<Y&&(ie(R,R.u+8),V=W(R),_+=g[_].value,_+=V&(1<<Y)-1),ie(R,R.u+g[_].g),g[_].value}function Rn(g,_,R){return R.g+=g.g,R.value+=g.value<<_>>>0,e(8>=R.g),g.g}function J(g,_,R){var V=g.xc;return e((_=V==0?0:g.vc[g.md*(R>>V)+(_>>V)])<g.Wb),g.Ya[_]}function ye(g,_,R,V){var Y=g.ab,ee=g.c*_,ne=g.C;_=ne+_;var oe=R,ue=V;for(V=g.Ta,R=g.Ua;0<Y--;){var me=g.gc[Y],Ne=ne,ze=_,ve=oe,Le=ue,Ve=(ue=V,oe=R,me.Ea);switch(e(Ne<ze),e(ze<=me.nc),me.hc){case 2:eu(ve,Le,(ze-Ne)*Ve,ue,oe);break;case 0:var st=Ne,Ge=ze,rt=ue,it=oe,lt=(Gt=me).Ea;st==0&&(ra(ve,Le,null,null,1,rt,it),Vt(ve,Le+1,0,0,lt-1,rt,it+1),Le+=lt,it+=lt,++st);for(var ct=1<<Gt.b,Jt=ct-1,zt=tt(lt,Gt.b),Tr=Gt.K,Gt=Gt.w+(st>>Gt.b)*zt;st<Ge;){var Or=Tr,Jn=Gt,br=1;for(na(ve,Le,rt,it-lt,1,rt,it);br<lt;){var qt=(br&~Jt)+ct;qt>lt&&(qt=lt),(0,tl[Or[Jn++]>>8&15])(ve,Le+ +br,rt,it+br-lt,qt-br,rt,it+br),br=qt}Le+=lt,it+=lt,++st&Jt||(Gt+=zt)}ze!=me.nc&&n(ue,oe-Ve,ue,oe+(ze-Ne-1)*Ve,Ve);break;case 1:for(Ve=ve,Ge=Le,lt=(ve=me.Ea)-(it=ve&~(rt=(Le=1<<me.b)-1)),st=tt(ve,me.b),ct=me.K,me=me.w+(Ne>>me.b)*st;Ne<ze;){for(Jt=ct,zt=me,Tr=new Wt,Gt=Ge+it,Or=Ge+ve;Ge<Gt;)Lt(Jt[zt++],Tr),Po(Tr,Ve,Ge,Le,ue,oe),Ge+=Le,oe+=Le;Ge<Or&&(Lt(Jt[zt++],Tr),Po(Tr,Ve,Ge,lt,ue,oe),Ge+=lt,oe+=lt),++Ne&rt||(me+=st)}break;case 3:if(ve==ue&&Le==oe&&0<me.b){for(Ge=ue,ve=Ve=oe+(ze-Ne)*Ve-(it=(ze-Ne)*tt(me.Ea,me.b)),Le=ue,rt=oe,st=[],it=(lt=it)-1;0<=it;--it)st[it]=Le[rt+it];for(it=lt-1;0<=it;--it)Ge[ve+it]=st[it];Ll(me,Ne,ze,ue,Ve,ue,oe)}else Ll(me,Ne,ze,ve,Le,ue,oe)}oe=V,ue=R}ue!=R&&n(V,R,oe,ue,ee)}function fe(g,_){var R=g.V,V=g.Ba+g.c*g.C,Y=_-g.C;if(e(_<=g.l.o),e(16>=Y),0<Y){var ee=g.l,ne=g.Ta,oe=g.Ua,ue=ee.width;if(ye(g,Y,R,V),Y=oe=[oe],e((R=g.C)<(V=_)),e(ee.v<ee.va),V>ee.o&&(V=ee.o),R<ee.j){var me=ee.j-R;R=ee.j,Y[0]+=me*ue}if(R>=V?R=0:(Y[0]+=4*ee.v,ee.ka=R-ee.j,ee.U=ee.va-ee.v,ee.T=V-R,R=1),R){if(oe=oe[0],11>(R=g.ca).S){var Ne=R.f.RGBA,ze=(V=R.S,Y=ee.U,ee=ee.T,me=Ne.eb,Ne.A),ve=ee;for(Ne=Ne.fb+g.Ma*Ne.A;0<ve--;){var Le=ne,Ve=oe,st=Y,Ge=me,rt=Ne;switch(V){case Oh:ru(Le,Ve,st,Ge,rt);break;case Fl:ia(Le,Ve,st,Ge,rt);break;case au:ia(Le,Ve,st,Ge,rt),pc(Ge,rt,0,st,1,0);break;case B1:In(Le,Ve,st,Ge,rt);break;case Ef:rr(Le,Ve,st,Ge,rt,1);break;case mc:rr(Le,Ve,st,Ge,rt,1),pc(Ge,rt,0,st,1,0);break;case Tf:rr(Le,Ve,st,Ge,rt,0);break;case bf:rr(Le,Ve,st,Ge,rt,0),pc(Ge,rt,1,st,1,0);break;case yn:Ro(Le,Ve,st,Ge,rt);break;case Af:Ro(Le,Ve,st,Ge,rt),E0(Ge,rt,st,1,0);break;case Mh:kn(Le,Ve,st,Ge,rt);break;default:e(0)}oe+=ue,Ne+=ze}g.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=R.height)}}g.C=_,e(g.C<=g.i)}function he(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var R=g.Ya[_].G,V=g.Ya[_].H;if(0<R[1][V[1]+0].g||0<R[2][V[2]+0].g||0<R[3][V[3]+0].g)return 0}return 1}function _e(g,_,R,V,Y,ee){if(g.Z!=0){var ne=g.qd,oe=g.rd;for(e(xs[g.Z]!=null);_<R;++_)xs[g.Z](ne,oe,V,Y,V,Y,ee),ne=V,oe=Y,Y+=ee;g.qd=ne,g.rd=oe}}function we(g,_){var R=g.l.ma,V=R.Z==0||R.Z==1?g.l.j:g.C;if(V=g.C<V?V:g.C,e(_<=g.l.o),_>V){var Y=g.l.width,ee=R.ca,ne=R.tb+Y*V,oe=g.V,ue=g.Ba+g.c*V,me=g.gc;e(g.ab==1),e(me[0].hc==3),fc(me[0],V,_,oe,ue,ee,ne),_e(R,V,_,ee,ne,Y)}g.C=g.Ma=_}function je(g,_,R,V,Y,ee,ne){var oe=g.$/V,ue=g.$%V,me=g.m,Ne=g.s,ze=R+g.$,ve=ze;Y=R+V*Y;var Le=R+V*ee,Ve=280+Ne.ua,st=g.Pb?oe:16777216,Ge=0<Ne.ua?Ne.Wa:null,rt=Ne.wc,it=ze<Le?J(Ne,ue,oe):null;e(g.C<ee),e(Le<=Y);var lt=!1;e:for(;;){for(;lt||ze<Le;){var ct=0;if(oe>=st){var Jt=ze-R;e((st=g).Pb),st.wd=st.m,st.xd=Jt,0<st.s.ua&&Fe(st.s.Wa,st.s.vb),st=oe+Vh}if(ue&rt||(it=J(Ne,ue,oe)),e(it!=null),it.Qb&&(_[ze]=it.qb,lt=!0),!lt)if(pe(me),it.jc){ct=me,Jt=_;var zt=ze,Tr=it.pd[W(ct)&Bs-1];e(it.jc),256>Tr.g?(ie(ct,ct.u+Tr.g),Jt[zt]=Tr.value,ct=0):(ie(ct,ct.u+Tr.g-256),e(256<=Tr.value),ct=Tr.value),ct==0&&(lt=!0)}else ct=cn(it.G[0],it.H[0],me);if(me.h)break;if(lt||256>ct){if(!lt)if(it.nd)_[ze]=(it.qb|ct<<8)>>>0;else{if(pe(me),lt=cn(it.G[1],it.H[1],me),pe(me),Jt=cn(it.G[2],it.H[2],me),zt=cn(it.G[3],it.H[3],me),me.h)break;_[ze]=(zt<<24|lt<<16|ct<<8|Jt)>>>0}if(lt=!1,++ze,++ue>=V&&(ue=0,++oe,ne!=null&&oe<=ee&&!(oe%16)&&ne(g,oe),Ge!=null))for(;ve<ze;)ct=_[ve++],Ge.X[(506832829*ct&4294967295)>>>Ge.Mb]=ct}else if(280>ct){if(ct=An(ct-256,me),Jt=cn(it.G[4],it.H[4],me),pe(me),Jt=xi(V,Jt=An(Jt,me)),me.h)break;if(ze-R<Jt||Y-ze<ct)break e;for(zt=0;zt<ct;++zt)_[ze+zt]=_[ze+zt-Jt];for(ze+=ct,ue+=ct;ue>=V;)ue-=V,++oe,ne!=null&&oe<=ee&&!(oe%16)&&ne(g,oe);if(e(ze<=Y),ue&rt&&(it=J(Ne,ue,oe)),Ge!=null)for(;ve<ze;)ct=_[ve++],Ge.X[(506832829*ct&4294967295)>>>Ge.Mb]=ct}else{if(!(ct<Ve))break e;for(lt=ct-280,e(Ge!=null);ve<ze;)ct=_[ve++],Ge.X[(506832829*ct&4294967295)>>>Ge.Mb]=ct;ct=ze,e(!(lt>>>(Jt=Ge).Xa)),_[ct]=Jt.X[lt],lt=!0}lt||e(me.h==K(me))}if(g.Pb&&me.h&&ze<Y)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Fe(g.s.vb,g.s.Wa);else{if(me.h)break e;ne?.(g,oe>ee?ee:oe),g.a=0,g.$=ze-R}return 1}return g.a=3,0}function Qe(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function qe(){var g=new Sn;return g==null?null:(g.a=0,g.xb=lu,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),eu=Pt,Po=yt,ru=tr,ia=Yt,Ro=Ft,kn=fr,In=Wr,b.VP8LMapColor32b=tu,b.VP8LMapColor8b=el,g)}function He(g,_,R,V,Y){var ee=1,ne=[g],oe=[_],ue=V.m,me=V.s,Ne=null,ze=0;e:for(;;){if(R)for(;ee&&re(ue,1);){var ve=ne,Le=oe,Ve=V,st=1,Ge=Ve.m,rt=Ve.gc[Ve.ab],it=re(Ge,2);if(Ve.Oc&1<<it)ee=0;else{switch(Ve.Oc|=1<<it,rt.hc=it,rt.Ea=ve[0],rt.nc=Le[0],rt.K=[null],++Ve.ab,e(4>=Ve.ab),it){case 0:case 1:rt.b=re(Ge,3)+2,st=He(tt(rt.Ea,rt.b),tt(rt.nc,rt.b),0,Ve,rt.K),rt.K=rt.K[0];break;case 3:var lt,ct=re(Ge,8)+1,Jt=16<ct?0:4<ct?1:2<ct?2:3;if(ve[0]=tt(rt.Ea,Jt),rt.b=Jt,lt=st=He(ct,1,0,Ve,rt.K)){var zt,Tr=ct,Gt=rt,Or=1<<(8>>Gt.b),Jn=s(Or);if(Jn==null)lt=0;else{var br=Gt.K[0],qt=Gt.w;for(Jn[0]=Gt.K[0][0],zt=1;zt<1*Tr;++zt)Jn[zt]=_t(br[qt+zt],Jn[zt-1]);for(;zt<4*Or;++zt)Jn[zt]=0;Gt.K[0]=null,Gt.K[0]=Jn,lt=1}}st=lt;break;case 2:break;default:e(0)}ee=st}}if(ne=ne[0],oe=oe[0],ee&&re(ue,1)&&!(ee=1<=(ze=re(ue,4))&&11>=ze)){V.a=3;break e}var kt;if(kt=ee)t:{var ui,mr,Lr,Cn=V,Hi=ne,_i=oe,Wn=ze,Li=R,Wi=Cn.m,Vn=Cn.s,jr=[null],rn=1,jn=0,nn=j1[Wn];r:for(;;){if(Li&&re(Wi,1)){var Zn=re(Wi,3)+2,ei=tt(Hi,Zn),_n=tt(_i,Zn),ys=ei*_n;if(!He(ei,_n,0,Cn,jr))break r;for(jr=jr[0],Vn.xc=Zn,ui=0;ui<ys;++ui){var xn=jr[ui]>>8&65535;jr[ui]=xn,xn>=rn&&(rn=xn+1)}}if(Wi.h)break r;for(mr=0;5>mr;++mr){var wn=gc[mr];!mr&&0<Wn&&(wn+=1<<Wn),jn<wn&&(jn=wn)}var wi=a(rn*nn,B),os=rn,ca=a(os,be);if(ca==null)var fi=null;else e(65536>=os),fi=ca;var hi=s(jn);if(fi==null||hi==null||wi==null){Cn.a=1;break r}var _s=wi;for(ui=Lr=0;ui<rn;++ui){var En=fi[ui],ws=En.G,Wa=En.H,fo=0,Gi=1,di=0;for(mr=0;5>mr;++mr){wn=gc[mr],ws[mr]=_s,Wa[mr]=Lr,!mr&&0<Wn&&(wn+=1<<Wn);i:{var Ml,il=wn,fu=Cn,Oo=hi,W1=_s,F0=Lr,Fn=0,ho=fu.m,D0=re(ho,1);if(i(Oo,0,0,il),D0){var O0=re(ho,1)+1,Uh=re(ho,1),zh=re(ho,Uh==0?1:8);Oo[zh]=1,O0==2&&(Oo[zh=re(ho,8)]=1);var Mo=1}else{var Un=s(19),Ei=re(ho,4)+4;if(19<Ei){fu.a=3;var pi=0;break i}for(Ml=0;Ml<Ei;++Ml)Un[Ov[Ml]]=re(ho,3);var hu=void 0,sl=void 0,du=fu,zv=Un,Fi=il,qh=Oo,Nf=0,Bo=du.m,po=8,Ca=a(128,B);n:for(;N(Ca,0,7,zv,19);){if(re(Bo,1)){var Pf=2+2*re(Bo,3);if((hu=2+re(Bo,Pf))>Fi)break n}else hu=Fi;for(sl=0;sl<Fi&&hu--;){pe(Bo);var Hh=Ca[0+(127&W(Bo))];ie(Bo,Bo.u+Hh.g);var Bl=Hh.value;if(16>Bl)qh[sl++]=Bl,Bl!=0&&(po=Bl);else{var G1=Bl==16,M0=Bl-16,$1=Bh[M0],B0=re(Bo,Sf[M0])+$1;if(sl+B0>Fi)break n;for(var K1=G1?po:0;0<B0--;)qh[sl++]=K1}}Nf=1;break n}Nf||(du.a=3),Mo=Nf}(Mo=Mo&&!ho.h)&&(Fn=N(W1,F0,8,Oo,il)),Mo&&Fn!=0?pi=Fn:(fu.a=3,pi=0)}if(pi==0)break r;if(Gi&&V1[mr]==1&&(Gi=_s[Lr].g==0),fo+=_s[Lr].g,Lr+=pi,3>=mr){var pu,Wh=hi[0];for(pu=1;pu<wn;++pu)hi[pu]>Wh&&(Wh=hi[pu]);di+=Wh}}if(En.nd=Gi,En.Qb=0,Gi&&(En.qb=(ws[3][Wa[3]+0].value<<24|ws[1][Wa[1]+0].value<<16|ws[2][Wa[2]+0].value)>>>0,fo==0&&256>ws[0][Wa[0]+0].value&&(En.Qb=1,En.qb+=ws[0][Wa[0]+0].value<<8)),En.jc=!En.Qb&&6>di,En.jc){var Rf,Na=En;for(Rf=0;Rf<Bs;++Rf){var al=Rf,mo=Na.pd[al],wc=Na.G[0][Na.H[0]+al];256<=wc.value?(mo.g=wc.g+256,mo.value=wc.value):(mo.g=0,mo.value=0,al>>=Rn(wc,8,mo),al>>=Rn(Na.G[1][Na.H[1]+al],16,mo),al>>=Rn(Na.G[2][Na.H[2]+al],0,mo),Rn(Na.G[3][Na.H[3]+al],24,mo))}}}Vn.vc=jr,Vn.Wb=rn,Vn.Ya=fi,Vn.yc=wi,kt=1;break t}kt=0}if(!(ee=kt)){V.a=3;break e}if(0<ze){if(me.ua=1<<ze,!G(me.Wa,ze)){V.a=1,ee=0;break e}}else me.ua=0;var Gh=V,$h=ne,X1=oe,Kh=Gh.s,Xh=Kh.xc;if(Gh.c=$h,Gh.i=X1,Kh.md=tt($h,Xh),Kh.wc=Xh==0?-1:(1<<Xh)-1,R){V.xb=Do;break e}if((Ne=s(ne*oe))==null){V.a=1,ee=0;break e}ee=(ee=je(V,Ne,0,ne,oe,oe,null))&&!ue.h;break e}return ee?(Y!=null?Y[0]=Ne:(e(Ne==null),e(R)),V.$=0,R||Qe(me)):Qe(me),ee}function Ke(g,_){var R=g.c*g.i,V=R+_+16*_;return e(g.c<=_),g.V=s(V),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+R+_,1)}function ht(g,_){var R=g.C,V=_-R,Y=g.V,ee=g.Ba+g.c*R;for(e(_<=g.l.o);0<V;){var ne=16<V?16:V,oe=g.l.ma,ue=g.l.width,me=ue*ne,Ne=oe.ca,ze=oe.tb+ue*R,ve=g.Ta,Le=g.Ua;ye(g,ne,Y,ee),T0(ve,Le,Ne,ze,me),_e(oe,R,R+ne,Ne,ze,ue),V-=ne,Y+=ne*g.c,R+=ne}e(R==_),g.C=g.Ma=_}function At(){this.ub=this.yd=this.td=this.Rb=0}function Ct(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Et(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function mt(){this.Yb=(function(){var g=[];return(function _(R,V,Y){for(var ee=Y[V],ne=0;ne<ee&&(R.push(Y.length>V+1?[]:0),!(Y.length<V+1));ne++)_(R[ne],V+1,Y)})(g,0,[3,11]),g})()}function cr(){this.jb=s(3),this.Wc=o([4,8],mt),this.Xc=o([4,17],mt)}function Ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Er(){this.ld=this.La=this.dd=this.tc=0}function Gr(){this.Na=this.la=0}function Ks(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ms(){this.uc=this.M=this.Nb=0,this.wa=Array(new Er),this.Y=0,this.ya=Array(new Xs),this.aa=0,this.l=new un}function Mn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function to(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new At,this.Kc=new Ct,this.ed=new Ur,this.Qa=new Et,this.Ic=this.$c=this.Aa=0,this.D=new ms,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,S),this.ia=0,this.pb=a(4,Ks),this.Pa=new cr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mn),this.Hd=0,this.rb=Array(new Gr),this.sb=0,this.wa=Array(new Er),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xs),this.L=this.aa=0,this.gd=o([4,2],Er),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function un(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oc(){var g=new to;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,vc||(vc=Ys)),g}function Hn(g,_,R){return g.a==0&&(g.a=_,g.sc=R,g.cb=0),0}function lc(g,_,R){return 3<=R&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function Xo(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Hn(g,2,"null VP8Io passed to VP8GetHeaders()");var R=_.data,V=_.w,Y=_.ha;if(4>Y)return Hn(g,7,"Truncated header.");var ee=R[V+0]|R[V+1]<<8|R[V+2]<<16,ne=g.Od;if(ne.Rb=!(1&ee),ne.td=ee>>1&7,ne.yd=ee>>4&1,ne.ub=ee>>5,3<ne.td)return Hn(g,3,"Incorrect keyframe parameters.");if(!ne.yd)return Hn(g,4,"Frame not displayable.");V+=3,Y-=3;var oe=g.Kc;if(ne.Rb){if(7>Y)return Hn(g,7,"cannot parse picture header");if(!lc(R,V,Y))return Hn(g,3,"Bad code word");oe.c=16383&(R[V+4]<<8|R[V+3]),oe.Td=R[V+4]>>6,oe.i=16383&(R[V+6]<<8|R[V+5]),oe.Ud=R[V+6]>>6,V+=7,Y-=7,g.za=oe.c+15>>4,g.Ub=oe.i+15>>4,_.width=oe.c,_.height=oe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((ee=g.Pa).jb,0,255,ee.jb.length),e((ee=g.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(ne.ub>Y)return Hn(g,7,"bad partition length");ke(ee=g.m,R,V,ne.ub),V+=ne.ub,Y-=ne.ub,ne.Rb&&(oe.Ld=xe(ee),oe.Kd=xe(ee)),oe=g.Qa;var ue,me=g.Pa;if(e(ee!=null),e(oe!=null),oe.Cb=xe(ee),oe.Cb){if(oe.Bb=xe(ee),xe(ee)){for(oe.Fb=xe(ee),ue=0;4>ue;++ue)oe.Zb[ue]=xe(ee)?de(ee,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=xe(ee)?de(ee,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)me.jb[ue]=xe(ee)?Te(ee,8):255}else oe.Bb=0;if(ee.Ka)return Hn(g,3,"cannot parse segment header");if((oe=g.ed).zd=xe(ee),oe.Tb=Te(ee,6),oe.wb=Te(ee,3),oe.Pc=xe(ee),oe.Pc&&xe(ee)){for(me=0;4>me;++me)xe(ee)&&(oe.vd[me]=de(ee,6));for(me=0;4>me;++me)xe(ee)&&(oe.od[me]=de(ee,6))}if(g.L=oe.Tb==0?0:oe.zd?1:2,ee.Ka)return Hn(g,3,"cannot parse filter header");var Ne=Y;if(Y=ue=V,V=ue+Ne,oe=Ne,g.Xb=(1<<Te(g.m,2))-1,Ne<3*(me=g.Xb))R=7;else{for(ue+=3*me,oe-=3*me,Ne=0;Ne<me;++Ne){var ze=R[Y+0]|R[Y+1]<<8|R[Y+2]<<16;ze>oe&&(ze=oe),ke(g.Jc[+Ne],R,ue,ze),ue+=ze,oe-=ze,Y+=3}ke(g.Jc[+me],R,ue,oe),R=ue<V?0:5}if(R!=0)return Hn(g,R,"cannot parse partitions");for(R=Te(ue=g.m,7),Y=xe(ue)?de(ue,4):0,V=xe(ue)?de(ue,4):0,oe=xe(ue)?de(ue,4):0,me=xe(ue)?de(ue,4):0,ue=xe(ue)?de(ue,4):0,Ne=g.Qa,ze=0;4>ze;++ze){if(Ne.Cb){var ve=Ne.Zb[ze];Ne.Fb||(ve+=R)}else{if(0<ze){g.pb[ze]=g.pb[0];continue}ve=R}var Le=g.pb[ze];Le.Sc[0]=ou[Dr(ve+Y,127)],Le.Sc[1]=kf[Dr(ve+0,127)],Le.Eb[0]=2*ou[Dr(ve+V,127)],Le.Eb[1]=101581*kf[Dr(ve+oe,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=ou[Dr(ve+me,117)],Le.Qc[1]=kf[Dr(ve+ue,127)],Le.lc=ve+ue}if(!ne.Rb)return Hn(g,4,"Not a key frame.");for(xe(ee),ne=g.Pa,R=0;4>R;++R){for(Y=0;8>Y;++Y)for(V=0;3>V;++V)for(oe=0;11>oe;++oe)me=Ae(ee,Vv[R][Y][V][oe])?Te(ee,8):z1[R][Y][V][oe],ne.Wc[R][Y].Yb[V][oe]=me;for(Y=0;17>Y;++Y)ne.Xc[R][Y]=ne.Wc[R][P0[Y]]}return g.kc=xe(ee),g.kc&&(g.Bd=Te(ee,8)),g.cb=1}function Ys(g,_,R,V,Y,ee,ne){var oe=_[Y].Yb[R];for(R=0;16>Y;++Y){if(!Ae(g,oe[R+0]))return Y;for(;!Ae(g,oe[R+1]);)if(oe=_[++Y].Yb[0],R=0,Y==16)return 16;var ue=_[Y+1].Yb;if(Ae(g,oe[R+2])){var me=g,Ne=0;if(Ae(me,(ve=oe)[(ze=R)+3]))if(Ae(me,ve[ze+6])){for(oe=0,ze=2*(Ne=Ae(me,ve[ze+8]))+(ve=Ae(me,ve[ze+9+Ne])),Ne=0,ve=C0[ze];ve[oe];++oe)Ne+=Ne+Ae(me,ve[oe]);Ne+=3+(8<<ze)}else Ae(me,ve[ze+7])?(Ne=7+2*Ae(me,165),Ne+=Ae(me,145)):Ne=5+Ae(me,159);else Ne=Ae(me,ve[ze+4])?3+Ae(me,ve[ze+5]):2;oe=ue[2]}else Ne=1,oe=ue[1];ue=ne+N0[Y],0>(me=g).b&&Ee(me);var ze,ve=me.b,Le=(ze=me.Ca>>1)-(me.I>>ve)>>31;--me.b,me.Ca+=Le,me.Ca|=1,me.I-=(ze+1&Le)<<ve,ee[ue]=((Ne^Le)-Le)*V[(0<Y)+0]}return 16}function Qs(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Zi(g,_,R,V,Y){Y=g[_+R+32*V]+(Y>>3),g[_+R+32*V]=-256&Y?0>Y?0:255:Y}function Yo(g,_,R,V,Y,ee){Zi(g,_,0,R,V+Y),Zi(g,_,1,R,V+ee),Zi(g,_,2,R,V-ee),Zi(g,_,3,R,V-Y)}function dn(g){return(20091*g>>16)+g}function es(g,_,R,V){var Y,ee=0,ne=s(16);for(Y=0;4>Y;++Y){var oe=g[_+0]+g[_+8],ue=g[_+0]-g[_+8],me=(35468*g[_+4]>>16)-dn(g[_+12]),Ne=dn(g[_+4])+(35468*g[_+12]>>16);ne[ee+0]=oe+Ne,ne[ee+1]=ue+me,ne[ee+2]=ue-me,ne[ee+3]=oe-Ne,ee+=4,_++}for(Y=ee=0;4>Y;++Y)oe=(g=ne[ee+0]+4)+ne[ee+8],ue=g-ne[ee+8],me=(35468*ne[ee+4]>>16)-dn(ne[ee+12]),Zi(R,V,0,0,oe+(Ne=dn(ne[ee+4])+(35468*ne[ee+12]>>16))),Zi(R,V,1,0,ue+me),Zi(R,V,2,0,ue-me),Zi(R,V,3,0,oe-Ne),ee++,V+=32}function Qo(g,_,R,V){var Y=g[_+0]+4,ee=35468*g[_+4]>>16,ne=dn(g[_+4]),oe=35468*g[_+1]>>16;Yo(R,V,0,Y+ne,g=dn(g[_+1]),oe),Yo(R,V,1,Y+ee,g,oe),Yo(R,V,2,Y-ee,g,oe),Yo(R,V,3,Y-ne,g,oe)}function So(g,_,R,V,Y){es(g,_,R,V),Y&&es(g,_+16,R,V+4)}function ko(g,_,R,V){ci(g,_+0,R,V,1),ci(g,_+32,R,V+128,1)}function Fr(g,_,R,V){var Y;for(g=g[_+0]+4,Y=0;4>Y;++Y)for(_=0;4>_;++_)Zi(R,V,_,Y,g)}function ro(g,_,R,V){g[_+0]&&co(g,_+0,R,V),g[_+16]&&co(g,_+16,R,V+4),g[_+32]&&co(g,_+32,R,V+128),g[_+48]&&co(g,_+48,R,V+128+4)}function Pr(g,_,R,V){var Y,ee=s(16);for(Y=0;4>Y;++Y){var ne=g[_+0+Y]+g[_+12+Y],oe=g[_+4+Y]+g[_+8+Y],ue=g[_+4+Y]-g[_+8+Y],me=g[_+0+Y]-g[_+12+Y];ee[0+Y]=ne+oe,ee[8+Y]=ne-oe,ee[4+Y]=me+ue,ee[12+Y]=me-ue}for(Y=0;4>Y;++Y)ne=(g=ee[0+4*Y]+3)+ee[3+4*Y],oe=ee[1+4*Y]+ee[2+4*Y],ue=ee[1+4*Y]-ee[2+4*Y],me=g-ee[3+4*Y],R[V+0]=ne+oe>>3,R[V+16]=me+ue>>3,R[V+32]=ne-oe>>3,R[V+48]=me-ue>>3,V+=64}function Ls(g,_,R){var V,Y=_-32,ee=Vs,ne=255-g[Y-1];for(V=0;V<R;++V){var oe,ue=ee,me=ne+g[_-1];for(oe=0;oe<R;++oe)g[_+oe]=ue[me+g[Y+oe]];_+=32}}function Al(g,_){Ls(g,_,4)}function Sl(g,_){Ls(g,_,8)}function Yc(g,_){Ls(g,_,16)}function Qc(g,_){var R;for(R=0;16>R;++R)n(g,_+32*R,g,_-32,16)}function kl(g,_){var R;for(R=16;0<R;--R)i(g,_,g[_-1],16),_+=32}function no(g,_,R){var V;for(V=0;16>V;++V)i(_,R+32*V,g,16)}function ts(g,_){var R,V=16;for(R=0;16>R;++R)V+=g[_-1+32*R]+g[_+R-32];no(V>>5,g,_)}function Ni(g,_){var R,V=8;for(R=0;16>R;++R)V+=g[_-1+32*R];no(V>>4,g,_)}function rs(g,_){var R,V=8;for(R=0;16>R;++R)V+=g[_+R-32];no(V>>4,g,_)}function Fs(g,_){no(128,g,_)}function or(g,_,R){return g+2*_+R+2>>2}function Js(g,_){var R,V=_-32;for(V=new Uint8Array([or(g[V-1],g[V+0],g[V+1]),or(g[V+0],g[V+1],g[V+2]),or(g[V+1],g[V+2],g[V+3]),or(g[V+2],g[V+3],g[V+4])]),R=0;4>R;++R)n(g,_+32*R,V,0,V.length)}function Va(g,_){var R=g[_-1],V=g[_-1+32],Y=g[_-1+64],ee=g[_-1+96];Me(g,_+0,16843009*or(g[_-1-32],R,V)),Me(g,_+32,16843009*or(R,V,Y)),Me(g,_+64,16843009*or(V,Y,ee)),Me(g,_+96,16843009*or(Y,ee,ee))}function xf(g,_){var R,V=4;for(R=0;4>R;++R)V+=g[_+R-32]+g[_-1+32*R];for(V>>=3,R=0;4>R;++R)i(g,_+32*R,V,4)}function Jc(g,_){var R=g[_-1+0],V=g[_-1+32],Y=g[_-1+64],ee=g[_-1-32],ne=g[_+0-32],oe=g[_+1-32],ue=g[_+2-32],me=g[_+3-32];g[_+0+96]=or(V,Y,g[_-1+96]),g[_+1+96]=g[_+0+64]=or(R,V,Y),g[_+2+96]=g[_+1+64]=g[_+0+32]=or(ee,R,V),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=or(ne,ee,R),g[_+3+64]=g[_+2+32]=g[_+1+0]=or(oe,ne,ee),g[_+3+32]=g[_+2+0]=or(ue,oe,ne),g[_+3+0]=or(me,ue,oe)}function Xn(g,_){var R=g[_+1-32],V=g[_+2-32],Y=g[_+3-32],ee=g[_+4-32],ne=g[_+5-32],oe=g[_+6-32],ue=g[_+7-32];g[_+0+0]=or(g[_+0-32],R,V),g[_+1+0]=g[_+0+32]=or(R,V,Y),g[_+2+0]=g[_+1+32]=g[_+0+64]=or(V,Y,ee),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=or(Y,ee,ne),g[_+3+32]=g[_+2+64]=g[_+1+96]=or(ee,ne,oe),g[_+3+64]=g[_+2+96]=or(ne,oe,ue),g[_+3+96]=or(oe,ue,ue)}function io(g,_){var R=g[_-1+0],V=g[_-1+32],Y=g[_-1+64],ee=g[_-1-32],ne=g[_+0-32],oe=g[_+1-32],ue=g[_+2-32],me=g[_+3-32];g[_+0+0]=g[_+1+64]=ee+ne+1>>1,g[_+1+0]=g[_+2+64]=ne+oe+1>>1,g[_+2+0]=g[_+3+64]=oe+ue+1>>1,g[_+3+0]=ue+me+1>>1,g[_+0+96]=or(Y,V,R),g[_+0+64]=or(V,R,ee),g[_+0+32]=g[_+1+96]=or(R,ee,ne),g[_+1+32]=g[_+2+96]=or(ee,ne,oe),g[_+2+32]=g[_+3+96]=or(ne,oe,ue),g[_+3+32]=or(oe,ue,me)}function Zc(g,_){var R=g[_+0-32],V=g[_+1-32],Y=g[_+2-32],ee=g[_+3-32],ne=g[_+4-32],oe=g[_+5-32],ue=g[_+6-32],me=g[_+7-32];g[_+0+0]=R+V+1>>1,g[_+1+0]=g[_+0+64]=V+Y+1>>1,g[_+2+0]=g[_+1+64]=Y+ee+1>>1,g[_+3+0]=g[_+2+64]=ee+ne+1>>1,g[_+0+32]=or(R,V,Y),g[_+1+32]=g[_+0+96]=or(V,Y,ee),g[_+2+32]=g[_+1+96]=or(Y,ee,ne),g[_+3+32]=g[_+2+96]=or(ee,ne,oe),g[_+3+64]=or(ne,oe,ue),g[_+3+96]=or(oe,ue,me)}function so(g,_){var R=g[_-1+0],V=g[_-1+32],Y=g[_-1+64],ee=g[_-1+96];g[_+0+0]=R+V+1>>1,g[_+2+0]=g[_+0+32]=V+Y+1>>1,g[_+2+32]=g[_+0+64]=Y+ee+1>>1,g[_+1+0]=or(R,V,Y),g[_+3+0]=g[_+1+32]=or(V,Y,ee),g[_+3+32]=g[_+1+64]=or(Y,ee,ee),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=ee}function ja(g,_){var R=g[_-1+0],V=g[_-1+32],Y=g[_-1+64],ee=g[_-1+96],ne=g[_-1-32],oe=g[_+0-32],ue=g[_+1-32],me=g[_+2-32];g[_+0+0]=g[_+2+32]=R+ne+1>>1,g[_+0+32]=g[_+2+64]=V+R+1>>1,g[_+0+64]=g[_+2+96]=Y+V+1>>1,g[_+0+96]=ee+Y+1>>1,g[_+3+0]=or(oe,ue,me),g[_+2+0]=or(ne,oe,ue),g[_+1+0]=g[_+3+32]=or(R,ne,oe),g[_+1+32]=g[_+3+64]=or(V,R,ne),g[_+1+64]=g[_+3+96]=or(Y,V,R),g[_+1+96]=or(ee,Y,V)}function Il(g,_){var R;for(R=0;8>R;++R)n(g,_+32*R,g,_-32,8)}function ns(g,_){var R;for(R=0;8>R;++R)i(g,_,g[_-1],8),_+=32}function gs(g,_,R){var V;for(V=0;8>V;++V)i(_,R+32*V,g,8)}function Zs(g,_){var R,V=8;for(R=0;8>R;++R)V+=g[_+R-32]+g[_-1+32*R];gs(V>>4,g,_)}function Io(g,_){var R,V=4;for(R=0;8>R;++R)V+=g[_+R-32];gs(V>>3,g,_)}function mn(g,_){var R,V=4;for(R=0;8>R;++R)V+=g[_-1+32*R];gs(V>>3,g,_)}function cc(g,_){gs(128,g,_)}function ao(g,_,R){var V=g[_-R],Y=g[_+0],ee=3*(Y-V)+Fo[1020+g[_-2*R]-g[_+R]],ne=su[112+(ee+4>>3)];g[_-R]=Vs[255+V+su[112+(ee+3>>3)]],g[_+0]=Vs[255+Y-ne]}function Ia(g,_,R,V){var Y=g[_+0],ee=g[_+R];return qa[255+g[_-2*R]-g[_-R]]>V||qa[255+ee-Y]>V}function Co(g,_,R,V){return 4*qa[255+g[_-R]-g[_+0]]+qa[255+g[_-2*R]-g[_+R]]<=V}function No(g,_,R,V,Y){var ee=g[_-3*R],ne=g[_-2*R],oe=g[_-R],ue=g[_+0],me=g[_+R],Ne=g[_+2*R],ze=g[_+3*R];return 4*qa[255+oe-ue]+qa[255+ne-me]>V?0:qa[255+g[_-4*R]-ee]<=Y&&qa[255+ee-ne]<=Y&&qa[255+ne-oe]<=Y&&qa[255+ze-Ne]<=Y&&qa[255+Ne-me]<=Y&&qa[255+me-ue]<=Y}function is(g,_,R,V){var Y=2*V+1;for(V=0;16>V;++V)Co(g,_+V,R,Y)&&ao(g,_+V,R)}function Ua(g,_,R,V){var Y=2*V+1;for(V=0;16>V;++V)Co(g,_+V*R,1,Y)&&ao(g,_+V*R,1)}function zi(g,_,R,V){var Y;for(Y=3;0<Y;--Y)is(g,_+=4*R,R,V)}function Jo(g,_,R,V){var Y;for(Y=3;0<Y;--Y)Ua(g,_+=4,R,V)}function qi(g,_,R,V,Y,ee,ne,oe){for(ee=2*ee+1;0<Y--;){if(No(g,_,R,ee,ne))if(Ia(g,_,R,oe))ao(g,_,R);else{var ue=g,me=_,Ne=R,ze=ue[me-2*Ne],ve=ue[me-Ne],Le=ue[me+0],Ve=ue[me+Ne],st=ue[me+2*Ne],Ge=27*(it=Fo[1020+3*(Le-ve)+Fo[1020+ze-Ve]])+63>>7,rt=18*it+63>>7,it=9*it+63>>7;ue[me-3*Ne]=Vs[255+ue[me-3*Ne]+it],ue[me-2*Ne]=Vs[255+ze+rt],ue[me-Ne]=Vs[255+ve+Ge],ue[me+0]=Vs[255+Le-Ge],ue[me+Ne]=Vs[255+Ve-rt],ue[me+2*Ne]=Vs[255+st-it]}_+=V}}function Pi(g,_,R,V,Y,ee,ne,oe){for(ee=2*ee+1;0<Y--;){if(No(g,_,R,ee,ne))if(Ia(g,_,R,oe))ao(g,_,R);else{var ue=g,me=_,Ne=R,ze=ue[me-Ne],ve=ue[me+0],Le=ue[me+Ne],Ve=su[112+(4+(st=3*(ve-ze))>>3)],st=su[112+(st+3>>3)],Ge=Ve+1>>1;ue[me-2*Ne]=Vs[255+ue[me-2*Ne]+Ge],ue[me-Ne]=Vs[255+ze+st],ue[me+0]=Vs[255+ve-Ve],ue[me+Ne]=Vs[255+Le-Ge]}_+=V}}function I(g,_,R,V,Y,ee){qi(g,_,R,1,16,V,Y,ee)}function X(g,_,R,V,Y,ee){qi(g,_,1,R,16,V,Y,ee)}function ge(g,_,R,V,Y,ee){var ne;for(ne=3;0<ne;--ne)Pi(g,_+=4*R,R,1,16,V,Y,ee)}function Ie(g,_,R,V,Y,ee){var ne;for(ne=3;0<ne;--ne)Pi(g,_+=4,1,R,16,V,Y,ee)}function Oe(g,_,R,V,Y,ee,ne,oe){qi(g,_,Y,1,8,ee,ne,oe),qi(R,V,Y,1,8,ee,ne,oe)}function ot(g,_,R,V,Y,ee,ne,oe){qi(g,_,1,Y,8,ee,ne,oe),qi(R,V,1,Y,8,ee,ne,oe)}function ft(g,_,R,V,Y,ee,ne,oe){Pi(g,_+4*Y,Y,1,8,ee,ne,oe),Pi(R,V+4*Y,Y,1,8,ee,ne,oe)}function Dt(g,_,R,V,Y,ee,ne,oe){Pi(g,_+4,1,Y,8,ee,ne,oe),Pi(R,V+4,1,Y,8,ee,ne,oe)}function Ut(){this.ba=new Nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ar(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vr(){this.ua=0,this.Wa=new $e,this.vb=new $e,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new B}function Sn(){this.xb=this.a=0,this.l=new un,this.ca=new Nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vr,this.ab=0,this.gc=a(4,pr),this.Oc=0}function Ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new un,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $r(g,_,R,V,Y,ee,ne){for(g=g==null?0:g[_+0],_=0;_<ne;++_)Y[ee+_]=g+R[V+_]&255,g=Y[ee+_]}function Yn(g,_,R,V,Y,ee,ne){var oe;if(g==null)$r(null,null,R,V,Y,ee,ne);else for(oe=0;oe<ne;++oe)Y[ee+oe]=g[_+oe]+R[V+oe]&255}function gn(g,_,R,V,Y,ee,ne){if(g==null)$r(null,null,R,V,Y,ee,ne);else{var oe,ue=g[_+0],me=ue,Ne=ue;for(oe=0;oe<ne;++oe)me=Ne+(ue=g[_+oe])-me,Ne=R[V+oe]+(-256&me?0>me?0:255:me)&255,me=ue,Y[ee+oe]=Ne}}function yi(g,_,R,V){var Y=_.width,ee=_.o;if(e(g!=null&&_!=null),0>R||0>=V||R+V>ee)return null;if(!g.Cc){if(g.ga==null){var ne;if(g.ga=new Ln,(ne=g.ga==null)||(ne=_.width*_.o,e(g.Gb.length==0),g.Gb=s(ne),g.Uc=0,g.Gb==null?ne=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ne=1),ne=!ne),!ne){ne=g.ga;var oe=g.Fa,ue=g.P,me=g.qc,Ne=g.mb,ze=g.nb,ve=ue+1,Le=me-1,Ve=ne.l;if(e(oe!=null&&Ne!=null&&_!=null),xs[0]=null,xs[1]=$r,xs[2]=Yn,xs[3]=gn,ne.ca=Ne,ne.tb=ze,ne.c=_.width,ne.i=_.height,e(0<ne.c&&0<ne.i),1>=me)_=0;else if(ne.$a=3&oe[ue+0],ne.Z=oe[ue+0]>>2&3,ne.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ue)_=0;else if(Ve.put=nr,Ve.ac=vi,Ve.bc=en,Ve.ma=ne,Ve.width=_.width,Ve.height=_.height,Ve.Da=_.Da,Ve.v=_.v,Ve.va=_.va,Ve.j=_.j,Ve.o=_.o,ne.$a)e:{e(ne.$a==1),_=qe();t:for(;;){if(_==null){_=0;break e}if(e(ne!=null),ne.mc=_,_.c=ne.c,_.i=ne.i,_.l=ne.l,_.l.ma=ne,_.l.width=ne.c,_.l.height=ne.i,_.a=0,te(_.m,oe,ve,Le),!He(ne.c,ne.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&he(_.s)?(ne.ic=1,oe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(oe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ne.ic=0,_=Ke(_,ne.c)),!_))break t;_=1;break e}ne.mc=null,_=0}else _=Le>=ne.c*ne.i;ne=!_}if(ne)return null;g.ga.Lc!=1?g.Ga=0:V=ee-R}e(g.ga!=null),e(R+V<=ee);e:{if(_=(oe=g.ga).c,ee=oe.l.o,oe.$a==0){if(ve=g.rc,Le=g.Vc,Ve=g.Fa,ue=g.P+1+R*_,me=g.mb,Ne=g.nb+R*_,e(ue<=g.P+g.qc),oe.Z!=0)for(e(xs[oe.Z]!=null),ne=0;ne<V;++ne)xs[oe.Z](ve,Le,Ve,ue,me,Ne,_),ve=me,Le=Ne,Ne+=_,ue+=_;else for(ne=0;ne<V;++ne)n(me,Ne,Ve,ue,_),ve=me,Le=Ne,Ne+=_,ue+=_;g.rc=ve,g.Vc=Le}else{if(e(oe.mc!=null),_=R+V,e((ne=oe.mc)!=null),e(_<=ne.i),ne.C>=_)_=1;else if(oe.ic||oi(),oe.ic){oe=ne.V,ve=ne.Ba,Le=ne.c;var st=ne.i,Ge=(Ve=1,ue=ne.$/Le,me=ne.$%Le,Ne=ne.m,ze=ne.s,ne.$),rt=Le*st,it=Le*_,lt=ze.wc,ct=Ge<it?J(ze,me,ue):null;e(Ge<=rt),e(_<=st),e(he(ze));t:for(;;){for(;!Ne.h&&Ge<it;){if(me&lt||(ct=J(ze,me,ue)),e(ct!=null),pe(Ne),256>(st=cn(ct.G[0],ct.H[0],Ne)))oe[ve+Ge]=st,++Ge,++me>=Le&&(me=0,++ue<=_&&!(ue%16)&&we(ne,ue));else{if(!(280>st)){Ve=0;break t}st=An(st-256,Ne);var Jt,zt=cn(ct.G[4],ct.H[4],Ne);if(pe(Ne),!(Ge>=(zt=xi(Le,zt=An(zt,Ne)))&&rt-Ge>=st)){Ve=0;break t}for(Jt=0;Jt<st;++Jt)oe[ve+Ge+Jt]=oe[ve+Ge+Jt-zt];for(Ge+=st,me+=st;me>=Le;)me-=Le,++ue<=_&&!(ue%16)&&we(ne,ue);Ge<it&&me&lt&&(ct=J(ze,me,ue))}e(Ne.h==K(Ne))}we(ne,ue>_?_:ue);break t}!Ve||Ne.h&&Ge<rt?(Ve=0,ne.a=Ne.h?5:3):ne.$=Ge,_=Ve}else _=je(ne,ne.V,ne.Ba,ne.c,ne.i,_,ht);if(!_){V=0;break e}}R+V>=ee&&(g.Cc=1),V=1}if(!V)return null;if(g.Cc&&((V=g.ga)!=null&&(V.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+R*Y}function za(g,_,R,V,Y,ee){for(;0<Y--;){var ne,oe=g,ue=_+(R?1:0),me=g,Ne=_+(R?0:3);for(ne=0;ne<V;++ne){var ze=me[Ne+4*ne];ze!=255&&(ze*=32897,oe[ue+4*ne+0]=oe[ue+4*ne+0]*ze>>23,oe[ue+4*ne+1]=oe[ue+4*ne+1]*ze>>23,oe[ue+4*ne+2]=oe[ue+4*ne+2]*ze>>23)}_+=ee}}function oo(g,_,R,V,Y){for(;0<V--;){var ee;for(ee=0;ee<R;++ee){var ne=g[_+2*ee+0],oe=15&(me=g[_+2*ee+1]),ue=4369*oe,me=(240&me|me>>4)*ue>>16;g[_+2*ee+0]=(240&ne|ne>>4)*ue>>16&240|(15&ne|ne<<4)*ue>>16>>4&15,g[_+2*ee+1]=240&me|oe}_+=Y}}function uc(g,_,R,V,Y,ee,ne,oe){var ue,me,Ne=255;for(me=0;me<Y;++me){for(ue=0;ue<V;++ue){var ze=g[_+ue];ee[ne+4*ue]=ze,Ne&=ze}_+=R,ne+=oe}return Ne!=255}function Zo(g,_,R,V,Y){var ee;for(ee=0;ee<Y;++ee)R[V+ee]=g[_+ee]>>8}function oi(){pc=za,E0=oo,wf=uc,T0=Zo}function ea(g,_,R){b[g]=function(V,Y,ee,ne,oe,ue,me,Ne,ze,ve,Le,Ve,st,Ge,rt,it,lt){var ct,Jt=lt-1>>1,zt=oe[ue+0]|me[Ne+0]<<16,Tr=ze[ve+0]|Le[Ve+0]<<16;e(V!=null);var Gt=3*zt+Tr+131074>>2;for(_(V[Y+0],255&Gt,Gt>>16,st,Ge),ee!=null&&(Gt=3*Tr+zt+131074>>2,_(ee[ne+0],255&Gt,Gt>>16,rt,it)),ct=1;ct<=Jt;++ct){var Or=oe[ue+ct]|me[Ne+ct]<<16,Jn=ze[ve+ct]|Le[Ve+ct]<<16,br=zt+Or+Tr+Jn+524296,qt=br+2*(Or+Tr)>>3;Gt=qt+zt>>1,zt=(br=br+2*(zt+Jn)>>3)+Or>>1,_(V[Y+2*ct-1],255&Gt,Gt>>16,st,Ge+(2*ct-1)*R),_(V[Y+2*ct-0],255&zt,zt>>16,st,Ge+(2*ct-0)*R),ee!=null&&(Gt=br+Tr>>1,zt=qt+Jn>>1,_(ee[ne+2*ct-1],255&Gt,Gt>>16,rt,it+(2*ct-1)*R),_(ee[ne+2*ct+0],255&zt,zt>>16,rt,it+(2*ct+0)*R)),zt=Or,Tr=Jn}1&lt||(Gt=3*zt+Tr+131074>>2,_(V[Y+lt-1],255&Gt,Gt>>16,st,Ge+(lt-1)*R),ee!=null&&(Gt=3*Tr+zt+131074>>2,_(ee[ne+lt-1],255&Gt,Gt>>16,rt,it+(lt-1)*R)))}}function Cl(){aa[Oh]=jv,aa[Fl]=Dl,aa[B1]=Uv,aa[Ef]=cu,aa[Tf]=xc,aa[yn]=If,aa[Mh]=R0,aa[au]=Dl,aa[mc]=cu,aa[bf]=xc,aa[Af]=If}function Ds(g){return g&-16384?0>g?0:255:g>>Ol}function v(g,_){return Ds((19077*g>>8)+(26149*_>>8)-14234)}function L(g,_,R){return Ds((19077*g>>8)-(6419*_>>8)-(13320*R>>8)+8708)}function H(g,_){return Ds((19077*g>>8)+(33050*_>>8)-17685)}function le(g,_,R,V,Y){V[Y+0]=v(g,R),V[Y+1]=L(g,_,R),V[Y+2]=H(g,_)}function Be(g,_,R,V,Y){V[Y+0]=H(g,_),V[Y+1]=L(g,_,R),V[Y+2]=v(g,R)}function et(g,_,R,V,Y){var ee=L(g,_,R);_=ee<<3&224|H(g,_)>>3,V[Y+0]=248&v(g,R)|ee>>5,V[Y+1]=_}function xt(g,_,R,V,Y){var ee=240&H(g,_)|15;V[Y+0]=240&v(g,R)|L(g,_,R)>>4,V[Y+1]=ee}function Yr(g,_,R,V,Y){V[Y+0]=255,le(g,_,R,V,Y+1)}function Bn(g,_,R,V,Y){Be(g,_,R,V,Y),V[Y+3]=255}function Rr(g,_,R,V,Y){le(g,_,R,V,Y),V[Y+3]=255}function Dr(g,_){return 0>g?0:g>_?_:g}function tn(g,_,R){b[g]=function(V,Y,ee,ne,oe,ue,me,Ne,ze){for(var ve=Ne+(-2&ze)*R;Ne!=ve;)_(V[Y+0],ee[ne+0],oe[ue+0],me,Ne),_(V[Y+1],ee[ne+0],oe[ue+0],me,Ne+R),Y+=2,++ne,++ue,Ne+=2*R;1&ze&&_(V[Y+0],ee[ne+0],oe[ue+0],me,Ne)}}function vs(g,_,R){return R==0?g==0?_==0?6:5:_==0?4:0:R}function ss(g,_,R,V,Y){switch(g>>>30){case 3:ci(_,R,V,Y,0);break;case 2:Ri(_,R,V,Y);break;case 1:co(_,R,V,Y)}}function ta(g,_){var R,V,Y=_.M,ee=_.Nb,ne=g.oc,oe=g.pc+40,ue=g.oc,me=g.pc+584,Ne=g.oc,ze=g.pc+600;for(R=0;16>R;++R)ne[oe+32*R-1]=129;for(R=0;8>R;++R)ue[me+32*R-1]=129,Ne[ze+32*R-1]=129;for(0<Y?ne[oe-1-32]=ue[me-1-32]=Ne[ze-1-32]=129:(i(ne,oe-32-1,127,21),i(ue,me-32-1,127,9),i(Ne,ze-32-1,127,9)),V=0;V<g.za;++V){var ve=_.ya[_.aa+V];if(0<V){for(R=-1;16>R;++R)n(ne,oe+32*R-4,ne,oe+32*R+12,4);for(R=-1;8>R;++R)n(ue,me+32*R-4,ue,me+32*R+4,4),n(Ne,ze+32*R-4,Ne,ze+32*R+4,4)}var Le=g.Gd,Ve=g.Hd+V,st=ve.ad,Ge=ve.Hc;if(0<Y&&(n(ne,oe-32,Le[Ve].y,0,16),n(ue,me-32,Le[Ve].f,0,8),n(Ne,ze-32,Le[Ve].ea,0,8)),ve.Za){var rt=ne,it=oe-32+16;for(0<Y&&(V>=g.za-1?i(rt,it,Le[Ve].y[15],4):n(rt,it,Le[Ve+1].y,0,4)),R=0;4>R;R++)rt[it+128+R]=rt[it+256+R]=rt[it+384+R]=rt[it+0+R];for(R=0;16>R;++R,Ge<<=2)rt=ne,it=oe+L0[R],Ha[ve.Ob[R]](rt,it),ss(Ge,st,16*+R,rt,it)}else if(rt=vs(V,Y,ve.Ob[0]),js[rt](ne,oe),Ge!=0)for(R=0;16>R;++R,Ge<<=2)ss(Ge,st,16*+R,ne,oe+L0[R]);for(R=ve.Gc,rt=vs(V,Y,ve.Dd),sa[rt](ue,me),sa[rt](Ne,ze),Ge=st,rt=ue,it=me,255&(ve=0|R)&&(170&ve?Lo(Ge,256,rt,it):nu(Ge,256,rt,it)),ve=Ne,Ge=ze,255&(R>>=8)&&(170&R?Lo(st,320,ve,Ge):nu(st,320,ve,Ge)),Y<g.Ub-1&&(n(Le[Ve].y,0,ne,oe+480,16),n(Le[Ve].f,0,ue,me+224,8),n(Le[Ve].ea,0,Ne,ze+224,8)),R=8*ee*g.B,Le=g.sa,Ve=g.ta+16*V+16*ee*g.R,st=g.qa,ve=g.ra+8*V+R,Ge=g.Ha,rt=g.Ia+8*V+R,R=0;16>R;++R)n(Le,Ve+R*g.R,ne,oe+32*R,16);for(R=0;8>R;++R)n(st,ve+R*g.B,ue,me+32*R,8),n(Ge,rt+R*g.B,Ne,ze+32*R,8)}}function lo(g,_,R,V,Y,ee,ne,oe,ue){var me=[0],Ne=[0],ze=0,ve=ue!=null?ue.kd:0,Le=ue??new ar;if(g==null||12>R)return 7;Le.data=g,Le.w=_,Le.ha=R,_=[_],R=[R],Le.gb=[Le.gb];e:{var Ve=_,st=R,Ge=Le.gb;if(e(g!=null),e(st!=null),e(Ge!=null),Ge[0]=0,12<=st[0]&&!t(g,Ve[0],"RIFF")){if(t(g,Ve[0]+8,"WEBP")){Ge=3;break e}var rt=Re(g,Ve[0]+4);if(12>rt||4294967286<rt){Ge=3;break e}if(ve&&rt>st[0]-8){Ge=7;break e}Ge[0]=rt,Ve[0]+=12,st[0]-=12}Ge=0}if(Ge!=0)return Ge;for(rt=0<Le.gb[0],R=R[0];;){e:{var it=g;st=_,Ge=R;var lt=me,ct=Ne,Jt=Ve=[0];if((Gt=ze=[ze])[0]=0,8>Ge[0])Ge=7;else{if(!t(it,st[0],"VP8X")){if(Re(it,st[0]+4)!=10){Ge=3;break e}if(18>Ge[0]){Ge=7;break e}var zt=Re(it,st[0]+8),Tr=1+at(it,st[0]+12);if(2147483648<=Tr*(it=1+at(it,st[0]+15))){Ge=3;break e}Jt!=null&&(Jt[0]=zt),lt!=null&&(lt[0]=Tr),ct!=null&&(ct[0]=it),st[0]+=18,Ge[0]-=18,Gt[0]=1}Ge=0}}if(ze=ze[0],Ve=Ve[0],Ge!=0)return Ge;if(st=!!(2&Ve),!rt&&ze)return 3;if(ee!=null&&(ee[0]=!!(16&Ve)),ne!=null&&(ne[0]=st),oe!=null&&(oe[0]=0),ne=me[0],Ve=Ne[0],ze&&st&&ue==null){Ge=0;break}if(4>R){Ge=7;break}if(rt&&ze||!rt&&!ze&&!t(g,_[0],"ALPH")){R=[R],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{zt=g,Ge=_,rt=R;var Gt=Le.gb;lt=Le.na,ct=Le.P,Jt=Le.Sa,Tr=22,e(zt!=null),e(rt!=null),it=Ge[0];var Or=rt[0];for(e(lt!=null),e(Jt!=null),lt[0]=null,ct[0]=null,Jt[0]=0;;){if(Ge[0]=it,rt[0]=Or,8>Or){Ge=7;break e}var Jn=Re(zt,it+4);if(4294967286<Jn){Ge=3;break e}var br=8+Jn+1&-2;if(Tr+=br,0<Gt&&Tr>Gt){Ge=3;break e}if(!t(zt,it,"VP8 ")||!t(zt,it,"VP8L")){Ge=0;break e}if(Or[0]<br){Ge=7;break e}t(zt,it,"ALPH")||(lt[0]=zt,ct[0]=it+8,Jt[0]=Jn),it+=br,Or-=br}}if(R=R[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ge!=0)break}R=[R],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Gt=g,Ge=_,rt=R,lt=Le.gb[0],ct=Le.Ja,Jt=Le.xa,zt=Ge[0],it=!t(Gt,zt,"VP8 "),Tr=!t(Gt,zt,"VP8L"),e(Gt!=null),e(rt!=null),e(ct!=null),e(Jt!=null),8>rt[0])Ge=7;else{if(it||Tr){if(Gt=Re(Gt,zt+4),12<=lt&&Gt>lt-12){Ge=3;break e}if(ve&&Gt>rt[0]-8){Ge=7;break e}ct[0]=Gt,Ge[0]+=8,rt[0]-=8,Jt[0]=Tr}else Jt[0]=5<=rt[0]&&Gt[zt+0]==47&&!(Gt[zt+4]>>5),ct[0]=rt[0];Ge=0}if(R=R[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],_=_[0],Ge!=0)break;if(4294967286<Le.Ja)return 3;if(oe==null||st||(oe[0]=Le.xa?2:1),ne=[ne],Ve=[Ve],Le.xa){if(5>R){Ge=7;break}oe=ne,ve=Ve,st=ee,g==null||5>R?g=0:5<=R&&g[_+0]==47&&!(g[_+4]>>5)?(rt=[0],Gt=[0],lt=[0],te(ct=new U,g,_,R),ps(ct,rt,Gt,lt)?(oe!=null&&(oe[0]=rt[0]),ve!=null&&(ve[0]=Gt[0]),st!=null&&(st[0]=lt[0]),g=1):g=0):g=0}else{if(10>R){Ge=7;break}oe=Ve,g==null||10>R||!lc(g,_+3,R-3)?g=0:(ve=g[_+0]|g[_+1]<<8|g[_+2]<<16,st=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Le.Ja||!st||!g?g=0:(ne&&(ne[0]=st),oe&&(oe[0]=g),g=1))}if(!g||(ne=ne[0],Ve=Ve[0],ze&&(me[0]!=ne||Ne[0]!=Ve)))return 3;ue!=null&&(ue[0]=Le,ue.offset=_-ue.w,e(4294967286>_-ue.w),e(ue.offset==ue.ha-R));break}return Ge==0||Ge==7&&ze&&ue==null?(ee!=null&&(ee[0]|=Le.na!=null&&0<Le.na.length),V!=null&&(V[0]=ne),Y!=null&&(Y[0]=Ve),0):Ge}function Os(g,_,R){var V=_.width,Y=_.height,ee=0,ne=0,oe=V,ue=Y;if(_.Da=g!=null&&0<g.Da,_.Da&&(oe=g.cd,ue=g.bd,ee=g.v,ne=g.j,11>R||(ee&=-2,ne&=-2),0>ee||0>ne||0>=oe||0>=ue||ee+oe>V||ne+ue>Y))return 0;if(_.v=ee,_.j=ne,_.va=ee+oe,_.o=ne+ue,_.U=oe,_.T=ue,_.da=g!=null&&0<g.da,_.da){if(!nt(oe,ue,R=[g.ib],ee=[g.hb]))return 0;_.ib=R[0],_.hb=ee[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*V/4&&_.hb<3*Y/4,_.Kb=0),1}function Ms(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Nl(g,_,R,V){if(V==null||0>=g||0>=_)return 2;if(R!=null){if(R.Da){var Y=R.cd,ee=R.bd,ne=-2&R.v,oe=-2&R.j;if(0>ne||0>oe||0>=Y||0>=ee||ne+Y>g||oe+ee>_)return 2;g=Y,_=ee}if(R.da){if(!nt(g,_,Y=[R.ib],ee=[R.hb]))return 2;g=Y[0],_=ee[0]}}V.width=g,V.height=_;e:{var ue=V.width,me=V.height;if(g=V.S,0>=ue||0>=me||!(g>=Oh&&13>g))g=2;else{if(0>=V.Rd&&V.sd==null){ne=ee=Y=_=0;var Ne=(oe=ue*Cf[g])*me;if(11>g||(ee=(me+1)/2*(_=(ue+1)/2),g==12&&(ne=(Y=ue)*me)),(me=s(Ne+2*ee+ne))==null){g=1;break e}V.sd=me,11>g?((ue=V.f.RGBA).eb=me,ue.fb=0,ue.A=oe,ue.size=Ne):((ue=V.f.kb).y=me,ue.O=0,ue.fa=oe,ue.Fd=Ne,ue.f=me,ue.N=0+Ne,ue.Ab=_,ue.Cd=ee,ue.ea=me,ue.W=0+Ne+ee,ue.Db=_,ue.Ed=ee,g==12&&(ue.F=me,ue.J=0+Ne+2*ee),ue.Tc=ne,ue.lb=Y)}if(_=1,Y=V.S,ee=V.width,ne=V.height,Y>=Oh&&13>Y)if(11>Y)g=V.f.RGBA,_&=(oe=Math.abs(g.A))*(ne-1)+ee<=g.size,_&=oe>=ee*Cf[Y],_&=g.eb!=null;else{g=V.f.kb,oe=(ee+1)/2,Ne=(ne+1)/2,ue=Math.abs(g.fa),me=Math.abs(g.Ab);var ze=Math.abs(g.Db),ve=Math.abs(g.lb),Le=ve*(ne-1)+ee;_&=ue*(ne-1)+ee<=g.Fd,_&=me*(Ne-1)+oe<=g.Cd,_=(_&=ze*(Ne-1)+oe<=g.Ed)&ue>=ee&me>=oe&ze>=oe,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,Y==12&&(_&=ve>=ee,_&=Le<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||R!=null&&R.fd&&(g=Ms(V)),g}var Bs=64,Pl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yf=24,Rl=32,Qn=8,Rh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ut("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(g){return g},b.Predictor2=function(g,_,R){return _[R+0]},b.Predictor3=function(g,_,R){return _[R+1]},b.Predictor4=function(g,_,R){return _[R-1]},b.Predictor5=function(g,_,R){return Rt(Rt(g,_[R+1]),_[R+0])},b.Predictor6=function(g,_,R){return Rt(g,_[R-1])},b.Predictor7=function(g,_,R){return Rt(g,_[R+0])},b.Predictor8=function(g,_,R){return Rt(_[R-1],_[R+0])},b.Predictor9=function(g,_,R){return Rt(_[R+0],_[R+1])},b.Predictor10=function(g,_,R){return Rt(Rt(g,_[R-1]),Rt(_[R+0],_[R+1]))},b.Predictor11=function(g,_,R){var V=_[R+0];return 0>=bt(V>>24&255,g>>24&255,(_=_[R-1])>>24&255)+bt(V>>16&255,g>>16&255,_>>16&255)+bt(V>>8&255,g>>8&255,_>>8&255)+bt(255&V,255&g,255&_)?V:g},b.Predictor12=function(g,_,R){var V=_[R+0];return(Bt((g>>24&255)+(V>>24&255)-((_=_[R-1])>>24&255))<<24|Bt((g>>16&255)+(V>>16&255)-(_>>16&255))<<16|Bt((g>>8&255)+(V>>8&255)-(_>>8&255))<<8|Bt((255&g)+(255&V)-(255&_)))>>>0},b.Predictor13=function(g,_,R){var V=_[R-1];return(Ot((g=Rt(g,_[R+0]))>>24&255,V>>24&255)<<24|Ot(g>>16&255,V>>16&255)<<16|Ot(g>>8&255,V>>8&255)<<8|Ot(255&g,255&V))>>>0};var ra=b.PredictorAdd0;b.PredictorAdd1=Vt,ut("Predictor2","PredictorAdd2"),ut("Predictor3","PredictorAdd3"),ut("Predictor4","PredictorAdd4"),ut("Predictor5","PredictorAdd5"),ut("Predictor6","PredictorAdd6"),ut("Predictor7","PredictorAdd7"),ut("Predictor8","PredictorAdd8"),ut("Predictor9","PredictorAdd9"),ut("Predictor10","PredictorAdd10"),ut("Predictor11","PredictorAdd11"),ut("Predictor12","PredictorAdd12"),ut("Predictor13","PredictorAdd13");var na=b.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var eu,Ll=b.ColorIndexInverseTransform,tu=b.MapARGB,fc=b.VP8LColorIndexInverseTransformAlpha,el=b.MapAlpha,tl=b.VP8LPredictorsAdd=[];tl.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var Po,ru,ia,Ro,kn,In,li,ci,Ri,Lo,co,nu,y0,_0,Lh,O1,M1,hc,Fh,iu,Dh,w0,_f,dc,pc,E0,wf,T0,b0=s(511),A0=s(2041),S0=s(225),k0=s(767),I0=0,Fo=A0,su=S0,Vs=k0,qa=b0,Oh=0,Fl=1,B1=2,Ef=3,Tf=4,yn=5,Mh=6,au=7,mc=8,bf=9,Af=10,Sf=[2,3,7],Bh=[3,3,11],gc=[280,256,256,256,40],V1=[0,1,1,1,0],Ov=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],j1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vh=8,ou=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vc=null,C0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],N0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],U1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],z1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],P0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],js=[],Ha=[],sa=[],Do=1,lu=2,xs=[],aa=[];ea("UpsampleRgbLinePair",le,3),ea("UpsampleBgrLinePair",Be,3),ea("UpsampleRgbaLinePair",Rr,4),ea("UpsampleBgraLinePair",Bn,4),ea("UpsampleArgbLinePair",Yr,4),ea("UpsampleRgba4444LinePair",xt,2),ea("UpsampleRgb565LinePair",et,2);var jv=b.UpsampleRgbLinePair,Uv=b.UpsampleBgrLinePair,Dl=b.UpsampleRgbaLinePair,cu=b.UpsampleBgraLinePair,xc=b.UpsampleArgbLinePair,If=b.UpsampleRgba4444LinePair,R0=b.UpsampleRgb565LinePair,rl=16,uo=1<<rl-1,pn=-227,vn=482,Ol=6,as=0,oa=s(256),yc=s(256),uu=s(256),la=s(256),jh=s(vn-pn),q1=s(vn-pn);tn("YuvToRgbRow",le,3),tn("YuvToBgrRow",Be,3),tn("YuvToRgbaRow",Rr,4),tn("YuvToBgraRow",Bn,4),tn("YuvToArgbRow",Yr,4),tn("YuvToRgba4444Row",xt,2),tn("YuvToRgb565Row",et,2);var L0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_c=[0,2,8],H1=[8,7,6,4,4,2,2,2,1,1,1,1],nl=1;this.WebPDecodeRGBA=function(g,_,R,V,Y){var ee=Fl,ne=new Ut,oe=new Nr;ne.ba=oe,oe.S=ee,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,me=oe.height,Ne=new ir;if(Ne==null||g==null)var ze=2;else e(Ne!=null),ze=lo(g,_,R,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(ze!=0?ue=0:(ue!=null&&(ue[0]=Ne.width[0]),me!=null&&(me[0]=Ne.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],V!=null&&(V[0]=oe.width),Y!=null&&(Y[0]=oe.height);e:{if(V=new un,(Y=new ar).data=g,Y.w=_,Y.ha=R,Y.kd=1,_=[0],e(Y!=null),((g=lo(Y.data,Y.w,Y.ha,null,null,null,_,null,Y))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(ne!=null),V.data=Y.data,V.w=Y.w+Y.offset,V.ha=Y.ha-Y.offset,V.put=nr,V.ac=vi,V.bc=en,V.ma=ne,Y.xa){if((g=qe())==null){ne=1;break e}if((function(ve,Le){var Ve=[0],st=[0],Ge=[0];t:for(;;){if(ve==null)return 0;if(Le==null)return ve.a=2,0;if(ve.l=Le,ve.a=0,te(ve.m,Le.data,Le.w,Le.ha),!ps(ve.m,Ve,st,Ge)){ve.a=3;break t}if(ve.xb=lu,Le.width=Ve[0],Le.height=st[0],!He(Ve[0],st[0],1,ve,null))break t;return 1}return e(ve.a!=0),0})(g,V)){if(V=(_=Nl(V.width,V.height,ne.Oa,ne.ba))==0){t:{V=g;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((R=V.l)!=null),e((Y=R.ma)!=null),V.xb!=0){if(V.ca=Y.ba,V.tb=Y.tb,e(V.ca!=null),!Os(Y.Oa,R,Ef)){V.a=2;break r}if(!Ke(V,R.width)||R.da)break r;if((R.da||lr(V.ca.S))&&oi(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&oi()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!G(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!je(V,V.V,V.Ba,V.c,V.i,R.o,fe))break r;Y.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(_=g.a)}else _=g.a}else{if((g=new oc)==null){ne=1;break e}if(g.Fa=Y.na,g.P=Y.P,g.qc=Y.Sa,Xo(g,V)){if((_=Nl(V.width,V.height,ne.Oa,ne.ba))==0){if(g.Aa=0,R=ne.Oa,e((Y=g)!=null),R!=null){if(0<(ue=0>(ue=R.Md)?0:100<ue?255:255*ue/100)){for(me=Ne=0;4>me;++me)12>(ze=Y.pb[me]).lc&&(ze.ia=ue*H1[0>ze.lc?0:ze.lc]>>3),Ne|=ze.ia;Ne&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=R.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(ve,Le){if(ve==null)return 0;if(Le==null)return Hn(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!Xo(ve,Le))return 0;if(e(ve.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(ve.L=0);var Ve=_c[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Le.v-Ve>>4,ve.zb=Le.j-Ve>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Le.o+15+Ve>>4,ve.Hb=Le.va+15+Ve>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var st=ve.ed;for(Ve=0;4>Ve;++Ve){var Ge;if(ve.Qa.Cb){var rt=ve.Qa.Lb[Ve];ve.Qa.Fb||(rt+=st.Tb)}else rt=st.Tb;for(Ge=0;1>=Ge;++Ge){var it=ve.gd[Ve][Ge],lt=rt;if(st.Pc&&(lt+=st.vd[0],Ge&&(lt+=st.od[0])),0<(lt=0>lt?0:63<lt?63:lt)){var ct=lt;0<st.wb&&(ct=4<st.wb?ct>>2:ct>>1)>9-st.wb&&(ct=9-st.wb),1>ct&&(ct=1),it.dd=ct,it.tc=2*lt+ct,it.ld=40<=lt?2:15<=lt?1:0}else it.tc=0;it.La=Ge}}}Ve=0}else Hn(ve,6,"Frame setup failed"),Ve=ve.a;if(Ve=Ve==0){if(Ve){ve.$c=0,0<ve.Aa||(ve.Ic=nl);t:{Ve=ve.Ic,st=4*(ct=ve.za);var Jt=32*ct,zt=ct+1,Tr=0<ve.L?ct*(0<ve.Aa?2:1):0,Gt=(ve.Aa==2?2:1)*ct;if((it=st+832+(Ge=3*(16*Ve+_c[ve.L])/2*Jt)+(rt=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=it)Ve=0;else{if(it>ve.Vb){if(ve.Vb=0,ve.Ec=s(it),ve.Fc=0,ve.Ec==null){Ve=Hn(ve,1,"no memory during frame initialization.");break t}ve.Vb=it}it=ve.Ec,lt=ve.Fc,ve.Ac=it,ve.Bc=lt,lt+=st,ve.Gd=a(Jt,Mn),ve.Hd=0,ve.rb=a(zt+1,Gr),ve.sb=1,ve.wa=Tr?a(Tr,Er):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=ct),e(!0),ve.oc=it,ve.pc=lt,lt+=832,ve.ya=a(Gt,Xs),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=ct),ve.R=16*ct,ve.B=8*ct,ct=(Jt=_c[ve.L])*ve.R,Jt=Jt/2*ve.B,ve.sa=it,ve.ta=lt+ct,ve.qa=ve.sa,ve.ra=ve.ta+16*Ve*ve.R+Jt,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Ve*ve.B+Jt,ve.$c=0,lt+=Ge,ve.mb=rt?it:null,ve.nb=rt?lt:null,e(lt+rt<=ve.Fc+ve.Vb),Qs(ve),i(ve.Ac,ve.Bc,0,st),Ve=1}}if(Ve){if(Le.ka=0,Le.y=ve.sa,Le.O=ve.ta,Le.f=ve.qa,Le.N=ve.ra,Le.ea=ve.Ha,Le.Vd=ve.Ia,Le.fa=ve.R,Le.Rc=ve.B,Le.F=null,Le.J=0,!I0){for(Ve=-255;255>=Ve;++Ve)b0[255+Ve]=0>Ve?-Ve:Ve;for(Ve=-1020;1020>=Ve;++Ve)A0[1020+Ve]=-128>Ve?-128:127<Ve?127:Ve;for(Ve=-112;112>=Ve;++Ve)S0[112+Ve]=-16>Ve?-16:15<Ve?15:Ve;for(Ve=-255;510>=Ve;++Ve)k0[255+Ve]=0>Ve?0:255<Ve?255:Ve;I0=1}li=Pr,ci=So,Lo=ko,co=Fr,nu=ro,Ri=Qo,y0=I,_0=X,Lh=Oe,O1=ot,M1=ge,hc=Ie,Fh=ft,iu=Dt,Dh=is,w0=Ua,_f=zi,dc=Jo,Ha[0]=xf,Ha[1]=Al,Ha[2]=Js,Ha[3]=Va,Ha[4]=Jc,Ha[5]=io,Ha[6]=Xn,Ha[7]=Zc,Ha[8]=ja,Ha[9]=so,js[0]=ts,js[1]=Yc,js[2]=Qc,js[3]=kl,js[4]=Ni,js[5]=rs,js[6]=Fs,sa[0]=Zs,sa[1]=Sl,sa[2]=Il,sa[3]=ns,sa[4]=mn,sa[5]=Io,sa[6]=cc,Ve=1}else Ve=0}Ve&&(Ve=(function(Or,Jn){for(Or.M=0;Or.M<Or.Va;++Or.M){var br,qt=Or.Jc[Or.M&Or.Xb],kt=Or.m,ui=Or;for(br=0;br<ui.za;++br){var mr=kt,Lr=ui,Cn=Lr.Ac,Hi=Lr.Bc+4*br,_i=Lr.zc,Wn=Lr.ya[Lr.aa+br];if(Lr.Qa.Bb?Wn.$b=Ae(mr,Lr.Pa.jb[0])?2+Ae(mr,Lr.Pa.jb[2]):Ae(mr,Lr.Pa.jb[1]):Wn.$b=0,Lr.kc&&(Wn.Ad=Ae(mr,Lr.Bd)),Wn.Za=!Ae(mr,145)+0,Wn.Za){var Li=Wn.Ob,Wi=0;for(Lr=0;4>Lr;++Lr){var Vn,jr=_i[0+Lr];for(Vn=0;4>Vn;++Vn){jr=Bv[Cn[Hi+Vn]][jr];for(var rn=U1[Ae(mr,jr[0])];0<rn;)rn=U1[2*rn+Ae(mr,jr[rn])];jr=-rn,Cn[Hi+Vn]=jr}n(Li,Wi,Cn,Hi,4),Wi+=4,_i[0+Lr]=jr}}else jr=Ae(mr,156)?Ae(mr,128)?1:3:Ae(mr,163)?2:0,Wn.Ob[0]=jr,i(Cn,Hi,jr,4),i(_i,0,jr,4);Wn.Dd=Ae(mr,142)?Ae(mr,114)?Ae(mr,183)?1:3:2:0}if(ui.m.Ka)return Hn(Or,7,"Premature end-of-partition0 encountered.");for(;Or.ja<Or.za;++Or.ja){if(ui=qt,mr=(kt=Or).rb[kt.sb-1],Cn=kt.rb[kt.sb+kt.ja],br=kt.ya[kt.aa+kt.ja],Hi=kt.kc?br.Ad:0)mr.la=Cn.la=0,br.Za||(mr.Na=Cn.Na=0),br.Hc=0,br.Gc=0,br.ia=0;else{var jn,nn;if(mr=Cn,Cn=ui,Hi=kt.Pa.Xc,_i=kt.ya[kt.aa+kt.ja],Wn=kt.pb[_i.$b],Lr=_i.ad,Li=0,Wi=kt.rb[kt.sb-1],jr=Vn=0,i(Lr,Li,0,384),_i.Za)var Zn=0,ei=Hi[3];else{rn=s(16);var _n=mr.Na+Wi.Na;if(_n=vc(Cn,Hi[1],_n,Wn.Eb,0,rn,0),mr.Na=Wi.Na=(0<_n)+0,1<_n)li(rn,0,Lr,Li);else{var ys=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)Lr[Li+rn]=ys}Zn=1,ei=Hi[0]}var xn=15&mr.la,wn=15&Wi.la;for(rn=0;4>rn;++rn){var wi=1&wn;for(ys=nn=0;4>ys;++ys)xn=xn>>1|(wi=(_n=vc(Cn,ei,_n=wi+(1&xn),Wn.Sc,Zn,Lr,Li))>Zn)<<7,nn=nn<<2|(3<_n?3:1<_n?2:Lr[Li+0]!=0),Li+=16;xn>>=4,wn=wn>>1|wi<<7,Vn=(Vn<<8|nn)>>>0}for(ei=xn,Zn=wn>>4,jn=0;4>jn;jn+=2){for(nn=0,xn=mr.la>>4+jn,wn=Wi.la>>4+jn,rn=0;2>rn;++rn){for(wi=1&wn,ys=0;2>ys;++ys)_n=wi+(1&xn),xn=xn>>1|(wi=0<(_n=vc(Cn,Hi[2],_n,Wn.Qc,0,Lr,Li)))<<3,nn=nn<<2|(3<_n?3:1<_n?2:Lr[Li+0]!=0),Li+=16;xn>>=2,wn=wn>>1|wi<<5}jr|=nn<<4*jn,ei|=xn<<4<<jn,Zn|=(240&wn)<<jn}mr.la=ei,Wi.la=Zn,_i.Hc=Vn,_i.Gc=jr,_i.ia=43690&jr?0:Wn.ia,Hi=!(Vn|jr)}if(0<kt.L&&(kt.wa[kt.Y+kt.ja]=kt.gd[br.$b][br.Za],kt.wa[kt.Y+kt.ja].La|=!Hi),ui.Ka)return Hn(Or,7,"Premature end-of-file encountered.")}if(Qs(Or),kt=Jn,ui=1,br=(qt=Or).D,mr=0<qt.L&&qt.M>=qt.zb&&qt.M<=qt.Va,qt.Aa==0)t:{if(br.M=qt.M,br.uc=mr,ta(qt,br),ui=1,br=(nn=qt.D).Nb,mr=(jr=_c[qt.L])*qt.R,Cn=jr/2*qt.B,rn=16*br*qt.R,ys=8*br*qt.B,Hi=qt.sa,_i=qt.ta-mr+rn,Wn=qt.qa,Lr=qt.ra-Cn+ys,Li=qt.Ha,Wi=qt.Ia-Cn+ys,wn=(xn=nn.M)==0,Vn=xn>=qt.Va-1,qt.Aa==2&&ta(qt,nn),nn.uc)for(wi=(_n=qt).D.M,e(_n.D.uc),nn=_n.yb;nn<_n.Hb;++nn){Zn=nn,ei=wi;var os=(ca=(di=_n).D).Nb;jn=di.R;var ca=ca.wa[ca.Y+Zn],fi=di.sa,hi=di.ta+16*os*jn+16*Zn,_s=ca.dd,En=ca.tc;if(En!=0)if(e(3<=En),di.L==1)0<Zn&&w0(fi,hi,jn,En+4),ca.La&&dc(fi,hi,jn,En),0<ei&&Dh(fi,hi,jn,En+4),ca.La&&_f(fi,hi,jn,En);else{var ws=di.B,Wa=di.qa,fo=di.ra+8*os*ws+8*Zn,Gi=di.Ha,di=di.Ia+8*os*ws+8*Zn;os=ca.ld,0<Zn&&(_0(fi,hi,jn,En+4,_s,os),O1(Wa,fo,Gi,di,ws,En+4,_s,os)),ca.La&&(hc(fi,hi,jn,En,_s,os),iu(Wa,fo,Gi,di,ws,En,_s,os)),0<ei&&(y0(fi,hi,jn,En+4,_s,os),Lh(Wa,fo,Gi,di,ws,En+4,_s,os)),ca.La&&(M1(fi,hi,jn,En,_s,os),Fh(Wa,fo,Gi,di,ws,En,_s,os))}}if(qt.ia&&alert("todo:DitherRow"),kt.put!=null){if(nn=16*xn,xn=16*(xn+1),wn?(kt.y=qt.sa,kt.O=qt.ta+rn,kt.f=qt.qa,kt.N=qt.ra+ys,kt.ea=qt.Ha,kt.W=qt.Ia+ys):(nn-=jr,kt.y=Hi,kt.O=_i,kt.f=Wn,kt.N=Lr,kt.ea=Li,kt.W=Wi),Vn||(xn-=jr),xn>kt.o&&(xn=kt.o),kt.F=null,kt.J=null,qt.Fa!=null&&0<qt.Fa.length&&nn<xn&&(kt.J=yi(qt,kt,nn,xn-nn),kt.F=qt.mb,kt.F==null&&kt.F.length==0)){ui=Hn(qt,3,"Could not decode alpha data.");break t}nn<kt.j&&(jr=kt.j-nn,nn=kt.j,e(!(1&jr)),kt.O+=qt.R*jr,kt.N+=qt.B*(jr>>1),kt.W+=qt.B*(jr>>1),kt.F!=null&&(kt.J+=kt.width*jr)),nn<xn&&(kt.O+=kt.v,kt.N+=kt.v>>1,kt.W+=kt.v>>1,kt.F!=null&&(kt.J+=kt.v),kt.ka=nn-kt.j,kt.U=kt.va-kt.v,kt.T=xn-nn,ui=kt.put(kt))}br+1!=qt.Ic||Vn||(n(qt.sa,qt.ta-mr,Hi,_i+16*qt.R,mr),n(qt.qa,qt.ra-Cn,Wn,Lr+8*qt.B,Cn),n(qt.Ha,qt.Ia-Cn,Li,Wi+8*qt.B,Cn))}if(!ui)return Hn(Or,6,"Output aborted.")}return 1})(ve,Le)),Le.bc!=null&&Le.bc(Le),Ve&=1}return Ve?(ve.cb=0,Ve):0})(g,V)||(_=g.a)}}else _=g.a}_==0&&ne.Oa!=null&&ne.Oa.fd&&(_=Ms(ne.ba))}ne=_}ee=ne!=0?null:11>ee?oe.f.RGBA.eb:oe.f.kb.y}else ee=null;return ee};var Cf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(b,M){for(var C="",N=0;N<4;N++)C+=String.fromCharCode(b[M++]);return C}function h(b,M){return b[M+0]|b[M+1]<<8}function p(b,M){return(b[M+0]|b[M+1]<<8|b[M+2]<<16)>>>0}function x(b,M){return(b[M+0]|b[M+1]<<8|b[M+2]<<16|b[M+3]<<24)>>>0}new c;var m=[0],E=[0],w=[],T=new c,P=r,j=(function(b,M){var C={},N=0,B=!1,ce=0,be=0;if(C.frames=[],!(function(S,U){for(var W=0;W<4;W++)if(S[U+W]!="RIFF".charCodeAt(W))return!0;return!1})(b,M)){for(x(b,M+=4),M+=8;M<b.length;){var ke=f(b,M),Te=x(b,M+=4);M+=4;var de=Te+(1&Te);switch(ke){case"VP8 ":case"VP8L":C.frames[N]===void 0&&(C.frames[N]={}),(re=C.frames[N]).src_off=B?be:M-8,re.src_size=ce+Te+8,N++,B&&(B=!1,ce=0,be=0);break;case"VP8X":(re=C.header={}).feature_flags=b[M];var te=M+4;re.canvas_width=1+p(b,te),te+=3,re.canvas_height=1+p(b,te),te+=3;break;case"ALPH":B=!0,ce=de+8,be=M-8;break;case"ANIM":(re=C.header).bgcolor=x(b,M),te=M+4,re.loop_count=h(b,te),te+=2;break;case"ANMF":var Ce,re;(re=C.frames[N]={}).offset_x=2*p(b,M),M+=3,re.offset_y=2*p(b,M),M+=3,re.width=1+p(b,M),M+=3,re.height=1+p(b,M),M+=3,re.duration=p(b,M),M+=3,Ce=b[M++],re.dispose=1&Ce,re.blend=Ce>>1&1}ke!="ANMF"&&(M+=de)}return C}})(P,0);j.response=P,j.rgbaoutput=!0,j.dataurl=!1;var D=j.header?j.header:null,q=j.frames?j.frames:null;if(D){D.loop_counter=D.loop_count,m=[D.canvas_height],E=[D.canvas_width];for(var se=0;se<q.length&&q[se].blend!=0;se++);}var Q=q[0],F=T.WebPDecodeRGBA(P,Q.src_off,Q.src_size,E,m);Q.rgba=F,Q.imgwidth=E[0],Q.imgheight=m[0];for(var A=0;A<E[0]*m[0]*4;A++)w[A]=F[A];return this.width=E,this.height=m,this.data=w,this}(function(r){var e,t,n,i,s,a,o,c,f,h=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new c,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new a,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new a,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var p=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=S;Object.defineProperty(this,"pdf",{get:function(){return U}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Re){W=!!Re}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Re){K=!!Re}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Re){isNaN(Re)||(ie=Re)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Re){isNaN(Re)||(pe=Re)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Re){var G;typeof Re=="number"?G=[Re,Re,Re,Re]:((G=new Array(4))[0]=Re[0],G[1]=Re.length>=2?Re[1]:G[0],G[2]=Re.length>=3?Re[2]:G[0],G[3]=Re.length>=4?Re[3]:G[1]),f.margin=G}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Re){Ee=Re}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(Re){xe=Re}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Re){Ae=Re}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Re){Re instanceof h&&(f=Re)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Re){f.path=Re}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Re){Me=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var G;G=x(Re),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var G=x(Re);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var ae=null,at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Re){ae=null,at=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var G;if(this.ctx.font=Re,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Fe=G[1];G[2];var $e=G[3],nt=G[4];G[5];var tt=G[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(_t==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var ut=(function(yt){var Tt,tr,Yt=[],Ft=yt.trim();if(Ft==="")return xx;if(Ft in W4)return[W4[Ft]];for(;Ft!=="";){switch(tr=null,Tt=(Ft=$4(Ft)).charAt(0)){case'"':case"'":tr=RY(Ft.substring(1),Tt);break;default:tr=LY(Ft)}if(tr===null||(Yt.push(tr[0]),(Ft=$4(tr[1]))!==""&&Ft.charAt(0)!==","))return xx;Ft=Ft.replace(/^,/,"")}return Yt})(tt);if(this.fontFaces){var Wt=(function(yt,Tt){if(ae===null){var tr=(function(Yt){var Ft=[];return Object.keys(Yt).forEach(function(fr){Yt[fr].forEach(function(Wr){var rr=null;switch(Wr){case"bold":rr={family:fr,weight:"bold"};break;case"italic":rr={family:fr,style:"italic"};break;case"bolditalic":rr={family:fr,weight:"bold",style:"italic"};break;case"":case"normal":rr={family:fr}}rr!==null&&(rr.ref={name:fr,style:Wr},Ft.push(rr))})}),Ft})(yt.getFontList());ae=(function(Yt){for(var Ft={},fr=0;fr<Yt.length;++fr){var Wr=vx(Yt[fr]),rr=Wr.family,wr=Wr.stretch,lr=Wr.style,hn=Wr.weight;Ft[rr]=Ft[rr]||{},Ft[rr][wr]=Ft[rr][wr]||{},Ft[rr][wr][lr]=Ft[rr][wr][lr]||{},Ft[rr][wr][lr][hn]=Wr}return Ft})(tr.concat(Tt))}return ae})(this.pdf,this.fontFaces),Rt=ut.map(function(yt){return{family:yt,stretch:"normal",weight:$e,style:Fe}}),Bt=(function(yt,Tt,tr){for(var Yt=(tr=tr||{}).defaultFontFamily||"times",Ft=Object.assign({},PY,tr.genericFontFamilies||{}),fr=null,Wr=null,rr=0;rr<Tt.length;++rr)if(Ft[(fr=vx(Tt[rr])).family]&&(fr.family=Ft[fr.family]),yt.hasOwnProperty(fr.family)){Wr=yt[fr.family];break}if(!(Wr=Wr||yt[Yt]))throw new Error("Could not find a font-family for the rule '"+G4(fr)+"' and default family '"+Yt+"'.");if(Wr=(function(wr,lr){if(lr[wr])return lr[wr];var hn=Sy[wr],Xr=hn<=Sy.normal?-1:1,Nr=H4(lr,JN,hn,Xr);if(!Nr)throw new Error("Could not find a matching font-stretch value for "+wr);return Nr})(fr.stretch,Wr),Wr=(function(wr,lr){if(lr[wr])return lr[wr];for(var hn=QN[wr],Xr=0;Xr<hn.length;++Xr)if(lr[hn[Xr]])return lr[hn[Xr]];throw new Error("Could not find a matching font-style for "+wr)})(fr.style,Wr),!(Wr=(function(wr,lr){if(lr[wr])return lr[wr];if(wr===400&&lr[500])return lr[500];if(wr===500&&lr[400])return lr[400];var hn=NY[wr],Xr=H4(lr,ZN,hn,wr<400?-1:1);if(!Xr)throw new Error("Could not find a matching font-weight for value "+wr);return Xr})(fr.weight,Wr)))throw new Error("Failed to resolve a font for the rule '"+G4(fr)+"'.");return Wr})(Wt,Rt);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Ot="";($e==="bold"||parseInt($e,10)>=700||Fe==="bold")&&(Ot="bold"),Fe==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var bt="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<ut.length;Pt++){if(this.pdf.internal.getFont(ut[Pt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){bt=ut[Pt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(ut[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=ut[Pt],Ot="bold";else if(this.pdf.internal.getFont(ut[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=ut[Pt],Ot="normal";break}}if(bt===""){for(var Lt=0;Lt<ut.length;Lt++)if(Vt[ut[Lt]]){bt=Vt[ut[Lt]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};p.prototype.setLineDash=function(S){this.lineDash=S},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){q.call(this,"fill",!1)},p.prototype.stroke=function(){q.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(S,U){if(isNaN(S)||isNaN(U))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(S,U));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(S,U)},p.prototype.closePath=function(){var S=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Tn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){S=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(S.x,S.y)},p.prototype.lineTo=function(S,U){if(isNaN(S)||isNaN(U))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(S,U));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},p.prototype.quadraticCurveTo=function(S,U,W,K){if(isNaN(W)||isNaN(K)||isNaN(S)||isNaN(U))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new a(W,K)),pe=this.ctx.transform.applyToPoint(new a(S,U));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},p.prototype.bezierCurveTo=function(S,U,W,K,ie,pe){if(isNaN(ie)||isNaN(pe)||isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new a(ie,pe)),xe=this.ctx.transform.applyToPoint(new a(S,U)),Ae=this.ctx.transform.applyToPoint(new a(W,K));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ae.x,y2:Ae.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new a(Ee.x,Ee.y)},p.prototype.arc=function(S,U,W,K,ie,pe){if(isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K)||isNaN(ie))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new a(S,U));S=Ee.x,U=Ee.y;var xe=this.ctx.transform.applyToPoint(new a(0,W)),Ae=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(xe.x-Ae.x,2)+Math.pow(xe.y-Ae.y,2))}Math.abs(ie-K)>=2*Math.PI&&(K=0,ie=2*Math.PI),this.path.push({type:"arc",x:S,y:U,radius:W,startAngle:K,endAngle:ie,counterclockwise:pe})},p.prototype.arcTo=function(S,U,W,K,ie){throw new Error("arcTo not implemented.")},p.prototype.rect=function(S,U,W,K){if(isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,U),this.lineTo(S+W,U),this.lineTo(S+W,U+K),this.lineTo(S,U+K),this.lineTo(S,U),this.lineTo(S+W,U),this.lineTo(S,U)},p.prototype.fillRect=function(S,U,W,K){if(isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,U,W,K),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},p.prototype.strokeRect=function(S,U,W,K){if(isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(S,U,W,K),this.stroke())},p.prototype.clearRect=function(S,U,W,K){if(isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,U,W,K))},p.prototype.save=function(S){S=typeof S!="boolean"||S;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},p.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(U),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(S){var U,W,K,ie;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))U=0,W=0,K=0,ie=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(pe!==null)U=parseInt(pe[1]),W=parseInt(pe[2]),K=parseInt(pe[3]),ie=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)U=parseInt(pe[1]),W=parseInt(pe[2]),K=parseInt(pe[3]),ie=parseFloat(pe[4]);else{if(ie=1,typeof S=="string"&&S.charAt(0)!=="#"){var Ee=new HN(S);S=Ee.ok?Ee.toHex():"#000000"}S.length===4?(U=S.substring(1,2),U+=U,W=S.substring(2,3),W+=W,K=S.substring(3,4),K+=K):(U=S.substring(1,3),W=S.substring(3,5),K=S.substring(5,7)),U=parseInt(U,16),W=parseInt(W,16),K=parseInt(K,16)}}return{r:U,g:W,b:K,a:ie,style:S}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(S,U,W,K){if(isNaN(U)||isNaN(W)||typeof S!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!m.call(this)){var ie=de(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;N.call(this,{text:S,x:U,y:W,scale:pe,angle:ie,align:this.textAlign,maxWidth:K})}},p.prototype.strokeText=function(S,U,W,K){if(isNaN(U)||isNaN(W)||typeof S!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){K=isNaN(K)?void 0:K;var ie=de(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;N.call(this,{text:S,x:U,y:W,scale:pe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:K})}},p.prototype.measureText=function(S){if(typeof S!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,W=this.pdf.internal.scaleFactor,K=U.internal.getFontSize(),ie=U.getStringUnitWidth(S)*K/U.internal.scaleFactor;return new function(pe){var Ee=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ie*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(S,U){if(isNaN(S)||isNaN(U))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(S,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(S){if(isNaN(S))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.translate=function(S,U){if(isNaN(S)||isNaN(U))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,S,U);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(S,U,W,K,ie,pe){if(isNaN(S)||isNaN(U)||isNaN(W)||isNaN(K)||isNaN(ie)||isNaN(pe))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(S,U,W,K,ie,pe);this.ctx.transform=this.ctx.transform.multiply(Ee)},p.prototype.setTransform=function(S,U,W,K,ie,pe){S=isNaN(S)?1:S,U=isNaN(U)?0:U,W=isNaN(W)?0:W,K=isNaN(K)?1:K,ie=isNaN(ie)?0:ie,pe=isNaN(pe)?0:pe,this.ctx.transform=new c(S,U,W,K,ie,pe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(S,U,W,K,ie,pe,Ee,xe,Ae){var Me=this.pdf.getImageProperties(S),ae=1,at=1,Re=1,G=1;K!==void 0&&xe!==void 0&&(Re=xe/K,G=Ae/ie,ae=Me.width/K*xe/K,at=Me.height/ie*Ae/ie),pe===void 0&&(pe=U,Ee=W,U=0,W=0),K!==void 0&&xe===void 0&&(xe=K,Ae=ie),K===void 0&&xe===void 0&&(xe=Me.width,Ae=Me.height);for(var Fe,$e=this.ctx.transform.decompose(),nt=de($e.rotate.shx),tt=new c,_t=(tt=(tt=(tt=tt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new o(pe-U*Re,Ee-W*G,K*ae,ie*at)),ut=T.call(this,_t),Wt=[],Rt=0;Rt<ut.length;Rt+=1)Wt.indexOf(ut[Rt])===-1&&Wt.push(ut[Rt]);if(D(Wt),this.autoPaging)for(var Bt=Wt[0],Ot=Wt[Wt.length-1],bt=Bt;bt<Ot+1;bt++){this.pdf.setPage(bt);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=bt===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=bt===1?0:Lt+(bt-2)*yt;if(this.ctx.clip_path.length!==0){var tr=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Fe,this.posX+this.margin[3],-Tt+Pt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=tr}var Yt=JSON.parse(JSON.stringify(_t));Yt=j([Yt],this.posX+this.margin[3],-Tt+Pt+this.ctx.prevPageLastElemOffset)[0];var Ft=(bt>Bt||bt<Ot)&&w.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,yt,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,nt),Ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,nt)};var T=function(S,U,W){var K=[];U=U||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":K.push(Math.floor((S.y+ie)/W)+1);break;case"arc":K.push(Math.floor((S.y+ie-S.radius)/W)+1),K.push(Math.floor((S.y+ie+S.radius)/W)+1);break;case"qct":var pe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);K.push(Math.floor((pe.y+ie)/W)+1),K.push(Math.floor((pe.y+pe.h+ie)/W)+1);break;case"bct":var Ee=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);K.push(Math.floor((Ee.y+ie)/W)+1),K.push(Math.floor((Ee.y+Ee.h+ie)/W)+1);break;case"rect":K.push(Math.floor((S.y+ie)/W)+1),K.push(Math.floor((S.y+S.h+ie)/W)+1)}for(var xe=0;xe<K.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<K[xe];)P.call(this);return K},P=function(){var S=this.fillStyle,U=this.strokeStyle,W=this.font,K=this.lineCap,ie=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=U,this.font=W,this.lineCap=K,this.lineWidth=ie,this.lineJoin=pe},j=function(S,U,W){for(var K=0;K<S.length;K++)switch(S[K].type){case"bct":S[K].x2+=U,S[K].y2+=W;case"qct":S[K].x1+=U,S[K].y1+=W;default:S[K].x+=U,S[K].y+=W}return S},D=function(S){return S.sort(function(U,W){return U-W})},q=function(S,U){for(var W,K,ie=this.fillStyle,pe=this.strokeStyle,Ee=this.lineCap,xe=this.lineWidth,Ae=Math.abs(xe*this.ctx.transform.scaleX),Me=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),Re=[],G=0;G<at.length;G++)if(at[G].x!==void 0)for(var Fe=T.call(this,at[G]),$e=0;$e<Fe.length;$e+=1)Re.indexOf(Fe[$e])===-1&&Re.push(Fe[$e]);for(var nt=0;nt<Re.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Re[nt];)P.call(this);if(D(Re),this.autoPaging)for(var tt=Re[0],_t=Re[Re.length-1],ut=tt;ut<_t+1;ut++){this.pdf.setPage(ut),this.fillStyle=ie,this.strokeStyle=pe,this.lineCap=Ee,this.lineWidth=Ae,this.lineJoin=Me;var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=ut===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=ut===1?0:Bt+(ut-2)*Ot;if(this.ctx.clip_path.length!==0){var Vt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(W,this.posX+this.margin[3],-bt+Rt+this.ctx.prevPageLastElemOffset),se.call(this,S,!0),this.path=Vt}if(K=JSON.parse(JSON.stringify(ae)),this.path=j(K,this.posX+this.margin[3],-bt+Rt+this.ctx.prevPageLastElemOffset),U===!1||ut===0){var Pt=(ut>tt||ut<_t)&&w.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Ot,null).clip().discardPath()),se.call(this,S,U),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=Ae,se.call(this,S,U),this.lineWidth=xe;this.path=ae},se=function(S,U){if((S!=="stroke"||U||!E.call(this))&&(S==="stroke"||U||!m.call(this))){for(var W,K,ie=[],pe=this.path,Ee=0;Ee<pe.length;Ee++){var xe=pe[Ee];switch(xe.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ae=ie.length;if(pe[Ee-1]&&!isNaN(pe[Ee-1].x)&&(W=[xe.x-pe[Ee-1].x,xe.y-pe[Ee-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ie[Ae-1].close!==!0&&ie[Ae-1].begin!==!0){ie[Ae-1].deltas.push(W),ie[Ae-1].abs.push(xe);break}}break;case"bct":W=[xe.x1-pe[Ee-1].x,xe.y1-pe[Ee-1].y,xe.x2-pe[Ee-1].x,xe.y2-pe[Ee-1].y,xe.x-pe[Ee-1].x,xe.y-pe[Ee-1].y],ie[ie.length-1].deltas.push(W);break;case"qct":var Me=pe[Ee-1].x+2/3*(xe.x1-pe[Ee-1].x),ae=pe[Ee-1].y+2/3*(xe.y1-pe[Ee-1].y),at=xe.x+2/3*(xe.x1-xe.x),Re=xe.y+2/3*(xe.y1-xe.y),G=xe.x,Fe=xe.y;W=[Me-pe[Ee-1].x,ae-pe[Ee-1].y,at-pe[Ee-1].x,Re-pe[Ee-1].y,G-pe[Ee-1].x,Fe-pe[Ee-1].y],ie[ie.length-1].deltas.push(W);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(xe)}}K=U?null:S==="stroke"?"stroke":"fill";for(var $e=!1,nt=0;nt<ie.length;nt++)if(ie[nt].arc)for(var tt=ie[nt].abs,_t=0;_t<tt.length;_t++){var ut=tt[_t];ut.type==="arc"?A.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,U,!$e):B.call(this,ut.x,ut.y),$e=!0}else if(ie[nt].close===!0)this.pdf.internal.out("h"),$e=!1;else if(ie[nt].begin!==!0){var Wt=ie[nt].start.x,Rt=ie[nt].start.y;ce.call(this,ie[nt].deltas,Wt,Rt),$e=!0}K&&b.call(this,K),U&&M.call(this)}},Q=function(S){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-W;case"top":return S+U-W;case"hanging":return S+U-2*W;case"middle":return S+U/2-W;default:return S}},F=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(U,W){this.colorStops.push([U,W])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(S,U,W,K,ie,pe,Ee,xe,Ae){for(var Me=ke.call(this,W,K,ie,pe),ae=0;ae<Me.length;ae++){var at=Me[ae];ae===0&&(Ae?C.call(this,at.x1+S,at.y1+U):B.call(this,at.x1+S,at.y1+U)),be.call(this,S,U,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}xe?M.call(this):b.call(this,Ee)},b=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(S,U){this.pdf.internal.out(t(S)+" "+n(U)+" m")},N=function(S){var U;switch(S.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var W=this.pdf.getTextDimensions(S.text),K=Q.call(this,S.y),ie=F.call(this,K)-W.h,pe=this.ctx.transform.applyToPoint(new a(S.x,K)),Ee=this.ctx.transform.decompose(),xe=new c;xe=(xe=(xe=xe.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Ae,Me,ae,at=this.ctx.transform.applyToRectangle(new o(S.x,K,W.w,W.h)),Re=xe.applyToRectangle(new o(S.x,ie,W.w,W.h)),G=T.call(this,Re),Fe=[],$e=0;$e<G.length;$e+=1)Fe.indexOf(G[$e])===-1&&Fe.push(G[$e]);if(D(Fe),this.autoPaging)for(var nt=Fe[0],tt=Fe[Fe.length-1],_t=nt;_t<tt+1;_t++){this.pdf.setPage(_t);var ut=_t===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],Bt=Rt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],bt=Ot-this.margin[3],Vt=_t===1?0:Wt+(_t-2)*Bt;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ae,this.posX+this.margin[3],-1*Vt+ut),se.call(this,"fill",!0),this.path=Pt}var Lt=j([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Vt+ut+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*S.scale),ae=this.lineWidth,this.lineWidth=ae*S.scale);var yt=this.autoPaging!=="text";if(yt||Lt.y+Lt.h<=Rt){if(yt||Lt.y>=ut&&Lt.x<=Ot){var Tt=yt?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||Ot-Lt.x)[0],tr=j([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Vt+ut+this.ctx.prevPageLastElemOffset)[0],Yt=yt&&(_t>nt||_t<tt)&&w.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Bt,null).clip().discardPath()),this.pdf.text(Tt,tr.x,tr.y,{angle:S.angle,align:U,renderingMode:S.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Lt.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-Lt.y);S.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=ae)}else S.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*S.scale),ae=this.lineWidth,this.lineWidth=ae*S.scale),this.pdf.text(S.text,pe.x+this.posX,pe.y+this.posY,{angle:S.angle,align:U,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=ae)},B=function(S,U,W,K){W=W||0,K=K||0,this.pdf.internal.out(t(S+W)+" "+n(U+K)+" l")},ce=function(S,U,W){return this.pdf.lines(S,U,W,null,null)},be=function(S,U,W,K,ie,pe,Ee,xe){this.pdf.internal.out([e(i(W+S)),e(s(K+U)),e(i(ie+S)),e(s(pe+U)),e(i(Ee+S)),e(s(xe+U)),"c"].join(" "))},ke=function(S,U,W,K){for(var ie=2*Math.PI,pe=Math.PI/2;U>W;)U-=ie;var Ee=Math.abs(W-U);Ee<ie&&K&&(Ee=ie-Ee);for(var xe=[],Ae=K?-1:1,Me=U;Ee>1e-5;){var ae=Me+Ae*Math.min(Ee,pe);xe.push(Te.call(this,S,Me,ae)),Ee-=Math.abs(ae-Me),Me=ae}return xe},Te=function(S,U,W){var K=(W-U)/2,ie=S*Math.cos(K),pe=S*Math.sin(K),Ee=ie,xe=-pe,Ae=Ee*Ee+xe*xe,Me=Ae+Ee*ie+xe*pe,ae=4/3*(Math.sqrt(2*Ae*Me)-Me)/(Ee*pe-xe*ie),at=Ee-ae*xe,Re=xe+ae*Ee,G=at,Fe=-Re,$e=K+U,nt=Math.cos($e),tt=Math.sin($e);return{x1:S*Math.cos(U),y1:S*Math.sin(U),x2:at*nt-Re*tt,y2:at*tt+Re*nt,x3:G*nt-Fe*tt,y3:G*tt+Fe*nt,x4:S*Math.cos(W),y4:S*Math.sin(W)}},de=function(S){return 180*S/Math.PI},te=function(S,U,W,K,ie,pe){var Ee=S+.5*(W-S),xe=U+.5*(K-U),Ae=ie+.5*(W-ie),Me=pe+.5*(K-pe),ae=Math.min(S,ie,Ee,Ae),at=Math.max(S,ie,Ee,Ae),Re=Math.min(U,pe,xe,Me),G=Math.max(U,pe,xe,Me);return new o(ae,Re,at-ae,G-Re)},Ce=function(S,U,W,K,ie,pe,Ee,xe){var Ae,Me,ae,at,Re,G,Fe,$e,nt,tt,_t,ut,Wt,Rt,Bt=W-S,Ot=K-U,bt=ie-W,Vt=pe-K,Pt=Ee-ie,Lt=xe-pe;for(Me=0;Me<41;Me++)nt=(Fe=(ae=S+(Ae=Me/40)*Bt)+Ae*((Re=W+Ae*bt)-ae))+Ae*(Re+Ae*(ie+Ae*Pt-Re)-Fe),tt=($e=(at=U+Ae*Ot)+Ae*((G=K+Ae*Vt)-at))+Ae*(G+Ae*(pe+Ae*Lt-G)-$e),Me==0?(_t=nt,ut=tt,Wt=nt,Rt=tt):(_t=Math.min(_t,nt),ut=Math.min(ut,tt),Wt=Math.max(Wt,nt),Rt=Math.max(Rt,tt));return new o(Math.round(_t),Math.round(ut),Math.round(Wt-_t),Math.round(Rt-ut))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,U,W=(S=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:U}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(sr.API),(function(r){var e=function(a){var o,c,f,h,p,x,m,E,w,T;for(c=[],f=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>f;f+=4)(p=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(x=(p=((p=((p=((p=(p-(T=p%85))/85)-(w=p%85))/85)-(E=p%85))/85)-(m=p%85))/85)%85,c.push(x+33,m+33,E+33,w+33,T+33)):c.push(122);return(function(P,j){for(var D=j;D>0;D--)P.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var o,c,f,h,p,x=String,m="length",E=255,w="charCodeAt",T="slice",P="replace";for(a[T](-2),a=a[T](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),f=[],h=0,p=(a+=o="uuuuu"[T](a[m]%5||5))[m];p>h;h+=5)c=52200625*(a[w](h)-33)+614125*(a[w](h+1)-33)+7225*(a[w](h+2)-33)+85*(a[w](h+3)-33)+(a[w](h+4)-33),f.push(E&c>>24,E&c>>16,E&c>>8,E&c);return(function(j,D){for(var q=D;q>0;q--)j.pop()})(f,o[m]),x.fromCharCode.apply(x,f)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=yy(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};r.processDataByFilters=function(a,o){var c=0,f=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(sr.API),(function(r){r.loadFile=function(e,t,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,f,h){var p=new XMLHttpRequest,x=0,m=function(E){var w=E.length,T=[],P=String.fromCharCode;for(x=0;x<w;x+=1)T.push(P(255&E.charCodeAt(x)));return T.join("")};if(p.open("GET",c,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return m(p.responseText)})(i,s,a)}catch{}return o})(e,t,n)},r.loadImageFile=r.loadFile})(sr.API),(function(r){function e(){return(yr.html2canvas?Promise.resolve(yr.html2canvas):_p(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(yr.DOMPurify?Promise.resolve(yr.DOMPurify):_p(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Tn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var f=document.createElement(o);for(var h in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[h]=c.style[h];return f},s=function o(c,f){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},a=function o(c){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var E=h[m],w=E.src.find(function(T){return T.format==="truetype"});w&&f.addFont(w.url,E.ref.name,E.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var f=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(f):f})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,f,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,f,h){return this.setProgress(o?this.progress.val+o:null,c||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,c){var f=this;return this.thenCore(o,c,function(h,p){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,h),x}).then(h,p).then(function(x){return f.updateProgress(1),x})})},a.prototype.thenCore=function(o,c,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),x=f.call(p,o,c);return a.convert(x,h.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(f){c=c.thenCore(f)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,sr.getPageSize=function(o,c,f){if(Tn(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,f=h.format||f}c=c||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var p,x=(""+f).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var E,w=0,T=0;if(m.hasOwnProperty(x))w=m[x][1]/p,T=m[x][0]/p;else try{w=f[1],T=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",T>w&&(E=T,T=w,w=E);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>T&&(E=T,T=w,w=E)}return{width:T,height:w,unit:c,k:p,orientation:o}},r.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(vx):null;var f=new a(c);return c.worker?f:f.from(o).doCallback()}})(sr.API),sr.API.addJS=function(r){return X4=r,this.internal.events.subscribe("postPutResources",function(){Wm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),K4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wm!==void 0&&K4!==void 0&&this.internal.out("/Names <</JavaScript "+Wm+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(s=0;s<f;s++){var p=t.internal.newObject();h.push(p);var x=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(sr.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var c,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(p){for(var x,m=256*p.charCodeAt(4)+p.charCodeAt(5),E=p.length,w={width:0,height:0,numcomponents:1},T=4;T<E;T+=2){if(T+=m,e.indexOf(p.charCodeAt(T+1))!==-1){x=256*p.charCodeAt(T+5)+p.charCodeAt(T+6),w={width:256*p.charCodeAt(T+7)+p.charCodeAt(T+8),height:x,numcomponents:p.charCodeAt(T+9)};break}m=256*p.charCodeAt(T+2)+p.charCodeAt(T+3)}return w})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:f,index:n,alias:i}}return h}})(sr.API),sr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=gY(r,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,f=s.palette,h=s.depth;i=f&&c===1?(function(F){for(var A=F.width,b=F.height,M=F.data,C=F.palette,N=F.depth,B=!1,ce=[],be=[],ke=void 0,Te=!1,de=0,te=0;te<C.length;te++){var Ce=Zb(C[te],4),re=Ce[0],S=Ce[1],U=Ce[2],W=Ce[3];ce.push(re,S,U),W!=null&&(W===0?(de++,be.length<1&&be.push(te)):W<255&&(Te=!0))}if(Te||de>1){B=!0,be=void 0;var K=A*b;ke=new Uint8Array(K);for(var ie=new DataView(M.buffer),pe=0;pe<K;pe++){var Ee=yx(ie,pe,N),xe=Zb(C[Ee],4)[3];ke[pe]=xe}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:M,alphaBytes:ke,needSMask:B,palette:ce,mask:be}})(s):c===2||c===4?(function(F){for(var A=F.data,b=F.width,M=F.height,C=F.channels,N=F.depth,B=C===2?"DeviceGray":"DeviceRGB",ce=C-1,be=b*M,ke=ce,Te=be*ke,de=1*be,te=Math.ceil(Te*N/8),Ce=Math.ceil(de*N/8),re=new Uint8Array(te),S=new Uint8Array(Ce),U=new DataView(A.buffer),W=new DataView(re.buffer),K=new DataView(S.buffer),ie=!1,pe=0;pe<be;pe++){for(var Ee=pe*C,xe=0;xe<ke;xe++)iA(W,yx(U,Ee+xe,N),pe*ke+xe,N);var Ae=yx(U,Ee+ke,N);Ae<(1<<N)-1&&(ie=!0),iA(K,Ae,1*pe,N)}return{colorSpace:B,colorsPerPixel:ce,colorBytes:re,alphaBytes:S,needSMask:ie}})(s):(function(F){var A=F.data,b=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:b,colorsPerPixel:b==="DeviceGray"?1:3,colorBytes:A instanceof Uint8Array?A:new Uint8Array(A.buffer),needSMask:!1}})(s);var p,x,m,E=i,w=E.colorSpace,T=E.colorsPerPixel,P=E.colorBytes,j=E.alphaBytes,D=E.needSMask,q=E.palette,se=E.mask,Q=null;return n!==sr.API.image_compression.NONE&&typeof yy=="function"?(Q=(function(F){var A;switch(F){case sr.API.image_compression.FAST:A=11;break;case sr.API.image_compression.MEDIUM:A=13;break;case sr.API.image_compression.SLOW:A=14;break;default:A=12}return A})(n),p=this.decode.FLATE_DECODE,x="/Predictor ".concat(Q," "),r=Z4(P,a*T,T,n),D&&(m=Z4(j,a,1,n))):(p=void 0,x="",r=P,D&&(m=j)),x+="/Colors ".concat(T," /BitsPerComponent ").concat(h," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:p,decodeParameters:x,transparency:se,palette:q,sMask:m,predictor:Q,width:a,height:o,bitsPerComponent:h,colorSpace:w}}},(function(r){r.processGIF89A=function(e,t,n,i){var s=new MY(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:o},h=new _x(100).encode(f,100);return r.processJPEG.call(this,h,t,n,i)},r.processGIF87A=r.processGIF89A})(sr.API),dl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},dl.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Dn.log("bit decode error:"+t)}},dl.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},dl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,c=15&s,f=this.palette[o];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},dl.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},dl.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=f}this.pos+=r}},dl.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,f=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=r}},dl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},dl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},dl.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var s=new dl(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new _x(100).encode(c,100);return r.processJPEG.call(this,f,t,n,i)}})(sr.API),aA.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var s=new aA(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new _x(100).encode(c,100);return r.processJPEG.call(this,f,t,n,i)}})(sr.API),sr.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,f=0;f<i;f+=4){var h=n[f],p=n[f+1],x=n[f+2],m=n[f+3];s[o++]=h,s[o++]=p,s[o++]=x,a[c++]=m}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},sr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ld=sr.API,Gm=ld.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=e.doKerning!==!1,x=0,m=r.length,E=0,w=o[0]||c,T=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(x=p&&Tn(f[n])==="object"&&!isNaN(parseInt(f[n][E],10))?f[n][E]/h:0,T.push((o[n]||w)/c+x)),E=n;return T},Y4=ld.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ld.processArabic&&(r=ld.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Gm.apply(this,arguments).reduce(function(s,a){return s+a},0)},Q4=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(r.slice(c,s)),i},J4=function(r,e,t){t||(t={});var n,i,s,a,o,c,f,h=[],p=[h],x=t.textIndent||0,m=0,E=0,w=r.split(" "),T=Gm.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var P=Array(c).join(" "),j=[];w.map(function(q){(q=q.split(/\s*\n/)).length>1?j=j.concat(q.map(function(se,Q){return(Q&&se.length?`
`:"")+se})):j.push(q[0])}),w=j,c=Y4.apply(this,[P,t])}for(s=0,a=w.length;s<a;s++){var D=0;if(n=w[s],c&&n[0]==`
`&&(n=n.substr(1),D=1),x+m+(E=(i=Gm.apply(this,[n,t])).reduce(function(q,se){return q+se},0))>e||D){if(E>e){for(o=Q4.apply(this,[n,i,e-(x+m),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);E=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(q,se){return q+se},0)}else h=[n];p.push(h),x=E+c,m=T}else h.push(n),x+=m+E,m=T}return f=c?function(q,se){return(se?P:"")+q.join(" ")}:function(q){return q.join(" ")},p.map(f)},ld.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return p.metadata[x]?{widths:p.metadata[x].widths||{0:1},kerning:p.metadata[x].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,c,f=[];for(o=0,c=n.length;o<c;o++)f=f.concat(J4.apply(this,[n[o],a,s]));return f},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(x){return"0x"+parseInt(x,10).toString(16)},o=r.__fontmetrics__.compress=function(x){var m,E,w,T,P=["{"];for(var j in x){if(m=x[j],isNaN(parseInt(j,10))?E="'"+j+"'":(j=parseInt(j,10),E=(E=a(j).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof m=="number")m<0?(w=a(m).slice(3),T="-"):(w=a(m).slice(2),T=""),w=T+w.slice(0,-1)+i[w.slice(-1)];else{if(Tn(m)!=="object")throw new Error("Don't know what to do with value type "+Tn(m)+".");w=o(m)}P.push(E+w)}return P.push("}"),P.join("")},c=r.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,E,w,T,P={},j=1,D=P,q=[],se="",Q="",F=x.length-1,A=1;A<F;A+=1)(T=x[A])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(T):T=="{"?(q.push([D,w]),D={},w=void 0):T=="}"?((E=q.pop())[0][E[1]]=D,w=void 0,D=E[0]):T=="-"?j=-1:w===void 0?n.hasOwnProperty(T)?(se+=n[T],w=parseInt(se,16)*j,j=1,se=""):se+=T:n.hasOwnProperty(T)?(Q+=n[T],D[w]=parseInt(Q,16)*j,j=1,w=void 0,Q=""):Q+=T;return P},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var m=x.font,E=p.Unicode[m.postScriptName];E&&(m.metadata.Unicode={},m.metadata.Unicode.widths=E.widths,m.metadata.Unicode.kerning=E.kerning);var w=h.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])})(sr.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(ug(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(sr),sr.API.addSvgAsImage=function(r,e,t,n,i,s,a,o){if(isNaN(e)||isNaN(t))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(yr.canvg?Promise.resolve(yr.canvg):_p(()=>import("./index.es-CvjDHVGL.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,n,i,a,o)})},sr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},sr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],f=0,h=0,p=0;function x(E,w){var T,P=!1;for(T=0;T<E.length;T+=1)E[T]===w&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(Tn(r)==="object"){for(i in r)if(s=r[i],x(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&x(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(f=0;f<s.length;f+=1)if(n=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(h=0;h<s[f].length;h+=1)typeof s[f][h]!="number"&&(n=!1);n===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,w=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?w.push("/"+E+" /"+t[E].value):w.push("/"+E+" "+t[E].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(sr.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,x=s.length;p<x;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},n=function(s){var a,o,c,f,h,p,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,x=(o=Object.keys(s).sort(function(m,E){return m-E})).length;p<x;p++)a=o[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,h=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",E=0;E<x.length;E++)m+=String.fromCharCode(x[E]);var w=f();h({data:m,addLength1:!0,objectId:w}),c("endobj");var T=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var P=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gd(o.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var j=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+gd(o.fontName)),c("/FontDescriptor "+P+" 0 R"),c("/W "+r.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+T+" 0 R"),c("/BaseFont /"+gd(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,h=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,x="",m=0;m<p.length;m++)x+=String.fromCharCode(p[m]);var E=f();h({data:x,addLength1:!0,objectId:E}),c("endobj");var w=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var T=f();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+gd(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=f();for(var P=0;P<o.metadata.hmtx.widths.length;P++)o.metadata.hmtx.widths[P]=parseInt(o.metadata.hmtx.widths[P]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+gd(o.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,f=s.y,h=s.options||{},p=s.mutex||{},x=p.pdfEscape,m=p.activeFontKey,E=p.fonts,w=m,T="",P=0,j="",D=E[w].encoding;if(E[w].encoding!=="Identity-H")return{text:o,x:c,y:f,options:h,mutex:p};for(j=o,w=m,Array.isArray(o)&&(j=o[0]),P=0;P<j.length;P+=1)E[w].metadata.hasOwnProperty("cmap")&&(a=E[w].metadata.cmap.unicode.codeMap[j[P].charCodeAt(0)]),a||j[P].charCodeAt(0)<256&&E[w].metadata.hasOwnProperty("Unicode")?T+=j[P]:T+="";var q="";return parseInt(w.slice(1))<14||D==="WinAnsiEncoding"?q=x(T,w).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(q=t(T,E[w])),p.isHex=!0,{text:q,x:c,y:f,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?o.push([i(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):o.push(i(Object.assign({},c,{text:a[f]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])})(sr),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(sr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,c,f,h,p=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,D=0;this.__bidiEngine__={};var q=function(C){var N=C.charCodeAt(),B=N>>8,ce=w[B];return ce!==void 0?p[256*ce+(255&N)]:B===252||B===253?"AL":P.test(B)?"L":B===8?"R":"N"},se=function(C){for(var N,B=0;B<C.length;B++){if((N=q(C.charAt(B)))==="L")return!1;if(N==="R")return!0}return!1},Q=function(C,N,B,ce){var be,ke,Te,de,te=N[ce];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(te="AN");break;case"AL":j=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":ce<1||ce+1>=N.length||(be=B[ce-1])!=="EN"&&be!=="AN"||(ke=N[ce+1])!=="EN"&&ke!=="AN"?te="N":j&&(ke="AN"),te=ke===be?ke:"N";break;case"ES":te=(be=ce>0?B[ce-1]:"B")==="EN"&&ce+1<N.length&&N[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&B[ce-1]==="EN"){te="EN";break}if(j){te="N";break}for(Te=ce+1,de=N.length;Te<de&&N[Te]==="ET";)Te++;te=Te<de&&N[Te]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(de=N.length,Te=ce+1;Te<de&&N[Te]==="NSM";)Te++;if(Te<de){var Ce=C[ce],re=Ce>=1425&&Ce<=2303||Ce===64286;if(be=N[Te],re&&(be==="R"||be==="AL")){te="R";break}}}te=ce<1||(be=N[ce-1])==="B"?"N":B[ce-1];break;case"B":j=!1,i=!0,te=D;break;case"S":s=!0,te="N"}return te},F=function(C,N,B){var ce=C.split("");return B&&A(ce,B,{hiLevel:D}),ce.reverse(),N&&N.reverse(),ce.join("")},A=function(C,N,B){var ce,be,ke,Te,de,te=-1,Ce=C.length,re=0,S=[],U=D?m:x,W=[];for(j=!1,i=!1,s=!1,be=0;be<Ce;be++)W[be]=q(C[be]);for(ke=0;ke<Ce;ke++){if(de=re,S[ke]=Q(C,W,S,ke),ce=240&(re=U[de][E[S[ke]]]),re&=15,N[ke]=Te=U[re][5],ce>0)if(ce===16){for(be=te;be<ke;be++)N[be]=1;te=-1}else te=-1;if(U[re][6])te===-1&&(te=ke);else if(te>-1){for(be=te;be<ke;be++)N[be]=Te;te=-1}W[ke]==="B"&&(N[ke]=0),B.hiLevel|=Te}s&&(function(K,ie,pe){for(var Ee=0;Ee<pe;Ee++)if(K[Ee]==="S"){ie[Ee]=D;for(var xe=Ee-1;xe>=0&&K[xe]==="WS";xe--)ie[xe]=D}})(W,N,Ce)},b=function(C,N,B,ce,be){if(!(be.hiLevel<C)){if(C===1&&D===1&&!i)return N.reverse(),void(B&&B.reverse());for(var ke,Te,de,te,Ce=N.length,re=0;re<Ce;){if(ce[re]>=C){for(de=re+1;de<Ce&&ce[de]>=C;)de++;for(te=re,Te=de-1;te<Te;te++,Te--)ke=N[te],N[te]=N[Te],N[Te]=ke,B&&(ke=B[te],B[te]=B[Te],B[Te]=ke);re=de}re++}}},M=function(C,N,B){var ce=C.split(""),be={hiLevel:D};return B||(B=[]),A(ce,B,be),(function(ke,Te,de){if(de.hiLevel!==0&&h)for(var te,Ce=0;Ce<ke.length;Ce++)Te[Ce]===1&&(te=T.indexOf(ke[Ce]))>=0&&(ke[Ce]=T[te+1])})(ce,B,be),b(2,ce,N,B,be),b(1,ce,N,B,be),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(C,N,B){if((function(be,ke){if(ke)for(var Te=0;Te<be.length;Te++)ke[Te]=Te;o===void 0&&(o=se(be)),f===void 0&&(f=se(be))})(C,N),a||!c||f)if(a&&c&&o^f)D=o?1:0,C=F(C,N,B);else if(!a&&c&&f)D=o?1:0,C=M(C,N,B),C=F(C,N);else if(!a||o||c||f){if(a&&!c&&o^f)C=F(C,N),o?(D=0,C=M(C,N,B)):(D=1,C=M(C,N,B),C=F(C,N));else if(a&&o&&!c&&f)D=1,C=M(C,N,B),C=F(C,N);else if(!a&&!c&&o^f){var ce=h;o?(D=1,C=M(C,N,B),D=0,h=!1,C=M(C,N,B),h=ce):(D=0,C=M(C,N,B),C=F(C,N),D=1,h=!1,C=M(C,N,B),h=ce,C=F(C,N))}}else D=0,C=M(C,N,B);else D=o?1:0,C=M(C,N,B);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,c=C.isOutputVisual,o=C.isInputRtl,f=C.isOutputRtl,h=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(sr),sr.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new of(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new JY(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new BY(this.contents),this.head=new jY(this),this.name=new WY(this),this.cmap=new tP(this),this.toUnicode={},this.hhea=new UY(this),this.maxp=new GY(this),this.hmtx=new $Y(this),this.post=new qY(this),this.os2=new zY(this),this.loca=new QY(this),this.glyf=new KY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,f;for(f=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var bl,of=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),BY=(function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,c,f,h,p,x,m,E,w;for(w in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),a=Math.floor(p/c),h=16*m-p,(i=new of).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*m,f=i.pos+s,o=null,E=[],t)for(x=t[w],i.writeString(w),i.writeInt(r(x)),i.writeInt(f),i.writeInt(x.length),E=E.concat(x),w==="head"&&(o=f),f+=x.length;f%4;)E.push(0),f++;return i.write(E),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=rP.call(t);t.length%4;)t.push(0);for(s=new of(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),VY={}.hasOwnProperty,ac=function(r,e){for(var t in e)VY.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};bl=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var jY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new of).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),oA=(function(){function r(e,t){var n,i,s,a,o,c,f,h,p,x,m,E,w,T,P,j,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),x=m/2,e.pos+=6,s=(function(){var q,se;for(se=[],c=q=0;0<=x?q<x:q>x;c=0<=x?++q:--q)se.push(e.readUInt16());return se})(),e.pos+=2,w=(function(){var q,se;for(se=[],c=q=0;0<=x?q<x:q>x;c=0<=x?++q:--q)se.push(e.readUInt16());return se})(),f=(function(){var q,se;for(se=[],c=q=0;0<=x?q<x:q>x;c=0<=x?++q:--q)se.push(e.readUInt16());return se})(),h=(function(){var q,se;for(se=[],c=q=0;0<=x?q<x:q>x;c=0<=x?++q:--q)se.push(e.readUInt16());return se})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var q,se;for(se=[],c=q=0;0<=i?q<i:q>i;c=0<=i?++q:--q)se.push(e.readUInt16());return se})(),c=P=0,D=s.length;P<D;c=++P)for(T=s[c],n=j=E=w[c];E<=T?j<=T:j>=T;n=E<=T?++j:--j)h[c]===0?a=n+f[c]:(a=o[h[c]/2+(n-E)-(x-c)]||0)!==0&&(a+=f[c]),this.codeMap[n]=65535&a}e.pos=p}return r.encode=function(e,t){var n,i,s,a,o,c,f,h,p,x,m,E,w,T,P,j,D,q,se,Q,F,A,b,M,C,N,B,ce,be,ke,Te,de,te,Ce,re,S,U,W,K,ie,pe,Ee,xe,Ae,Me,ae;switch(ce=new of,a=Object.keys(e).sort(function(at,Re){return at-Re}),t){case"macroman":for(w=0,T=(function(){var at=[];for(E=0;E<256;++E)at.push(0);return at})(),j={0:0},s={},be=0,te=a.length;be<te;be++)j[xe=e[i=a[be]]]==null&&(j[xe]=++w),s[i]={old:e[i],new:j[e[i]]},T[i]=j[e[i]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(T),{charMap:s,subtable:ce.data,maxGlyphID:w+1};case"unicode":for(N=[],p=[],D=0,j={},n={},P=f=null,ke=0,Ce=a.length;ke<Ce;ke++)j[se=e[i=a[ke]]]==null&&(j[se]=++D),n[i]={old:se,new:j[se]},o=j[se]-i,P!=null&&o===f||(P&&p.push(P),N.push(i),f=o),P=i;for(P&&p.push(P),p.push(65535),N.push(65535),M=2*(b=N.length),A=2*Math.pow(Math.log(b)/Math.LN2,2),x=Math.log(A/2)/Math.LN2,F=2*b-A,c=[],Q=[],m=[],E=Te=0,re=N.length;Te<re;E=++Te){if(C=N[E],h=p[E],C===65535){c.push(0),Q.push(0);break}if(C-(B=n[C].new)>=32768)for(c.push(0),Q.push(2*(m.length+b-E)),i=de=C;C<=h?de<=h:de>=h;i=C<=h?++de:--de)m.push(n[i].new);else c.push(B-C),Q.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*b+2*m.length),ce.writeUInt16(0),ce.writeUInt16(M),ce.writeUInt16(A),ce.writeUInt16(x),ce.writeUInt16(F),pe=0,S=p.length;pe<S;pe++)i=p[pe],ce.writeUInt16(i);for(ce.writeUInt16(0),Ee=0,U=N.length;Ee<U;Ee++)i=N[Ee],ce.writeUInt16(i);for(Ae=0,W=c.length;Ae<W;Ae++)o=c[Ae],ce.writeUInt16(o);for(Me=0,K=Q.length;Me<K;Me++)q=Q[Me],ce.writeUInt16(q);for(ae=0,ie=m.length;ae<ie;ae++)w=m[ae],ce.writeUInt16(w);return{charMap:n,subtable:ce.data,maxGlyphID:D+1}}},r})(),tP=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new oA(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=oA.encode(e,t),(i=new of).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),UY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),zY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),qY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},r})(),HY=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},WY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,o,c,f,h,p,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=h=0,p=n.length;h<p;s=++h)i=n[s],e.pos=i.offset,f=e.readString(i.length),a=new HY(f,i),c[x=i.nameID]==null&&(c[x]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),GY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),$Y=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)h.push(e.readInt16());return h})(),this.widths=(function(){var f,h,p,x;for(x=[],f=0,h=(p=this.metrics).length;f<h;f++)s=p[f],x.push(s.advance);return x}).call(this),n=this.widths[this.widths.length-1],c=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),rP=[].slice,KY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,o,c,f,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new of(t.read(i))).readShort(),f=o.readShort(),p=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new YY(o,f,p,c,h):new XY(o,a,f,p,c,h),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,o,c;for(a=[],s=[],o=0,c=t.length;o<c;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r})(),XY=(function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),YY=(function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new of(rP.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),QY=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ac(r,bl),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},r})(),JY=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,c,f,h,p,x,m,E,w,T,P;for(i in n=tP.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},P=n.charMap)m[(c=P[i]).old]=c.new;for(E in x=n.maxGlyphID,a)E in m||(m[E]=x++);return h=(function(j){var D,q;for(D in q={},j)q[j[D]]=D;return q})(m),p=Object.keys(h).sort(function(j,D){return j-D}),w=(function(){var j,D,q;for(q=[],j=0,D=p.length;j<D;j++)o=p[j],q.push(h[o]);return q})(),s=this.font.glyf.encode(a,w,m),f=this.font.loca.encode(s.offsets,w),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();sr.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+(function(){var o,c,f;for(f=[],o=0,c=t.length;o<c;o++)n=t[o],f.push(e.convert(n));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function nP(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,f=o*c,h=/\r\n|\r|\n/g,p="",x=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof r=="string"?r.split(h):r,x=p.length||1),t+=o*(2-s),n.valign==="middle"?t-=x/2*f:n.valign==="bottom"&&(t-=x*f),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),p&&x>=1){for(var E=0;E<p.length;E++)i.text(p[E],e-i.getStringUnitWidth(p[E])*m,t),t+=f;return i}e-=i.getStringUnitWidth(r)*m}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var lA={},Ld=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:lA=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){o=e.fontStyle;var f=this.getFontList()[c];f&&f.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),o=f[0])}if(this.jsPDFDocument.setFont(c,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=r.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=r.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=r.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return lA||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),ky=function(r,e){return ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},ky(r,e)};function iP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ky(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var sP=(function(r){iP(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function ZY(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function eQ(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function Jg(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function aP(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=oP(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function oP(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Dv(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function lP(r,e){var t=Dv(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function tQ(r,e,t,n,i){var s={},a=1.3333333333333333,o=wx(e,function(D){return i.getComputedStyle(D).backgroundColor});o!=null&&(s.fillColor=o);var c=wx(e,function(D){return i.getComputedStyle(D).color});c!=null&&(s.textColor=c);var f=nQ(n,t);f&&(s.cellPadding=f);var h="borderTopColor",p=a*t,x=n.borderTopWidth;if(n.borderBottomWidth===x&&n.borderRightWidth===x&&n.borderLeftWidth===x){var m=(parseFloat(x)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var E=wx(e,function(D){return i.getComputedStyle(D)[h]});E!=null&&(s.lineColor=E);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var T=parseInt(n.fontSize||"");isNaN(T)||(s.fontSize=T/a);var P=rQ(n);P&&(s.fontStyle=P);var j=(n.fontFamily||"").toLowerCase();return r.indexOf(j)!==-1&&(s.font=j),s}function rQ(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function wx(r,e){var t=cP(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function cP(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:cP(r.parentElement,e):t}function nQ(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(o){return parseInt(o||"0")/n}),a=Dv(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function uP(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var c=Object.keys(r.getFontList()),f=r.scaleFactor(),h=[],p=[],x=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:x};for(var m=0;m<o.rows.length;m++){var E=o.rows[m],w=(a=(s=E?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),T=iQ(c,f,t,E,n,i);T&&(w==="thead"?h.push(T):w==="tfoot"?x.push(T):p.push(T))}return{head:h,body:p,foot:x}}function iQ(r,e,t,n,i,s){for(var a=new sP(n),o=0;o<n.cells.length;o++){var c=n.cells[o],f=t.getComputedStyle(c);if(i||f.display!=="none"){var h=void 0;s&&(h=tQ(r,c,e,f,t)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:sQ(c)})}}var p=t.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function sQ(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function aQ(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Rc(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function oQ(r,e){var t=new Ld(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();aQ(i,n,e);var s=Rc({},i,n,e),a;typeof window<"u"&&(a=window);var o=lQ(i,n,e),c=cQ(i,n,e),f=uQ(t,s),h=hQ(t,s,a);return{id:e.tableId,content:h,hooks:c,styles:o,settings:f}}function lQ(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var f=r[c],h=e[c],p=t[c];n.columnStyles=Rc({},f,h,p)}else{var x=[r,e,t],m=x.map(function(E){return E[c]||{}});n[c]=Rc({},m[0],m[1],m[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function cQ(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function uQ(r,e){var t,n,i,s,a,o,c,f,h,p,x,m,E=Dv(e.margin,40/r.scaleFactor()),w=(t=fQ(r,e.startY))!==null&&t!==void 0?t:E.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var P;e.showHead===!0?P="everyPage":e.showHead===!1?P="never":P=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var j=(s=e.useCss)!==null&&s!==void 0?s:!1,D=e.theme||(j?"plain":"striped"),q=!!e.horizontalPageBreak,se=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:j,theme:D,startY:w,margin:E,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:P,showFoot:T,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:q,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function fQ(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/n:null}function hQ(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=uP(r,e.html,t,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||dQ(n,i,s);return{columns:c,head:n,body:i,foot:s}}function dQ(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=o?.colSpan||1);for(var c=0;c<a;c++){var f=void 0;Array.isArray(n)?f=i.length:f=s+(c>0?"_".concat(c):"");var h={dataKey:f};i.push(h)}}),i}var Iy=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),pQ=(function(r){iP(e,r);function e(t,n,i,s,a,o){var c=r.call(this,t,n,o)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return e})(Iy),mQ=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var o=0,c=t;o<c.length;o++){var f=c[o],h=new pQ(e,this,n,i,s,a),p=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new Iy(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new Iy(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),fP=(function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof sP&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),f=c+o;return f>i?f:i},0)},r})(),hP=(function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Dv(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),gQ=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r})();function vQ(r,e){xQ(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=Cy(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Cy(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),_Q(e),wQ(e,r),yQ(e)}function xQ(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=lP(r,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],f=s.cells[c.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(r,h,f,s,c,null);var p=f.padding("horizontal");f.contentWidth=Jg(f.text,f.styles,r)+p;var x=Jg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,r);if(f.minReadableWidth=x+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var m=10/t;f.minWidth=f.styles.minCellWidth||m,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],f=s.cells[c.index];if(f&&f.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,f.wrappedWidth),c.minWidth=Math.max(c.minWidth,f.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}f&&(f.colSpan>1&&!c.minWidth&&(c.minWidth=f.minWidth),f.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=f.minWidth))}})}function Cy(r,e,t){for(var n=e,i=r.reduce(function(m,E){return m+E.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/i,c=n*o,f=a.width+c,h=t(a),p=f<h?h:f;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var x=r.filter(function(m){return e<0?m.width>t(m):!0});x.length&&(e=Cy(x,e,t))}return e}function yQ(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var c=o[a],f=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(f)f.cell.height+=s.height,t=f.cell.colSpan,delete s.cells[c.index],f.left--,f.left<=1&&delete e[c.index];else{var h=s.cells[c.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=n.length-i,x=h.rowSpan>p?p:h.rowSpan;e[c.index]={cell:h,left:x,row:s}}}}}function _Q(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,o=0;o<r.columns.length;o++){var c=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=c.width,delete n.cells[c.index];else if(i){var f=i;delete n.cells[c.index],i=null,f.width=c.width+s}else{var f=n.cells[c.index];if(!f)continue;if(a=f.colSpan,s=0,f.colSpan>1){i=f,s+=c.width;continue}f.width=c.width+s}}}function wQ(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var c=o[a],f=s.cells[c.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=cA(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=cA(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,h);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<x*f.rowSpan?t={height:x,count:f.rowSpan}:t&&t.count>0&&t.height>x&&(x=t.height),x>s.height&&(s.height=x)}}t.count--}}function cA(r,e,t,n,i){return r.map(function(s){return EQ(s,e,t,n,i)})}function EQ(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Jg(r,t,n))return r;for(;e<Jg(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function TQ(r,e){var t=new Ld(r),n=bQ(e,t.scaleFactor()),i=new mQ(e,n);return vQ(t,i),t.applyStyles(t.userStyles),i}function bQ(r,e){var t=r.content,n=SQ(t.columns);if(t.head.length===0){var i=uA(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=uA(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:Ex("head",t.head,n,a,s,e),body:Ex("body",t.body,n,a,s,e),foot:Ex("foot",t.foot,n,a,s,e)}}function Ex(r,e,t,n,i,s){var a={},o=e.map(function(c,f){for(var h=0,p={},x=0,m=0,E=0,w=t;E<w.length;E++){var T=w[E];if(a[T.index]==null||a[T.index].left===0)if(m===0){var P=void 0;Array.isArray(c)?P=c[T.index-x-h]:P=c[T.dataKey];var j={};typeof P=="object"&&!Array.isArray(P)&&(j=P?.styles||{});var D=kQ(r,T,f,i,n,s,j),q=new hP(P,D,r);p[T.dataKey]=q,p[T.index]=q,m=q.colSpan-1,a[T.index]={left:q.rowSpan-1,times:m}}else m--,x++;else a[T.index].left--,m=a[T.index].times,h++}return new fP(c,f,r,p)});return o}function uA(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=AQ(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function AQ(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function SQ(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new gQ(i,e,t)})}function kQ(r,e,t,n,i,s,a){var o=eQ(n),c;r==="head"?c=i.headStyles:r==="body"?c=i.bodyStyles:r==="foot"&&(c=i.footStyles);var f=Rc({},o.table,o[r],i.styles,c),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=r==="body"?h:{},x=r==="body"&&t%2===0?Rc({},o.alternateRow,i.alternateRowStyles):{},m=ZY(s),E=Rc({},m,f,x,p);return Rc(E,a)}function IQ(r,e,t){var n;t===void 0&&(t={});var i=lP(r,e),s=new Map,a=[],o=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var m=e.columns.find(function(E){return E.dataKey===x||E.index===x});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var f=!0,h=(n=t?.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(f||i>=p)f=!1,a.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function CQ(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=IQ(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function NQ(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(t.pageBreak==="avoid"){var c=e.body,f=c.reduce(function(x,m){return x+m.height},0);o+=f}var h=new Ld(r);(t.pageBreak==="always"||t.startY!=null&&o>h.pageSize().height)&&(pP(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var p=Rc({},s);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?PQ(h,e,p,s):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(x){return Uc(h,e,x,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(x,m){var E=m===e.body.length-1;Zg(h,e,x,E,p,s,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(x){return Uc(h,e,x,s,e.columns)})),aP(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,r.lastAutoTable=e,h.applyStyles(h.userStyles)}function PQ(r,e,t,n){var i=CQ(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,h){r.applyStyles(r.userStyles),h>0?Rp(r,e,t,n,f.columns,!0):fA(r,e,n,f.columns),RQ(r,e,t,n,f.columns),Tx(r,e,n,f.columns)});else for(var a=-1,o=i[0],c=function(){var f=a;if(o){r.applyStyles(r.userStyles);var h=o.columns;a>=0?Rp(r,e,t,n,h,!0):fA(r,e,n,h),f=hA(r,e,a+1,n,h),Tx(r,e,n,h)}var p=f-a;i.slice(1).forEach(function(x){r.applyStyles(r.userStyles),Rp(r,e,t,n,x.columns,!0),hA(r,e,a+1,n,x.columns,p),Tx(r,e,n,x.columns)}),a=f};a<e.body.length-1;)c()}function fA(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Uc(r,e,s,t,n)})}function RQ(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Zg(r,e,s,o,t,n,i)})}function hA(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(c,f){var h=t+f===e.body.length-1,p=dP(r,e,h,n);c.canEntireRowFit(p,i)&&(Uc(r,e,c,n,i),o=t+f)}),o}function Tx(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Uc(r,e,s,t,n)})}function LQ(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function FQ(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=t.columns;a<o.length;a++){var c=o[a],f=r.cells[c.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new hP(f.raw,f.styles,f.section);h=Rc(h,f),h.text=[];var p=LQ(f,e,n);f.text.length>p&&(h.text=f.text.splice(p,f.text.length));var x=n.scaleFactor(),m=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(x,m),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>r.height&&(r.height=f.contentHeight),h.contentHeight=h.getContentHeight(x,m),h.contentHeight>s&&(s=h.contentHeight),i[c.index]=h}}var E=new fP(r.raw,-1,r.section,i,!0);E.height=s;for(var w=0,T=t.columns;w<T.length;w++){var c=T[w],h=E.cells[c.index];h&&(h.height=E.height);var f=r.cells[c.index];f&&(f.height=r.height)}return E}function DQ(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,r),f=c<t;if(c>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Zg(r,e,t,n,i,s,a){var o=dP(r,e,n,s);if(t.canEntireRowFit(o,a))Uc(r,e,t,s,a);else if(DQ(r,t,o,e)){var c=FQ(t,o,e,r);Uc(r,e,t,s,a),Rp(r,e,i,s,a),Zg(r,e,c,n,i,s,a)}else Rp(r,e,i,s,a),Zg(r,e,t,n,i,s,a)}function Uc(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],c=t.cells[o.index];if(!c){n.x+=o.width;continue}r.applyStyles(c.styles),c.x=n.x,c.y=n.y;var f=e.callCellHooks(r,e.hooks.willDrawCell,c,t,o,n);if(f===!1){n.x+=o.width;continue}OQ(r,c,n);var h=c.getTextPos();nP(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,c,t,o,n),n.x+=o.width}n.y+=t.height}function OQ(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=oP(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),MQ(r,e,t,n.lineWidth))}function MQ(r,e,t,n){var i,s,a,o;n.top&&(i=t.x,s=t.y,a=t.x+e.width,o=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,s,a,o)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,o=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,s,a,o)),n.left&&(i=t.x,s=t.y,a=t.x,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,i,s,a,o)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,i,s,a,o));function c(f,h,p,x,m){r.getDocument().setLineWidth(f),r.getDocument().line(h,p,x,m,"S")}}function dP(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function Rp(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Uc(r,e,o,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;aP(r,e,t,n),pP(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Uc(r,e,o,n,i)}),r.applyStyles(r.userStyles))}function pP(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function BQ(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=oQ(this,n),s=TQ(this,i);return NQ(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){nP(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return Ld.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Ld.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ld(this),s=uP(i,e,window,t,!1),a=s.head,o=s.body,c=((n=a[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:c,rows:o,data:o}}}var bx;try{if(typeof window<"u"&&window){var dA=window,pA=dA.jsPDF||((bx=dA.jspdf)===null||bx===void 0?void 0:bx.jsPDF);pA&&BQ(pA)}}catch(r){console.error("Could not apply autoTable plugin",r)}function $m({children:r}){const{user:e,loading:t,profile:n}=Ao();return console.log("RequireAuth:",{user:e,loading:t,profile:n}),t?(console.log("RequireAuth: loading..."),z.jsx("div",{className:"p-6",children:"Loading…"})):e?r:(console.log("RequireAuth: No user, please sign in."),z.jsx("div",{className:"p-6",children:"Please sign in to continue."}))}function VQ({product:r,onClose:e,onSave:t,onDelete:n}){const[i,s]=Xe.useState({...r}),[a,o]=Xe.useState(null),[c,f]=Xe.useState(!1),h=m=>{const{name:E,value:w}=m.target;s(T=>({...T,[E]:w}))},p=m=>{m.target.files&&m.target.files[0]&&o(m.target.files[0])},x=async()=>{f(!0);let m=i.image;a&&(m=URL.createObjectURL(a)),await t({...i,image:m}),f(!1),e()};return z.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",children:z.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-lg relative",children:[z.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-zinc-700",onClick:e,children:"×"}),z.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Edit Product"}),z.jsxs("div",{className:"flex flex-col gap-3",children:[z.jsx("input",{name:"name",value:i.name,onChange:h,placeholder:"Product Name",className:"border rounded px-3 py-2"}),z.jsx("input",{name:"sku",value:i.sku,onChange:h,placeholder:"SKU",className:"border rounded px-3 py-2"}),z.jsx("input",{name:"stock",value:i.stock,onChange:h,placeholder:"Stock",type:"number",className:"border rounded px-3 py-2"}),z.jsx("input",{name:"price",value:i.price,onChange:h,placeholder:"Price",type:"number",className:"border rounded px-3 py-2"}),z.jsx("input",{name:"image",value:i.image,onChange:h,placeholder:"Image URL",className:"border rounded px-3 py-2"}),z.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"border rounded px-3 py-2"}),z.jsx("textarea",{name:"description",value:i.description,onChange:h,placeholder:"Description",className:"border rounded px-3 py-2"})]}),z.jsxs("div",{className:"flex gap-2 mt-4",children:[z.jsx("button",{className:"flex-1 bg-green-600 text-white rounded py-2",onClick:x,disabled:c,children:"Save"}),z.jsx("button",{className:"flex-1 bg-red-500 text-white rounded py-2",onClick:()=>{n(r),e()},children:"Delete"})]})]})})}const jQ=["fulfilled","processing","cancelled"];function UQ({pharmacyId:r}){const[e,t]=Xe.useState([]),[n,i]=Xe.useState(!1);Xe.useEffect(()=>{async function a(){if(!r)return;i(!0);const o=_l(mi(ur,"orders"),nf("pharmacyId","==",r)),c=await Xd(o),f=await Promise.all(c.docs.map(async h=>{const p=h.data(),x=Array.isArray(p.items)?p.items:[];return{id:h.id,...p,items:x}}));t(f),i(!1)}a()},[r]);const s=async(a,o)=>{t(c=>c.map(f=>f.id===a?{...f,status:o}:f));try{await pl(an(ur,"orders",a),{status:o})}catch{alert("Failed to update status")}};return n?z.jsx("div",{className:"text-center text-zinc-400",children:"Loading orders..."}):e.length?z.jsxs("div",{className:"mt-10",children:[z.jsx("h2",{className:"text-lg font-bold text-green-700 mb-4",children:"Orders"}),z.jsx("div",{className:"space-y-4",children:e.map(a=>z.jsxs("div",{className:"border rounded-xl p-4 bg-white shadow-sm",children:[z.jsxs("div",{className:"font-semibold text-orange-700",children:["Order ID: ",a.id]}),z.jsxs("div",{className:"text-sm text-zinc-600 mb-2",children:["Date: ",a.createdAt?.toDate?a.createdAt.toDate().toLocaleString():"-"]}),z.jsx("div",{className:"font-medium text-zinc-800 mb-1",children:"Items:"}),z.jsx("ul",{className:"ml-4 list-disc mb-2",children:a.items.length?a.items.map((o,c)=>z.jsxs("li",{className:"text-sm text-zinc-700",children:["Name: ",o.name||"-"," | Qty: ",o.quantity||1]},c)):z.jsx("li",{className:"text-sm text-zinc-400",children:"No items"})}),z.jsxs("div",{className:"mt-2",children:[z.jsx("label",{className:"font-medium text-zinc-800 mr-2",children:"Status:"}),z.jsx("select",{value:a.status||"processing",onChange:o=>s(a.id,o.target.value),className:"border rounded px-2 py-1 text-sm",children:jQ.map(o=>z.jsx("option",{value:o,children:o},o))})]})]},a.id))})]}):z.jsx("div",{className:"text-center text-zinc-400",children:"No orders found."})}function zQ(){const[r,e]=Xe.useState(!0),{profile:t}=Ao(),[n,i]=Xe.useState(!1),[s,a]=Xe.useState(!1),[o,c]=Xe.useState(0),[f,h]=Xe.useState(0),[p,x]=Xe.useState([]),[m,E]=Xe.useState(!1),[w,T]=Xe.useState(null),[P,j]=Xe.useState(!1);Xe.useEffect(()=>{async function Q(){e(!0);try{if(!t||t.role!=="pharmacy"){c(0),h(0),x([]),e(!1);return}console.log("Dashboard: profile.uid",t.uid,"profile.role",t.role);const F=await Xd(_l(mi(ur,"products"),nf("pharmacyId","==",t.uid)));c(F.size),x(F.docs.map(b=>({id:b.id,...b.data()})));const A=await Xd(_l(mi(ur,"orders"),nf("pharmacyId","==",t.uid)));A.forEach(b=>{console.log("Order doc:",b.id,b.data())}),h(A.size),e(!1)}catch(F){e(!1),x([]),c(0),h(0),window.dashboardFetchError=F,console.error("Dashboard Firestore error:",F,"profile:",t)}}Q()},[t]);const D=Q=>{T(Q),E(!0)},q=async Q=>{Q.id&&(await pl(an(ur,"products",Q.id),Q),x(F=>F.map(A=>A.id===Q.id?Q:A)))},se=async Q=>{Q.id&&(await Ho(an(ur,"products",Q.id)),x(F=>F.filter(A=>A.id!==Q.id)))};return r?z.jsx(Qd,{lines:6,className:"my-8"}):!t||t.role==="pharmacy"&&p.length===0&&o===0?window.dashboardFetchError?z.jsx("div",{className:"pt-10 pb-28 w-full max-w-md mx-auto px-4 min-h-screen flex flex-col items-center justify-center",children:z.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[z.jsx("div",{className:"text-red-600 font-bold text-lg mb-2",children:"Error loading dashboard"}),z.jsx("div",{className:"text-red-500 text-sm mb-2",children:window.dashboardFetchError.message}),z.jsxs("div",{className:"text-zinc-500 text-xs",children:["Check your Firestore rules and ensure your user document has ",z.jsx("code",{children:"role: 'pharmacy'"})," set."]})]})}):z.jsx("div",{className:"pt-10 pb-28 w-full max-w-md mx-auto px-4 min-h-screen flex flex-col items-center justify-center",children:z.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[z.jsx("div",{className:"text-red-600 font-bold text-lg mb-2",children:"Error loading dashboard"}),z.jsx("div",{className:"text-red-500 text-sm mb-2",children:"Possible Firestore permission error or missing pharmacy role."}),z.jsxs("div",{className:"text-zinc-500 text-xs",children:["Check your Firestore rules and ensure your user document has ",z.jsx("code",{children:"role: 'pharmacy'"})," set."]})]})}):z.jsxs("div",{className:"pt-10 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-0 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col",children:[z.jsx("header",{className:"sticky top-0 z-20 bg-white/90 backdrop-blur-md pb-2 pt-4 -mx-auto sm:-mx-5 md:-mx-8 lg:-mx-12 xl:-mx-0 px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0",children:z.jsx("h1",{className:"text-[28px] font-bold text-green-700 leading-none tracking-tight",children:"Pharmacy Dashboard"})}),z.jsxs("main",{className:"flex-1 px-3 sm:px-4 py-8 flex flex-col items-center justify-start relative w-full",children:[z.jsxs("div",{className:"w-full max-w-md flex flex-col gap-6",children:[z.jsx("div",{className:"bg-white rounded-2xl border border-green-200 shadow p-6 flex flex-col gap-4",children:z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[z.jsx("span",{className:"text-xs text-zinc-500 mb-1",children:"Total Products"}),z.jsx("span",{className:"text-2xl font-bold text-green-600",children:o})]}),z.jsx("div",{className:"w-px h-10 bg-zinc-200"}),z.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[z.jsx("span",{className:"text-xs text-zinc-500 mb-1",children:"Total Orders"}),z.jsx("span",{className:"text-2xl font-bold text-orange-500",children:f})]})]})}),z.jsxs("div",{className:"flex gap-2 w-full",children:[z.jsx("button",{className:"flex-1 rounded-[5px] bg-green-600 text-white text-[15px] font-semibold py-2 shadow hover:bg-green-700 transition",onClick:()=>i(!0),children:"+ Add Product"}),z.jsx("button",{className:"flex-1 rounded-[5px] border border-orange-500 text-orange-600 text-[15px] font-semibold py-2 hover:bg-orange-50 transition",onClick:()=>a(!0),children:"Bulk Upload"})]}),n&&z.jsx(tV,{pharmacyId:t?.uid,onClose:()=>i(!1)}),s&&z.jsx(uK,{pharmacyId:t?.uid,onClose:()=>a(!1)}),z.jsxs("div",{className:"mt-6",children:[z.jsx("h2",{className:"text-lg font-semibold text-green-700 mb-2",children:"Inventory"}),z.jsx("div",{className:"flex flex-col gap-3",children:(P?p:p.slice(0,3)).map(Q=>z.jsxs("div",{className:"bg-white border border-zinc-200 rounded-xl p-4 flex items-center gap-4 cursor-pointer hover:shadow transition",onClick:()=>D(Q),children:[z.jsx("img",{src:Q.image,alt:Q.name,className:"w-16 h-16 object-cover rounded-lg border"}),z.jsxs("div",{className:"flex-1",children:[z.jsx("div",{className:"font-semibold text-zinc-800 text-base",children:Q.name}),z.jsxs("div",{className:"text-xs text-zinc-500",children:["SKU: ",Q.sku||"-"]}),z.jsxs("div",{className:"text-xs text-zinc-500",children:["Stock: ",Q.stock??"-"]})]}),z.jsxs("div",{className:"text-orange-600 font-bold text-lg",children:["₦",Number(Q.price).toLocaleString()]})]},Q.id))}),p.length>3&&z.jsx("button",{className:"mt-3 text-green-700 font-semibold hover:underline",onClick:()=>j(Q=>!Q),children:P?"See less":"See more"})]}),p.length>0&&z.jsx("button",{className:"mt-6 w-full rounded-[5px] bg-orange-500 text-white text-[15px] font-semibold py-2 shadow hover:bg-orange-600 transition",onClick:()=>{const Q=["S/N","Name","Price","Description","Image","Category","Stock","SKU"],F=p.map((N,B)=>[B+1,N.name,N.price,N.description,N.image,N.category,N.stock,N.sku]),A=[Q.join(","),...F.map(N=>N.map(B=>`"${(B??"").toString().replace(/"/g,'""')}"`).join(","))].join(`
`),b=new Blob([A],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(b),C=document.createElement("a");C.href=M,C.download="pharmacy_inventory.csv",C.click(),URL.revokeObjectURL(M)},children:"Download Inventory (CSV)"}),z.jsx(UQ,{pharmacyId:t?.uid}),m&&w&&z.jsx(VQ,{product:w,onClose:()=>E(!1),onSave:q,onDelete:se})]}),z.jsx("button",{className:"fixed bottom-24 right-8 z-50 bg-green-500 text-white rounded-full shadow-lg w-12 h-12 flex items-center justify-center text-3xl font-bold leading-none hover:bg-green-600 transition disabled:opacity-0 disabled:cursor-not-allowed","aria-label":"Add Product",onClick:()=>i(!0),disabled:n,children:z.jsx("span",{children:"+"})})]})]})}const Km=[{key:"users",label:"Users"},{key:"products",label:"Products"},{key:"orders",label:"Orders"},{key:"carts",label:"Carts"},{key:"analytics",label:"Analytics"},{key:"moderation",label:"Moderation"},{key:"export",label:"Export"},{key:"infoCards",label:"Info Cards"}],ep=3;function qQ(){const{user:r,logout:e}=Ao(),[t,n]=Xe.useState([]),[i,s]=Xe.useState([]),[a,o]=Xe.useState([]),[c,f]=Xe.useState([]),[h,p]=Xe.useState([]),[x,m]=Xe.useState(!0),[E,w]=Xe.useState(!1),[T,P]=Xe.useState(!1),[j,D]=Xe.useState(null),[q,se]=Xe.useState(!1),[Q,F]=Xe.useState(null),[A,b]=Xe.useState(null),[M,C]=Xe.useState(!1),[N,B]=Xe.useState({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),[ce,be]=Xe.useState({name:"",image:"",description:"",stock:"",price:"",sku:"",category:""}),[ke,Te]=Xe.useState({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff"}),[de,te]=Xe.useState("users"),[Ce,re]=Xe.useState("profile"),[S,U]=Xe.useState([]),[W,K]=Xe.useState([]),[ie,pe]=Xe.useState([]),[Ee,xe]=Xe.useState(0),[Ae,Me]=Xe.useState(""),[ae,at]=Xe.useState(""),Re=Xe.useRef(null);return lf(),Xe.useEffect(()=>{if(!r)return;m(!0);const G=Wo(mi(ur,"users"),_t=>{n(_t.docs.map(ut=>({id:ut.id,...ut.data()}))),m(!1)}),Fe=Wo(mi(ur,"products"),_t=>{s(_t.docs.map(ut=>({id:ut.id,...ut.data()})))}),$e=Wo(mi(ur,"orders"),_t=>{o(_t.docs.map(ut=>({id:ut.id,...ut.data()})))}),nt=Wo(mi(ur,"carts"),_t=>{f(_t.docs.map(ut=>({id:ut.id,...ut.data()})))}),tt=Wo(mi(ur,"infoCards"),_t=>{p(_t.docs.map(ut=>({id:ut.id,...ut.data()})))});return()=>{G(),Fe(),$e(),nt(),tt()}},[r]),Xe.useEffect(()=>{let G=null,Fe=null;return j&&j.id?(B({displayName:j.displayName||"",email:j.email||"",address:j.address||"",phone:j.phone||"",role:j.role||"",suspended:j.role==="suspended",password:""}),G=Wo(_l(mi(ur,"orders"),nf("userId","==",j.id)),$e=>{U($e.docs.map(nt=>({id:nt.id,...nt.data()})))}),Fe=Wo(_l(mi(ur,"carts"),nf("userId","==",j.id)),$e=>{K($e.docs.map(nt=>({id:nt.id,...nt.data()})))})):(B({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),U([]),K([])),()=>{G&&G(),Fe&&Fe()}},[j&&j.id]),Xe.useEffect(()=>{Q&&be({name:Q.name||"",image:Q.image||"",description:Q.description||"",stock:Q.stock||"",price:Q.price||"",sku:Q.sku||"",category:Q.category||""})},[Q]),Xe.useEffect(()=>{A&&Te({header:A.header||"",preview:A.preview||"",link:A.link||"",linkText:A.linkText||"",image:A.image||"",fullImage:A.fullImage||"",bgColor:A.bgColor||"#f0f8ff"})},[A]),Xe.useEffect(()=>{if(!Re.current)return;const G=Km.findIndex($e=>$e.key===de),Fe=Math.floor(G/ep);xe(Fe),Re.current.scrollTo({left:Fe*Re.current.offsetWidth,behavior:"smooth"})},[de]),r?x?z.jsx(Qd,{lines:8,className:"my-8"}):z.jsxs("div",{className:"pt-10 pb-28 w-full max-w-4xl mx-auto px-4 min-h-screen flex flex-col",children:[z.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[z.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute left-0 top-1/2 -translate-y-1/2",style:{display:Ee>0?"flex":"none"},onClick:()=>xe(G=>Math.max(0,G-1)),"aria-label":"Previous tabs",children:z.jsx("span",{className:"text-lg",children:"<"})}),z.jsx("div",{className:"flex gap-2 px-8 w-full justify-center",children:Km.slice(Ee*ep,(Ee+1)*ep).map(G=>z.jsx("button",{className:`min-w-[110px] px-3 py-2 font-semibold tracking-wide text-[13px] rounded-t-lg transition-colors duration-150
                ${de===G.key?"border-b-2 border-sky-500 text-sky-500 bg-sky-50":"text-zinc-400 bg-white hover:bg-sky-50"}`,onClick:()=>{te(G.key),pe([])},children:G.label},G.key))}),z.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute right-0 top-1/2 -translate-y-1/2",style:{display:Ee<Math.ceil(Km.length/ep)-1?"flex":"none"},onClick:()=>xe(G=>Math.min(Math.ceil(Km.length/ep)-1,G+1)),"aria-label":"Next tabs",children:z.jsx("span",{className:"text-lg",children:">"})})]}),de==="users"&&z.jsxs("div",{className:"mb-8",children:[z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[z.jsx("div",{className:"text-[15px] font-semibold tracking-wide text-sky-500",children:"Users"}),z.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{B({displayName:"",email:"",address:"",phone:"",role:"customer",suspended:!1}),se(!0)},children:"Add User"})]}),z.jsx("div",{className:"space-y-2",children:(E?t:t.slice(0,3)).map(G=>z.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:ie.includes(G.id),onChange:Fe=>pe($e=>Fe.target.checked?[...$e,G.id]:$e.filter(nt=>nt!==G.id))}),z.jsxs("div",{className:"flex-1",onClick:Fe=>{Fe.target.tagName!=="BUTTON"&&D(G)},children:[z.jsx("div",{className:"font-semibold text-[13px] text-sky-500",children:G.displayName||G.email}),z.jsx("div",{className:"text-[12px] text-zinc-500",children:G.email}),z.jsxs("div",{className:"text-[11px] text-zinc-400",children:["Role: ",G.role||"customer"]})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async Fe=>{Fe.stopPropagation(),await pl(an(ur,"users",G.id),{role:"suspended"})},children:"Suspend"}),z.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async Fe=>{Fe.stopPropagation(),await Ho(an(ur,"users",G.id))},children:"Delete"})]})]},G.id))}),ie.length>0&&z.jsxs("div",{className:"flex gap-2 mt-2",children:[z.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-[12px] font-medium",onClick:async()=>{for(const G of ie)await Ho(an(ur,"users",G));pe([])},children:"Delete Selected"}),z.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium",onClick:async()=>{for(const G of ie)await pl(an(ur,"users",G),{role:"suspended"});pe([])},children:"Suspend Selected"})]}),t.length>3&&!E&&z.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>w(!0),children:"See more"}),t.length>3&&E&&z.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>w(!1),children:"See less"})]}),de==="products"&&z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"text-xl font-semibold mb-2",children:"Products"}),z.jsx("div",{className:"space-y-2",children:(T?i:i.slice(0,3)).map(G=>z.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",onClick:Fe=>{Fe.target.tagName!=="BUTTON"&&F(G)},children:[z.jsxs("div",{className:"flex-1",children:[z.jsx("div",{className:"font-bold",children:G.name}),z.jsx("div",{className:"text-sm text-zinc-500",children:G.category}),z.jsxs("div",{className:"text-xs text-zinc-400",children:["Pharmacy: ",G.pharmacyId]})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async Fe=>{Fe.stopPropagation(),await pl(an(ur,"products",G.id),{approved:!0}),s(i.map($e=>$e.id===G.id?{...$e,approved:!0}:$e))},children:"Approve"}),z.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async Fe=>{Fe.stopPropagation(),await Ho(an(ur,"products",G.id)),s(i.filter($e=>$e.id!==G.id))},children:"Delete"})]})]},G.id))}),i.length>3&&!T&&z.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>P(!0),children:"See more"}),i.length>3&&T&&z.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>P(!1),children:"See less"})]}),de==="orders"&&z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"flex items-center justify-between mb-2",children:z.jsx("div",{className:"text-xl font-semibold",children:"Orders"})}),z.jsx("div",{className:"space-y-2",children:a.map(G=>z.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:ie.includes(G.id),onChange:Fe=>pe($e=>Fe.target.checked?[...$e,G.id]:$e.filter(nt=>nt!==G.id))}),z.jsxs("div",{className:"flex-1",onClick:()=>{},children:[z.jsxs("div",{className:"font-bold",children:["Order #",G.id]}),z.jsx("div",{className:"text-xs text-zinc-500",children:G.createdAt?new Date(G.createdAt.seconds*1e3).toLocaleString():""}),z.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(G.products)?G.products.map(Fe=>Fe.name).join(", "):""]})]}),z.jsx("div",{className:"flex gap-2",children:z.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async Fe=>{Fe.stopPropagation(),await Ho(an(ur,"orders",G.id))},children:"Delete"})})]},G.id))}),ie.length>0&&z.jsx("div",{className:"flex gap-2 mt-2",children:z.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const G of ie)await Ho(an(ur,"orders",G));pe([])},children:"Delete Selected"})})]}),de==="carts"&&z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"flex items-center justify-between mb-2",children:z.jsx("div",{className:"text-xl font-semibold",children:"Carts"})}),z.jsx("div",{className:"space-y-2",children:c.map(G=>z.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:ie.includes(G.id),onChange:Fe=>pe($e=>Fe.target.checked?[...$e,G.id]:$e.filter(nt=>nt!==G.id))}),z.jsxs("div",{className:"flex-1",onClick:()=>{},children:[z.jsxs("div",{className:"font-bold",children:["Cart #",G.id]}),z.jsx("div",{className:"text-xs text-zinc-500",children:G.updatedAt?new Date(G.updatedAt.seconds*1e3).toLocaleString():""}),z.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(G.products)?G.products.map(Fe=>Fe.name).join(", "):""]})]}),z.jsx("div",{className:"flex gap-2",children:z.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async Fe=>{Fe.stopPropagation(),await Ho(an(ur,"carts",G.id))},children:"Delete"})})]},G.id))}),ie.length>0&&z.jsx("div",{className:"flex gap-2 mt-2",children:z.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const G of ie)await Ho(an(ur,"carts",G));pe([])},children:"Delete Selected"})})]}),de==="analytics"&&z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"text-xl font-semibold mb-4",children:"Analytics"}),z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[z.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[z.jsx("div",{className:"text-2xl font-bold",children:t.length}),z.jsx("div",{className:"text-xs text-zinc-600",children:"Users"})]}),z.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[z.jsx("div",{className:"text-2xl font-bold",children:i.length}),z.jsx("div",{className:"text-xs text-zinc-600",children:"Products"})]}),z.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[z.jsx("div",{className:"text-2xl font-bold",children:a.length}),z.jsx("div",{className:"text-xs text-zinc-600",children:"Orders"})]}),z.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[z.jsx("div",{className:"text-2xl font-bold",children:c.length}),z.jsx("div",{className:"text-xs text-zinc-600",children:"Carts"})]})]}),z.jsx("div",{className:"mt-4 text-zinc-500 text-xs",children:"Charts and advanced analytics coming soon."})]}),de==="moderation"&&z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"text-xl font-semibold mb-4",children:"Moderation"}),z.jsx("div",{className:"text-zinc-500 mb-4",children:"No flagged items yet. Moderation features coming soon."}),ie.length>0&&z.jsx("div",{className:"flex gap-2 mt-2",children:z.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const G of ie);pe([])},children:"Delete Selected"})})]}),de==="export"&&z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"text-xl font-semibold mb-4",children:"Export Data"}),z.jsxs("div",{className:"space-y-2",children:[z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(t,"users"),children:"Export Users TSV"}),z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(i,"products"),children:"Export Products TSV"}),z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(a,"orders"),children:"Export Orders TSV"}),z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(c,"carts"),children:"Export Carts TSV"})]})]}),z.jsx("div",{className:"mt-6",children:z.jsx("button",{onClick:async()=>{await e(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:"Log Out"})}),(j||q)&&z.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:z.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[z.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:q?"Add User":"Edit User"}),Ae&&z.jsx("div",{className:"text-red-500 text-xs mb-2",children:Ae}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:N.displayName,onChange:G=>B(Fe=>({...Fe,displayName:G.target.value})),placeholder:"Name"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:N.email,onChange:G=>B(Fe=>({...Fe,email:G.target.value})),placeholder:"Email"}),q&&z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",type:"password",value:N.password,onChange:G=>B(Fe=>({...Fe,password:G.target.value})),placeholder:"Password"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:N.address,onChange:G=>B(Fe=>({...Fe,address:G.target.value})),placeholder:"Address"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:N.phone,onChange:G=>B(Fe=>({...Fe,phone:G.target.value})),placeholder:"Phone Number"}),z.jsxs("select",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:N.role,onChange:G=>B(Fe=>({...Fe,role:G.target.value})),children:[z.jsx("option",{value:"customer",children:"Customer"}),z.jsx("option",{value:"pharmacy",children:"Pharmacy"}),z.jsx("option",{value:"superuser",children:"Superuser"}),z.jsx("option",{value:"suspended",children:"Suspended"})]}),z.jsxs("div",{className:"flex gap-2 mt-4",children:[z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(Me(""),q){const G=lI();try{const Fe=await Q3(G,N.email,N.password),$e={...N};delete $e.password;const nt=await _p(()=>Promise.resolve().then(()=>XO),void 0).then(tt=>tt.addDoc(mi(ur,"users"),{...$e,uid:Fe.user.uid}));n([...t,{id:nt.id,...$e,uid:Fe.user.uid}]),se(!1)}catch(Fe){Me(Fe.message||"Failed to create user. Check email, password, and permissions.")}}else try{await pl(an(ur,"users",j.id),{displayName:N.displayName,email:N.email,address:N.address,phone:N.phone,role:N.role}),n(t.map(G=>G.id===j.id?{...G,...N}:G)),D(null)}catch(G){Me(G.message||"Failed to update user.")}},children:q?"Add":"Save"}),!q&&(N.role==="suspended"?z.jsx("button",{className:"px-4 py-2 rounded bg-green-500 text-white font-medium text-[13px] shadow hover:bg-green-600",onClick:async()=>{await pl(an(ur,"users",j.id),{role:"customer"}),n(t.map(G=>G.id===j.id?{...G,role:"customer"}:G)),D(null)},children:"Lift Suspension"}):z.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-medium text-[13px] shadow hover:bg-red-600",onClick:async()=>{await pl(an(ur,"users",j.id),{role:"suspended"}),n(t.map(G=>G.id===j.id?{...G,role:"suspended"}:G)),D(null)},children:"Suspend"})),z.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{D(null),se(!1),Me("")},children:"Cancel"})]})]})]})}),Q&&z.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:z.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full border border-sky-100",children:[z.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:"Edit Product"}),z.jsxs("div",{className:"space-y-4",children:[z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ce.name,onChange:G=>be(Fe=>({...Fe,name:G.target.value})),placeholder:"Product Name"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ce.sku,onChange:G=>be(Fe=>({...Fe,sku:G.target.value})),placeholder:"SKU"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ce.price,onChange:G=>be(Fe=>({...Fe,price:G.target.value})),placeholder:"Price"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ce.stock,onChange:G=>be(Fe=>({...Fe,stock:G.target.value})),placeholder:"Stock"}),z.jsx("textarea",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ce.description,onChange:G=>be(Fe=>({...Fe,description:G.target.value})),placeholder:"Description",rows:"2"}),z.jsxs("div",{className:"flex gap-2 mt-4",children:[z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{await pl(an(ur,"products",Q.id),{name:ce.name,sku:ce.sku,price:ce.price,stock:ce.stock,description:ce.description}),s(i.map(G=>G.id===Q.id?{...G,...ce}:G)),F(null)},children:"Save"}),z.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>F(null),children:"Cancel"})]})]})]})}),de==="infoCards"&&z.jsxs("div",{className:"mb-8",children:[z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[z.jsx("div",{className:"text-xl font-semibold text-sky-500",children:"Info Cards"}),z.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{Te({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff"}),C(!0),at("")},children:"Add Info Card"})]}),z.jsx("div",{className:"space-y-4",children:h.map(G=>z.jsxs("div",{className:"border border-sky-100 rounded-lg p-4 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[z.jsxs("div",{className:"flex-1",onClick:()=>b(G),children:[z.jsx("div",{className:"font-semibold text-[15px] text-sky-700",children:G.header}),z.jsx("div",{className:"text-[13px] text-zinc-600",children:G.preview}),G.link&&G.linkText&&z.jsx("a",{href:G.link,className:"text-sky-500 text-[13px] underline",target:"_blank",rel:"noopener noreferrer",children:G.linkText}),G.image&&z.jsx("img",{src:G.image,alt:"Info",className:"mt-2 rounded-lg",style:{maxWidth:"120px",maxHeight:"60px"}}),G.fullImage&&z.jsx("img",{src:G.fullImage,alt:"Full",className:"mt-2 rounded-lg",style:{maxWidth:"180px",maxHeight:"100px"}}),z.jsxs("div",{className:"text-[11px] text-zinc-400",children:["BG: ",G.bgColor]})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:Fe=>{Fe.stopPropagation(),b(G)},children:"Edit"}),z.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async Fe=>{Fe.stopPropagation(),await Ho(an(ur,"infoCards",G.id))},children:"Delete"})]})]},G.id))}),(A||M)&&z.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:z.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[z.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:M?"Add Info Card":"Edit Info Card"}),ae&&z.jsx("div",{className:"text-red-500 text-xs mb-2",children:ae}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.header,onChange:G=>Te(Fe=>({...Fe,header:G.target.value})),placeholder:"Header"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.preview,onChange:G=>Te(Fe=>({...Fe,preview:G.target.value})),placeholder:"Preview text"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.link,onChange:G=>Te(Fe=>({...Fe,link:G.target.value})),placeholder:"Link (optional)"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.linkText,onChange:G=>Te(Fe=>({...Fe,linkText:G.target.value})),placeholder:"Link Text (optional)"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.image,onChange:G=>Te(Fe=>({...Fe,image:G.target.value})),placeholder:"Image URL (right side, optional)"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.fullImage,onChange:G=>Te(Fe=>({...Fe,fullImage:G.target.value})),placeholder:"Full Card Image URL (optional, 16:9)"}),z.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ke.bgColor,onChange:G=>Te(Fe=>({...Fe,bgColor:G.target.value})),placeholder:"Background Color (e.g. #f0f8ff)"}),z.jsxs("div",{className:"flex gap-2 mt-4",children:[z.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(at(""),M)try{await bv(mi(ur,"infoCards"),ke),C(!1)}catch(G){at(G.message||"Failed to add info card.")}else if(A)try{await pl(an(ur,"infoCards",A.id),ke),b(null)}catch(G){at(G.message||"Failed to update info card.")}},children:M?"Add":"Save"}),z.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{b(null),C(!1),at("")},children:"Cancel"})]})]})]})})]})]}):z.jsx(Qd,{lines:4,className:"my-8"})}function HQ(){const{user:r,logout:e}=Ao(),[t,n]=Xe.useState([]);return Xe.useEffect(()=>{if(!r)return;const i=_l(mi(ur,"orders"),nf("customerId","==",r.uid)),s=Wo(i,a=>{n(a.docs.map(o=>({id:o.id,...o.data()})))});return()=>s()},[r]),r?z.jsx("div",{className:"min-h-screen w-full flex flex-col items-center bg-[#F8FAF9] px-2 pb-28",children:z.jsxs("div",{className:"w-full max-w-lg mx-auto mt-8",children:[z.jsxs("div",{className:"rounded-3xl bg-white shadow-md px-6 py-8 flex flex-col items-center mb-8 border border-brand-primary/10",children:[z.jsxs("div",{className:"flex flex-col items-center gap-2",children:[z.jsx("div",{className:"w-20 h-20 rounded-full bg-brand-primary/10 flex items-center justify-center mb-2",children:z.jsx(A3,{className:"h-10 w-10 text-brand-primary"})}),z.jsx("div",{className:"text-xl font-bold text-brand-primary mb-1",children:r.displayName||r.email}),z.jsx("div",{className:"text-sm text-zinc-500 mb-2",children:r.email})]}),z.jsx("button",{onClick:async()=>{await e(),window.location.href="/auth/landing"},className:"mt-4 rounded-full border border-red-200 text-red-600 px-4 py-2 text-[14px] font-medium hover:bg-red-50 transition",children:"Log Out"})]}),z.jsxs("div",{className:"rounded-3xl bg-white shadow px-6 py-6 border border-brand-accent/10",children:[z.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[z.jsx(r7,{className:"h-5 w-5 text-brand-accent"}),z.jsx("div",{className:"text-lg font-semibold text-brand-accent",children:"Your Orders"})]}),z.jsxs("div",{className:"space-y-4",children:[t.length===0&&z.jsx("div",{className:"text-sm text-zinc-400 text-center",children:"No orders yet."}),t.map(i=>z.jsxs("div",{className:"rounded-xl border border-brand-primary/10 bg-brand-primary/5 px-4 py-3 flex flex-col gap-1",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"text-sm font-semibold text-brand-primary",children:["Order #",i.id.slice(0,8)]}),z.jsx("div",{className:"text-xs text-zinc-500",children:i.createdAt?new Date(i.createdAt.seconds*1e3).toLocaleString():""})]}),z.jsx("div",{className:"mt-1 text-xs text-zinc-600",children:Array.isArray(i.products)?i.products.map(s=>s.name).join(", "):"—"}),z.jsx("div",{className:"mt-1 text-xs font-medium text-brand-accent",children:i.status?i.status:"Processing"})]},i.id))]})]})]})}):z.jsx("div",{className:"p-6",children:z.jsx("div",{className:"text-brand-primary text-lg",children:"Please sign in"})})}function WQ({children:r}){return z.jsx("div",{className:"min-h-screen bg-white",children:z.jsxs("div",{className:"max-w-md mx-auto px-6 pt-14 pb-10",children:[z.jsxs("div",{className:"flex flex-col items-center mb-8",children:[z.jsx("div",{className:"h-16 w-16 rounded-xl bg-zinc-900 text-white grid place-items-center text-3xl font-bold",children:"PD"}),z.jsx("div",{className:"mt-3 text-zinc-600",children:"Prescription Drives"})]}),r]})})}function GQ(){const r=lf();return z.jsxs(WQ,{children:[z.jsx("div",{className:"font-poppins text-[32px] sm:text-[38px] md:text-[42px] lg:text-[54px] font-normal justify-center tracking-tight leading-[109%] text-center text-brand-primary",children:"Welcome to Your Pharmacy"}),z.jsx("p",{className:"mt-4 text-zinc-500 text-[13px] sm:text-[14px] md:text-[16px] tracking-tight font-normal justify-center leading-[154%] font-poppins text-center",children:"Order your medications and health essentials, delivered to your door."}),z.jsx("div",{className:"flex justify-start w-full max-w-[350px] mx-0",children:z.jsx("button",{onClick:()=>r("/auth"),className:"mt-8 w-full h-[47px] rounded-[7px] border font-poppins text-[16px] font-medium border-brand-primary text-brand-primary bg-white hover:bg-brand-primary/10 flex items-center justify-center transition",children:"Sign In / Create Account"})})]})}function $Q(){const{signIn:r,signUp:e}=Ao(),[t,n]=Xe.useState("signin"),[i,s]=Xe.useState(""),[a,o]=Xe.useState(""),[c,f]=Xe.useState(""),[h,p]=Xe.useState(!1),x=lf(),m=async E=>{E.preventDefault(),p(!0);try{t==="signin"?(await r(i,a),x("/")):(await e({email:i,password:a,displayName:c}),x("/"))}catch(w){alert(w.message)}finally{p(!1)}};return z.jsx("div",{className:"min-h-screen grid place-items-center px-5",children:z.jsxs("form",{onSubmit:m,className:"w-full max-w-sm rounded-3xl border border-zinc-200 p-6",children:[z.jsx("div",{className:"text-2xl font-semibold mb-2 text-brand-primary",children:t==="signin"?"Welcome back":"Create your account"}),z.jsxs("div",{className:"text-zinc-500 mb-4",children:["Sign in to ",t==="signin"?"your pharmacy account":"get started with us","."]}),t==="signup"&&z.jsx(Ad,{placeholder:"Full name",value:c,onChange:E=>f(E.target.value),className:"mb-3"}),z.jsx(Ad,{type:"email",placeholder:"Email",value:i,onChange:E=>s(E.target.value),className:"mb-3"}),z.jsx(Ad,{type:"password",placeholder:"Password",value:a,onChange:E=>o(E.target.value),className:"mb-4"}),z.jsx(iy,{disabled:h,className:"w-full bg-brand-primary text-white hover:bg-brand-primary/90 rounded-[7px]",children:h?"Please wait…":t==="signin"?"Sign in":"Sign up"}),z.jsx("div",{className:"mt-4 text-sm text-center",children:t==="signin"?z.jsxs(z.Fragment,{children:["No account? ",z.jsx("button",{type:"button",className:"text-brand-accent",onClick:()=>n("signup"),children:"Create one"})]}):z.jsxs(z.Fragment,{children:["Have an account? ",z.jsx("button",{type:"button",className:"text-brand-accent",onClick:()=>n("signin"),children:"Sign in"})]})})]})})}function mA(){const{user:r,logout:e}=Ao(),[t,n]=Xe.useState(!1),[i,s]=Xe.useState(!1);if(Xe.useEffect(()=>{r&&r.emailVerified},[r]),!r||r.emailVerified)return null;const a=async()=>{s(!0),await SI(r),n(!0),s(!1)};return z.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:z.jsxs("div",{className:"bg-white p-8 max-w-md w-full text-center",children:[z.jsx("h2",{className:"text-xl font-light mb-2",children:"Verify your email"}),z.jsxs("p",{className:"mb-4 text-zinc-600 text-[14px] font-thin",children:["A verification link has been sent to ",z.jsx("b",{children:r.email}),".",z.jsx("br",{}),"Please check your inbox and click the link to activate your account."]}),z.jsx("button",{className:"px-4 py-2 bg-sky-600 text-white rounded-full text-[12px] font-light disabled:opacity-50",onClick:a,disabled:i||t,children:t?"Verification Sent!":i?"Sending...":"Resend Email"}),z.jsx("button",{className:"block mt-4 mx-auto text-sm text-zinc-500 underline",onClick:e,children:"Log out"})]})})}function KQ(){const[r,e]=Xe.useState(""),[t,n]=Xe.useState(!1),[i,s]=Xe.useState(""),[a,o]=Xe.useState(!1),c=async f=>{f.preventDefault(),o(!0),s("");try{await zB(r),n(!0)}catch(h){s(h.message||"Failed to send reset email.")}o(!1)};return z.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-5",children:z.jsxs("div",{className:"w-full max-w-md text-center bg-white rounded-2xl  p-8",children:[z.jsx("img",{src:"/ForgotPasswordIllustration.png",alt:"Forgot Password",className:"mx-auto mb-4 w-28 h-28 object-contain"}),z.jsx("h2",{className:"text-xl font-light mb-4",children:"Forgot Password?"}),t?z.jsx("p",{className:"text-green-600 font-thin text-[14px]",children:"A password reset link has been sent to your email."}):z.jsxs("form",{onSubmit:c,className:"space-y-4 text-left",children:[z.jsx("input",{type:"email",className:"w-full border-b border-zinc-300 text-[12px] mt-2 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-200 focus:border-sky-400",placeholder:"Enter your email",value:r,onChange:f=>e(f.target.value),required:!0}),i&&z.jsx("div",{className:"text-red-500 text-sm",children:i}),z.jsxs("button",{type:"submit",disabled:a,className:"w-full rounded-full bg-sky-600 text-white text-[13px] font-light py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a&&z.jsx("span",{className:"inline-block h-4 w-4 border-2 border-white/70 border-t-transparent rounded-full animate-spin"}),a?"Sending…":"Send Reset Link"]})]})]})})}function XQ(){const{user:r}=Ao(),[e,t]=Xe.useState([]),[n,i]=Xe.useState(""),[s,a]=Xe.useState(""),[o,c]=Xe.useState(""),[f,h]=Xe.useState(!1);Xe.useEffect(()=>{async function m(){const E=await Xd(mi(ur,"products"));t(E.docs.map(w=>({id:w.id,...w.data()})))}m()},[f]);const p=async m=>{m.preventDefault(),h(!0),await bv(mi(ur,"products"),{name:n,price:Number(s),image:o,createdAt:new Date,pharmacyId:r?.uid||""}),i(""),a(""),c(""),h(!1)},x=async m=>{h(!0),await Ho(an(ur,"products",m)),h(!1)};return z.jsxs("div",{className:"max-w-xl mx-auto py-8",children:[z.jsx("h2",{className:"text-2xl font-bold mb-4 text-brand-primary",children:"Product Management"}),z.jsxs("form",{onSubmit:p,className:"flex flex-col gap-3 mb-8",children:[z.jsx(Ad,{placeholder:"Product name",value:n,onChange:m=>i(m.target.value),required:!0}),z.jsx(Ad,{placeholder:"Price",type:"number",value:s,onChange:m=>a(m.target.value),required:!0}),z.jsx(Ad,{placeholder:"Image URL",value:o,onChange:m=>c(m.target.value)}),z.jsx(iy,{type:"submit",disabled:f,className:"bg-brand-primary text-white",children:f?"Adding...":"Add Product"})]}),z.jsxs("div",{className:"space-y-4",children:[e.map(m=>z.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-3 bg-white shadow-sm",children:[z.jsxs("div",{children:[z.jsx("div",{className:"font-semibold text-brand-primary",children:m.name}),z.jsxs("div",{className:"text-brand-accent",children:["₦",Number(m.price).toLocaleString()]})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[m.image?z.jsx("img",{src:m.image,alt:"",className:"h-10 w-10 object-cover rounded"}):z.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded bg-zinc-200 text-brand-primary font-bold text-lg",children:m.name?.charAt(0)?.toUpperCase()||"?"}),z.jsx(iy,{size:"sm",variant:"destructive",onClick:()=>x(m.id),disabled:f,children:"Delete"})]})]},m.id)),e.length===0&&z.jsx("div",{className:"text-zinc-400 text-center",children:"No products yet."})]})]})}function YQ(){const r=o1(),e=lf(),{user:t,profile:n}=Ao(),[i,s]=Xe.useState(r.pathname),[a,o]=Xe.useState(0);Xe.useEffect(()=>s(r.pathname),[r.pathname]),Xe.useEffect(()=>{if(!t||n&&n.role!=="customer")return o(0);const p=_l(mi(ur,"users",t.uid,"cart"));return Wo(p,m=>o(m.size))},[t,n]);const f=!!new URLSearchParams(r.search).get("chat"),h=n&&(n.role==="customer"||n.role==="pharmacy")&&!f;return z.jsxs("div",{className:`min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32 ${f?"":"pb-24"}`,children:[z.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:z.jsx(RA,{})}),h&&z.jsx(HB,{tab:i,setTab:p=>e(p),cartCount:a})]})}function gA(){return z.jsx("div",{className:"min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32",children:z.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:z.jsx(RA,{})})})}function QQ(){const{id:r}=F6(),[e,t]=Xe.useState(null),[n,i]=Xe.useState(null);return Xe.useEffect(()=>{async function s(){const o=(await Gp(an(ur,"products",r))).data();if(t(o?{id:r,...o}:null),o?.pharmacyId){const c=await Gp(an(ur,"pharmacies",o.pharmacyId));i(c.data())}}s()},[r]),e?z.jsx(XB,{product:e,pharmacy:n}):null}function JQ(){console.log("Shell loaded");const{user:r,profile:e}=Ao(),t=o1(),n=new URLSearchParams(t.search);return n.get("scrollTo")&&parseInt(n.get("scrollTo"),10),r&&e===void 0?(console.log("Loading profile..."),z.jsx(LoadingSkeleton,{lines:4,className:"my-8"})):r&&!r.emailVerified?(console.log("User not verified, redirecting to /verify-email"),z.jsxs(G5,{children:[z.jsx(bs,{path:"/verify-email",element:z.jsx(mA,{})}),z.jsx(bs,{path:"*",element:z.jsx(I2,{to:"/verify-email",replace:!0})})]})):e&&e.role==="superuser"&&t.pathname==="/"?(console.log("Superuser detected, redirecting to /superuser"),z.jsx(I2,{to:"/superuser",replace:!0})):(console.log("Rendering main routes"),z.jsxs(G5,{children:[z.jsxs(bs,{element:z.jsx(gA,{}),children:[z.jsx(bs,{path:"/auth/landing",element:z.jsx(GQ,{})}),z.jsx(bs,{path:"/auth",element:z.jsx($Q,{})}),z.jsx(bs,{path:"/auth/forgot-password",element:z.jsx(KQ,{})}),z.jsx(bs,{path:"/verify-email",element:z.jsx(mA,{})})]}),z.jsx(bs,{element:z.jsx(gA,{}),children:z.jsx(bs,{path:"/superuser",element:z.jsx($m,{children:z.jsx(qQ,{})})})}),z.jsxs(bs,{element:z.jsx(YQ,{}),children:[e&&e.role==="customer"&&z.jsx(bs,{path:"/",element:z.jsx(KB,{})}),e&&e.role==="pharmacy"&&z.jsx(bs,{path:"/",element:z.jsx(zQ,{})}),e&&e.role==="pharmacy"&&z.jsx(bs,{path:"/products",element:z.jsx($m,{children:z.jsx(XQ,{})})}),z.jsx(bs,{path:"/product/:id",element:z.jsx(QQ,{})}),e&&e.role==="customer"&&z.jsx(bs,{path:"/cart",element:z.jsx($m,{children:z.jsx(ZB,{})})}),z.jsx(bs,{path:"/profile",element:z.jsx($m,{children:z.jsx(HQ,{})})}),z.jsx(bs,{path:"*",element:z.jsx(I2,{to:"/",replace:!0})})]})]}))}function ZQ(){return console.log("App loaded"),z.jsx(qB,{children:z.jsx(JQ,{})})}n6.createRoot(document.getElementById("root")).render(z.jsx(J6,{children:z.jsx(ZQ,{})}));export{Tn as _,eJ as c,vA as g};
